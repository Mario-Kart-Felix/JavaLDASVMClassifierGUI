WRC RESEARCH REPORT NO.  '194 
MATHEMATICAL MODELS AND OPTIMIZATION TECHNIQUES 
FOR USE I N  ANALYSIS AND DESIGN OF 
WASTEWATER TREATMENT SYSTEMS 
Chi-Chung Tang ' 
Department of C i v i l  Engineer ing 
E. Downey B r i l l ,  J r .  
Department of C i v i l  Engineer ing 
and I n s t i t u t e  f o r  Environmental  S t u d i e s  
John T. P f e f f e r  
Department of C i v i l  Engineer ing 
REPORT 
PROJECT N O .  S-092-ILL 
UNIVERSITY OF ILLINOIS 
WATER RESOURCES CENTER 
2535 Hydrosystems Laboratory 
Urbana, I l l i n o i s  61801 
November, 1984 
T h i s  r e p o r t  is based on t h e  d o c t o r a l  d i s s e r t a t i o n  o f  Chi-Chung Tang a t  
t h e  U n i v e r s i t y  o f  I l l i n o i s  a t  Urbana-Champaign. The a u t h o r s  thank M. T. 
Su idan ,  J .  W.  E h e a r t ,  and J .  S .  Liebman f o r  t h e i r  h e l p f u l  s u g g e s t i o n s .  
Also, S .  A .  Burns ,  B.D.C. Wong, P .  H .  H u t t o n ,  M .  Okumura, and J .  G .  Uber 
p rov ided  v a l u a b l e  a s s i s t a n c e .  T h i s  work was p a r t i a l l y  suppor ted  by t h e  
Water Resources  Cen te r  a t  t h e  U n i v e r s i t y  o f  I l l i n o s  under g r a n t  number 
S-092-.ILL. 
v 
ABSTRACT 
A mathemat ica l  framework is developed f o r  use  i n  t h e  d e s i g n  o f  a  
secondary  wastewater  t r e a t m e n t  sys tem.  Mathemat ica l  models p r e d i c t i n g  t h e  
performance o f  v a r i o u s  u n i t  p r o c e s s e s  a r e  used t o  c o n s t r u c t  a  comprehensive 
sys tem model. Three  e f f i c i e n t  o p t i m i z a t i o n  approaches  t o  g e n e r a t e  c o s t  
e f f e c t i v e  sys tem d e s i g n s  a r e  s t u d i e d .  The f i r s t  approach t r a n s c r i b e s  t h e  
comprehensive sys tem model i n t o  a  n o n l i n e a r  program t h a t  i n c l u d e s  64  
v a r i a b l e s  and 58 c o n s t r a i n t s .  A g e n e r a l i z e d  reduced g r a d i e n t  a l g o r i t h m  is 
a p p l i e d  t o  s o l v e  t h i s  model. The second approach u s e s  a n  e x i s t i n g  a l g o r i t h m  
f o r  s o l v i n g  g e n e r a l i z e d  geomet r i c  programs. P a r t i t i o n i n g  of  model v a r i a b l e s  
i n t o  two s e t s  is n e c e s s a r y .  A number of  geomet r i c  programming subproblems 
r e s u l t i n g  from t h e  p a r t i t i o n i n g  a r e  s o l v e d .  The t h i r d  approach decomposes 
t h e  wastewater  sys tem i n t o  a  l i q u i d  and a  s l u d g e  subsystem.  The l i q u i d  
subsystem is o p t i m a l l y  des igned ,  whi le  t h e  s l u d g e  subsystem d e s i g n  i n c l u d e s  
embedded o p t i m i z a t i o n  s t e p s .  The o v e r a l l  o p t i m a l  d e s i g n  is o b t a i n e d  from 
c o o r d i n a t i o n  between t h e  two subsystem d e s i g n s .  The comprehensive sys tem 
model can be used a s  a  t o o l  f o r  t h e  a n a l y s i s  of  p r o c e s s  performance.  
Impor tan t  i n s i g h t s  abou t  p r o c e s s  d e s i g n ,  modeling,  and i n t e g r a t i o n  can  be 
ga ined  by e x e r c i s i n g  t h e  model. P o t e n t i a l l y  f r u i t f u l  a r e a s  f o r  r e s e a r c h  can 
a l s o  be i d e n t i f i e d .  T h i s  is i l l u s t r a t e d  through t h e  u s e  of  an  example 
problem. 
Tang, Chi-Chung; B r i l l ,  E .  Downey, J r . ;  and P f e f f e r ,  John T .  
MATHEMATICAL MODELS A N D  OPTIMIZATION TECHNIQUES FOR USE I N  ANALYSIS A N D  
DESIGN OF WASTEWATER TREATMENT SYSTEMS, Water Resources  Cen te r  Research 
Repor t  1 9 4 .  Urbana,  I L :  Water Resources  C e n t e r ,  U n i v e r s i t y  of 
I l l i n o i s  a t  Urbana-Champaign. 
KEYWORDS: Wastewater t r e a t m e n t ,  mathemat ica l  models,  o p t i m i z a t i o n  
621 ............................................................................................................ L~cluluns 'S'I 
...................................................... 8 (5 uo!lcz!u~!ldg J~J 11xo~dd~ UO!~!SO~UIO~~(J .+'I 
.................................................................... 98 uo!lc'L!UI!ldg JOJ U-'~J!JO%IV J33I 'I'E 
........................... f.9 uo!lcz!m!ldo JOJ mq?!~o%lv ?ua!pcJa pa3npaU paz!lcJauaa 'z.1 
....................................................................................................... 19 uo!?3npo~?u1 '1.1 
....................... S9 13a011 N8LSAS 3AISNSIBUdkYO3 3HL d0 NOILF'ZIkVILdO 'E 
.................................................................................................... 8 I au!I?nO s!saqL 'P'T 
viii 
P a5e 
4.2. Primary Sedimentation ...................................................................................... 135 
4.3. Activated Sludge ............................................................................................ 141 
4.4. Secondary Sedimentation .................................................................................. 147 
4.5. Sludge Thickening ......................................................................................... 152 
4.6. An aerobic Digestion ......................................................................................... 163 
4.7. Vacuum Filter .................................................................................................. 165 
4.8. Design Under Uncertainty: A Multi-objective Approach ................................. 167 
............................................................................................................ 4.9. Summary 170 
5 . SUMMARY AND FUTURE RESEARCH .................................................................. 173 
5.1. Introduction ................................................................................................... 173 
5.2. Comprehensive System Design Model ............................................................... 174 
' 5.3. Optimization Techniques for Wastewat.er Treatment  Systenr h.fodel ............. 176 
5.4. Use of Model for Process Analysis ...................................................................... 178 
5.5. Future  Research ................................................................................................. 179 
APPENDIX 
A . COST FUNCTIONS O F  UNIT PROCESSES .................................................... 181 
I3 . ESTIMATING OPERATION COST FOR SLUDGE LANDFILL ........................ 191 
C . AN.GYSIS PROGRIZM FOR DESIGN O F  
..................................................... WASTEWATER TREATiLlENT SYSTEMS 102 
D . GRG hlODEL FOR BASE SYSTEhI DESIGN OPTIhlIZATION ........................ 200 
E . IGGP h.lODEL FOR BASE SYSTEhl DESIGN ..................................................... 217 
ix 
Page 
F. GRG MODEL FOR LIQUID SUBSYSTEM OPTIMIZATION .............................. 224 
G. SLUDGE SUBSYSTEM DESIGN .......................................................................... 231 
H. GRG MODEL FOR SYSTEM WITHOUT A PRIMARY CLARIFIER ................ 235 
I. G R G  MODEL FOR THE SYSTEM WHERE WASTE ACTIVATED 
SLUDGE IS RECIRCULATED TO PRIMARY CLARIFIER ........................... 241 
x i  
LIST OF TABLES 
Table 
2.1 - Modcls for Saspendcd Solids Rrrnovnl Efficiency in the Primary Settling 
Tank  ........................................................................................................................ 
2.2 - !'viodels for Organic  matter Removal Efficiency in the  Primary Settling 
Tank ........ ... .... .... ... ................. ................... .............. ..................... ...... ..................... . 
2.3 - Empirical Models Predicting Total  Suspended Solids Concentration in Secon- 
dary  Clarifier Emuent ............................................................................................. 
2.4 - Summary of Cost Functions .................................................................................... 
2.5 - Summary of Decision Variables in the  htodel ......................................................... 
2.6 - Bounds on the Decision Variables ........................................................................... 
2.7 - Base Design Conditions ........................................................................................... 
2.8 - Summary of Parameters in the  System Model ....................................................... 
2.9 - Decision Variables for Example Treatment System Design ................................... 
3.1 - Computing Experience in Optimizing Wastewater Treatment  Systeni 
Design ............ ...... . ..... . ... ..... ............. ............. .... . .... ............... ................ ... .......,.....,.. . 
3.2 - Summary of Wastewater Treatment  System Designs Obtained Using Diflerent 
Start ing Points ........................................................................................................ 
3.3 - Solution Obtained Using GRG with Dinerent Bounds on Selected Varial)les ...... 
3.4 - Exploring Design Space : Design No. 1 ................................................................... 
3.5 - Exploring Design Space : Design No. 3 ................................................................... 
3.6 - Exploring Design Space : Design No. 3 ................................................................... 
3.7 - Exploring Design Spacc : Design No. 4 ................................................................... 
3.8 - Exploring Design Space : Design No. 5 ................................................................... 
Page 
xii 
Page 
.................... . 3.9 Summary of Final ~ o l u t i o n s  Obtained From Solving Program (3.3) 86 
.......................................................... 3.10 - Summary of Cost Functions Used in IGGP 92 
.......................... 3.11 - Wastewater Treatment System Designs Obtained Using IGGP 95 
3.12 . Optimization of the Liquid Treatment Subsystem ............................................... 
3.13 . Optimization of the Liquid Treatment Subsystem ............................................... 
3.14 . Liquid Subsystem Design Optimization for Different Influent Conditions .......... 
3.15 . Approximate Designs of Wastewater Treatment System : 
Q,, = 1.0 3/hr ..................................................................................................... 
3.16 . Approximate Designs of Wastewater Treatment System : 
.................................................................................................... Qlo = 4.0 m3/hr 
3.17 . Approximate Designs of Wastewater Treatment System : 
Qlo = 7.0 m3/hr ..................................................................................................... 
3.18 . Fine-tuning Solutions in the Decomposition Approach ........................................ 
3.19 . Examination of Assumptions in the Decomposition Approach ............................ 
3.20 . Examination of Assumptions in the Decomposition Approach ............................ 
3.21 . Examination of Assumptions in the Decomposition Approach ............................ 
4.1 . Treatment  P lan t  Design Optimization : Base System Without 3 Primary 
Clarifier .................................................................................................................... 
.................... 4.2 . Final Designs li'itli and M'ithout a Primary Clarifier in the System 
4.3 . Summary of Wastewater Treatment System Design : Influent Volatile Biode- 
................................................................................... gradable Solids = 200 mg/l 
4.4 . Treatment  Plant  Design Optimization : Base System Without 3 Primary 
Clarifier. Influent Volatile Biodegradable Suspended Solids Concentration = 
200 mg/l .................................................................................................................. 
6SI ...... " ........................... sf. ,@ a%pnl~ .CJ~LLI!JJ 'quc~ %u!111a~ .i~cw!~d 01 pauJn1 
-a~ aZpn1~ palcq3y alscA\ : uo!?cz!ru!)do u%!saa rualsbg jo .i~cmmns - ~1.f 
8SI .............................................................................................. no!jcJlua3uoj aSpnl~ 
bJcm!Jd ao!mJa$aa 03 slapojy ?uaJaU!a bq so%!saa ~crn!)do jo uos!~cdmo3 - 11.p 
LSI ..................................................................................................... ~.f. a~nZ!d u! ma? 
-sbs aq? puu u~a?siig asca arl? JOJ su%!saa J~)sJ%!~ .<JCII~!J J JO UOS!JL'~~LIO~ - 01.f 
SSI .. " .... .............................................................................. 111C1 %u!]))~s .iJcIlI!Jd 01 
pauJn3aU a%pnls pa)cA!l3y a?scl\\ : uo!lcz!u~!ld~) oS!l;aa ma]c.i~ jo L~crnmns -C, f. 
............................................................................... uo!jc~g!~rlj a)aldrr~oj %II!~LI~S 
-SV [)au!e?qo uZ!saa ma1s.C~ ~UJI~I~U~JL alc.+\alse~\\ ICIU!~~~) JO .CJCIIIIII~S - s'f- 
xiv 
Page 
C.3 - Input Data to the Analysis Program : Decision Variables .................................... 196 
D.l  - Summary of hiode1 Variables: Base System ......................................................... 200 
D.2 - Description of the Constraints in the GRG Model ................................................ 211 
E . l  - Parameters that  are Unique in the IGGP Model ................................................. 217 
F.l - Summary of Model Variables: Liquid Subsystem .................................................. 22-1 
F.2 - Input Data  to  the Analysis Program: Liquid Subsystem ....................................... 225 
M.1 - Summary of Model Variables: Base System Without a Primary Clarifier ........... 235 
1.1 - Summary of Model Variables : Waste Activated Sludge Recirculated to  the 
Primary Clarifier ..................................................................................................... 241 
............................................................................. 1 P ~auaq>!q~ .Cj!.ic~3 aq1 JO uZ!saa - 9.z 
.................................... 6E a%pnls paJc.i!?sy aJsc.j\ puc dSpnl5 ~JVUI!JJ jo Su!puala - 9.z 
.................................................................. 0'2 ssaso~d a%pnl~ pa~c.i!l>y aqJ jo n%!saa - 1.'~ 
...................................................................... 9Z quc~ %u!l~las .<JCU!J~ aql jo uZ!saa - g'c 
.................................................. PZ ssssa>o~d q!u,l JO uS!saa ~oj uc~%c!a ~cuo!j>unj - c.-, 
xvi 
Page 
3.6 . Using IGGP for Optimal System Design: Total System Cost vs . Mass Fraction 
................................................................................................... of Primary Sludge 94 
.............................................................. . 3.7 Design Obtained From IGGP: fp = 0.487 97 
3.8 . Subsystem Formed By Tearing the Interactions Between Liquid and Sludge 
Processing Trains .................................................................................................... 100 
3.9 . Flowchart of the Decomposition Approach ............................................................ 106 
3.10 . Concept of the Decomposition Approach ............................................................ 107 
3.11 . Golden Section Search For the Optimal t ............................................................ 113 
3.12 . Total System Cost vs . Digester Supernatant Flowrate: Q,, = 1.0 m3/hr .......... 120 
3.13 . Total System Cost vs . Digester Supernatant Flowrate: Q,, = 4.0 m3/hr .......... 121 
3.14 . Total System Cost vs . Digester Supernatant Flowrate: Q,, = 7.0 m3/hr .......... 122 
................................ 3.15 . Best Design Obtained From The Decomposition Approach 
........... 4.1 . Performance of Primary Clarifier as Predicted by the Voshel-Sak Model 
................................ 4.2- Wastewater Treatment System Without a Primary Clarifier 
4.3- Final Design for the Wastewater Treatment System Without a Primary 
Clarifier .................................................................................................................... 
4.4- Best Design for the Bnse System: Influent Volatile Biodegradable Suspended 
.......................................................................... Solids Concentration = 200 mg/l 
4.5- Best Design for the System Without 3 Primary Clarifier: Inliuent Volatile 
.................................................. Biodegradable Solids Concentration = 'LOO mg/l 
.................. 4.6- Best Design for the Base System: Influent Soluble BOD, = 200 mg/l 
.............................. 4.7- Recirculation of Waste Activated Sludge to Primary Clarifier 
4.8- Best Design for the System \Vhere Waste Activated Sludge is Returned to Pri- 
.......................................................................................................... mary Clarifier 
xvi i 
Page 
4.9- Best Design for the System Where Waste Activated Sludge is Returned to  Pri- 
mary Clarifier: Primary Sludge @ 4% .................................................................. 
4.10- Best Design for the Base System: Improved Settling Properties of Digested 
Sludge ...................................................................................................................... 
4.11- Vacuum Filter Surface Area Requirement vs . Solids Cake Concentration .......... 
4.12- Approximation of the Noninferior Set  With Flow Safety Factor and System 
.............................................................................. Cost as Two Design 0bject.ives 
A.l- Cost Functions for Primary Clarifier ...................................................................... 
A.2- Cost Functions for Primary Sludge Pumping ......................................................... 
.......................................................................... A.3- Cost Functions for Aeration Tank 
....................................................... A.4- Cost Functions for Activated Sludge Aeration 
................................................................... A.5- Cost Functions for Secondary Clarifier 
............................................................. A.6- Cost Functions for Recirculation Pumping 
A.7- Cost Functions for Gravity Thickener .................................................................... 
................................................................... A.8- Cost Functions for Anaerobic Digester 
........................................................................... A.9- Cost Functions for Vacuum Filter 
H.1- Wastewater Treatment  System Without a Primary Clarifier ................................ 
............................... 1.1- Recirculation of Waste Activated Sludge to  Primary Clarifier 
CHAPTER 1 
INTRODUCTION 
1.1. P r e l i m i n a r i e s  
The  objective of present wastewater treatment plant design is to provide a cost 
effective processing system for a given wastewater. Such a system is relatively complex, con- 
taining a series of unit processes. Generally each of the  unit processes is designed to achieve 
a specific goal, and only limited consideration is given during the  design procedure to 
interactions among the  unit processes. I t  would be desirable, of course, for engineers to have 
design procedures tha t  take into full account the  tradeoffs tha t  are  possible among the unit 
processes. For instance, minor modifications in the design of the liquid waste treatment por- 
tion of a conventional plant may produce significant cost savings in the solids handling por- 
tion of the  plant. 
Design engineers, however, are generally limited to  using their past experiences and 
trial and error in considering these tradeofis for a small number of options. One reason is 
tha t  many of the unit processes are not well understood, and therefore a complete and com- 
patible set of unit process models is not available for use in comprehensive, systematic dcsign 
procedures. A second reason is tha t  only limited progress has been made in combining the  
existing knowledge of individual unit processes to  form comprehensive dcsign procedures. 
One approacll t ha t  researchers have identified is to connect various unit process 
models within an overall system model and to apply a matl~ematical  or enumerative optimi- 
zation technique. T h e  literature review in Section 1.3 provides an overview of the  consider- 
able progress tha t  has been made since the first work in this area was reported by Lynn e t  
al. in 1962. 
T h e  goals of lhis research are to  extend the current capabililics in combining unit pro- 
cess models within an overall optimization framework as an anaiysis and design tool, and to  
highlight research needs tha t  will improve the usefulness of unit process models in 
comprehensive system design. It is important  to  stress tha t  wastewater t r e a t n ~ e n t  plant 
design is a complex process and lha t  good designs generally cannot be achieved using only a 
mathematical, computerized model. T h e  best system models are designed for use as tools by 
designers, who ultimately have the responsibility for taking into account factors not con- 
sidered in the model. System models can be very userul, however, for obtaining an optimal 
solution for given input d a t a  and effluent requirements based on specified assumptions. By 
varying these conditions, the  designer can use the model to facilitate the evaluation of 
options and tradeoffs. 
Research in developing comprehensive design procedures is important  because the need 
for wastewater treatment will clearly continue to  require the commitment of significant 
resources a t  the national and international level. It is also important  t o  improve the under- 
standing of complete wastewater treatment systems so that  innovative regulatory 
approaches to  water quality management can be better evaluated. Examples of such 
approaches are time varying eflluent requirements tha t  change with receiving body condi- 
tions (see Reheis e l  al., 1982, for an illustration) and basin wide management of a particular 
pollutant using transrerable discharge permits (see Joeres and David, 1983, for a discussion 
of the  program recently implemented by the IVisconsin Department of Natural  Resources for 
the Fox River). In general, as more cost effective regulatory approaches are  developed it will 
be even more important  to  understand better the options and tradeoffs ir: wastewater treat- 
ment. Perrect understanding (e.g., or costs) cannot be expected, but  relative performances, 
costs, trends, etc. provide fundamental insights. 
In the remainder or this chapter,  research objectives and procedure are outlined in Sec- 
tion 1.2. Section 1.3 provides a thorough literature review or past research eflorts on the  
optimization of wastewater t,reatment system design. Several guidelines to improve this 
research over previous studies are summarized. Section 1.4 describes the organization of the 
thesis. 
1.2. Research Objectives 
Progress in developing comprehensive system models can be roughly divided into two 
branches: 1) efforts to develop models tha t  consider a wide range of unit processes and 
emphasize the selection from among them (e.g., an activated sludge process or a trickling 
filter) to form a treatment train, and 2) efforts tha t  focus on a particular process train 
(perhaps with some options) and tha t  emphasize the selection of design parameters (e.g., 
basin volumes). Models of each type can be used jointly since they emphasize different stages 
of the  design process. Models ~f the first type could be used in selecting a general plant lay- 
out ,  and models of the second type could be used in refining recycle flows and in selecting 
design parameters for the given layout. 
T h e  overall objective of this thesis is t o  extend research along the second branch 
described above by developing a comprehensive system model of a conventional activated 
sludge secondary wastewater treatment system; several variations of the  base treatment sys- 
tem are  also considered. There  are two major tasks under the objective: one is t o  develop 
efficient optimization techniques for solving the comprehensive system design model, and the  
other is to illustrate the use of the system model for the analysis of process performance and 
d ~ s i g n .  T h e  specific steps taken to achieve this objective are tlir followino,: 
1) Evaluate current  unit process models to determine their suitability for use in a 
comprehensive system model and design procedure, and construct an overall wastewa- 
ter system model which can be used to describe the performance of the system with 
given influent and design conditions. 
2 )  Develop and apply optimization approaches for the  design of the wastewater treatment 
system. Several approaches are examined for their applicability to  optimizing the 
comprehensive system model. 
3) Illustrate the use of the comprehensive system model as a tool for the  analysis of per- 
formances, integration, and limitations of unit processes considered in the study.  
Several variations of the base treatment system are modeled to verify the insights 
obtained from the design optimization of the base system. 
1.3. Literature Review 
Pas t  studies on the use of optimization models in the design and planning of wastewa- 
ter treatment and sludge disposal systems can be roughly divided into two general 
categories: Optimal process synthesis and optimal process design. Process synthesis studies 
deal  with the selection of the combination of unit  processes tha t  composes the least cost 
treatment system. Lynn , e t  al. (1962) pioneered the study of the optimal wastewater treat- 
men t plant synthesis. A network linear programming model was formulated to  represent 
the  BOD removal in a treatment plant t h a t  consists only of liquid waste treatment.  Many 
assumptions had t o  be made in order to render the optimization model a linear program. 
T h e  model was solved for the combination of unit processes t h a t  would remove a given 
amount  of BOD a t  the  least treatment cost. 
Evenson e t  a / .  (1969) applied dynamic programming to select the  unit processes t h a t  
would result in the  least cost design of a plant treating cannery processing wastes. Both 
liquid and sludge treatments were included in their system, with the  sludge t rea tment  train 
being a diverging branch in the dynamic programming framework. The  removal of BOD 
was considered t o  be the  only function of the plant. T h e  structure of the waste treatment 
plant ,  with each unit  processes represented 3s a lL~ tage ' l  and with the  absence of recycle 
streams, made the  application of dynamic programming possible. However, the  design of 
5 
unit processes in this study was very simplistic. 
S l ~ i l ~  and Krishnan (1969, 1973) also applied dynamic programming for the optimiza- 
tion of industrial waste treatment plant design. The  problem was formulated as an initial- 
Gnal s ta te  problem since the  characteristics of the raw waste and the requirement of the 
treated effluent quality represent the boundary conditions. The  performance of a unit  pro- 
cess was considered to  be its ability for removing BOD. The  Decision Inversion Method pro- 
posed by Aris e t  al.  (1964) was used to identify the least expensive liquid treatment system. 
T h e  same methodology of process optimization was again demonstrated on a simplified prob- 
lem by Shih and DeFilippi (1970). Lack of confidence in the performances of individual unit 
processes was considered by these authors a major handicap of the  study.  
T h e  study o l  Shih and Krishnan (1969) appears to  have attracted attention from other 
researchers. Ecker and McNamara (1971) formulated a geometric program for each of the 
process trains considered by Shih and Icrishnan. T h e  primal-dual relationship was used for 
solving these programs. T h e  flowchart tha t  has the lowest treatment cost was then 
identified by comparing the optimal cost of each process flowchart. Computational simpli- 
city and the  ease of performing sensitivity analysis for variations in effluent quality are 
features of the geometric programming approach for this problem. 
Adam and Panagiotakopoulos (1977) discussed the weakness of using linear program- 
ming, dynamic programming, and geometric programming for wastewater treatment process 
desisn optimization. They proposed a network approach as an alternative solution tech- 
nique fo'r the problem stutlicd by Shih and Krishnan (1369). Advantages of the network 
approach as  claimed by the authors included its capability of handling multiple wastewater 
parameters (other than BOD), its indifference to  the types of the cost [unctions and perfor- 
mance relationships, and its flexibility and ctficiency. Unfortunately, with a simple example 
problem, none of these adv:intages were demonstrated by the proposed approach. 
The  fact  t h a t  various: optimization approaches have been appiied to  solve the same 
process optimization problcrn is indicative of the many special characteristics contained in 
this problem. T h e  special arrangement of the unit  processes in the system or  the unique 
characteristics of the process performance relationships or cost functions may warrant  the 
application of a specific optimization technique or the deve!opment of an innovative optimi- 
zation procedure. 
Sterling (1976) conducted a similar study to  those discussed above on the optimal pro- 
cess selection and design using dynamic programming. Only BOD was included in the  
analysis of process performance, and the treatment included only liquid waste. 
Patterson (1977) also developed a dynamic programming model lor the  optimal process 
selection and design of a liquid waste treatment system. An effort was specially made to  
identify those flowcharts tha t  are good with respect to  the total system cost, bu t  diflerent in 
the units being included. This allows the  designer to  examine different flowcharts and 
tradeoffs among these systems in more detail. 
Mishra et  al. (1973) considered optimization of both the structure and the  design of a 
biological wastewater treatment system tha t  included only liquid waste processing. Struc- 
tural  parameters, or stream splitting factors, were introduced into the  model formulation t o  
specify the  arrangement of the  unit processes. These structural  parameters were continuous 
variables varying between zero and one. Both BOD and total suspended solids concentra- 
tions were modeled. Tho  objective function was not complete because only the  constrr~ction 
cost of t,he system was included. T h e  simples pattern search technique was employed t o  
opt,imize this nonlinear programming model. Because the  operation and maintenance costs 
were not included in the objective function, the optimal system selected by the technique 
was an activated sludge system, not a trickling filter system. 
Bush and Silveston (1978) considered the optimal synthesis of the  liquid processing por- 
tion of a complete waste treatment system. T h e  structural  parameter method used by 
Mishra e l  al.  was adopted. The constraints on the decision and state variables were 
espressed in terms of penalty functions. Five wastewater paranieters were modeled. T h e  
complex method by Box (1365) was selected as the optimization algorithm. 
While most efforts in optimal process synthesis focused on the liquid treatment system, 
Hasit e t  al.  (1981) studied the  optimization of a sludge management system using 3 mixed 
integer model. T h e  design of the sludge treatment and disposal units were based on empiri- 
cal loading factors to avoid nonlinearity in the model, and to make the  model amenable to  
efficient optimization. Since the process performances were not modeled, the  tradeoffs 
between performance and costs could not be evaluated. This model can be used to  minimize 
overall sludge handling, transportation, and disposal costs both for a single plant and for 3 
group of plants with or without centralized treatment.  
T h e  U. S. Army Corps of Engineers (1978) developed 3 computer program ( C t V D E T )  
in an effort to aid in the design of wastewater treatment facilities. T h e  design procedures 
for a wide range of physical, chemical, and biological unit processes were programmed (the 
1980 version of CAPDET contains 79 liquid stream processes and 14 sludge stream 
processes). Once the user specifies the unit processes to be considered for the  design, CAP- 
D E T  synthesizes and designs all possible treatment flowcharts tha t  can be constructed from 
these unit processes using user-provided or default design criteria. Among all designs exam- 
ined, the more cost-effective process trains and their detailed designs are  given to the user as 
outputs.  T h e  effectiveness or CAPDET as 3 screening device and design aid was demon- 
strated by McGhee e t  al. (1383). Some problenis cncountercd in the application of CAPDET 
were also noted by these autliors, among them the  most noticeable being the high computer 
user costs because of the enumerative nature of the program. 
Rossman (1979, 1980) also developed a computer-aided procedure for the synthesis and 
design of wastewater treatment and-sludge disposal systems. Information requirements from 
the user are  similar to tha t  for CAPDET. T h e  computational procedure uses implicit 
enumeration coupled with a heuristic penalty method that  accounts for the impact of return 
sidestreams from sludge processing. A unique feature: of this work is tha t  planning objec- 
tives other than system cost can be optimized in the  program. Alternative designs tha t  are 
energy efficient, or low in the initial construction cost, etc. can be identified and evaluated. 
The  optimal design of the  system is approximate in the sense tha t  discrete values for the  
decision variables are supplied by the  user. 
T o  summarize, optimal process synthesis studies often deal with a variety of wastewa- 
ter treatment unit processes. The  mathematical models are basically used as screening dev- 
ices for planning and design of wastewater treatment systems. They are  used as design aids 
to specify good process trains; but  the system design and performance in general cannot be 
predicted a t  a detailed level. If the tradeofIs among unit process designs or the  applicability 
of unit process models for design are to  be further explored, a process design optimization 
model will have to be employed. 
Process design optimization models usually employ fairly detailed mathematical state- 
ments to  describe the  perfcrmance of a specified configuration (or possibly a few variations) 
of unit processes. They d o  not deal with the breadth of the options considered by the  syn- 
thesis models. T o  use process synthesis models and process design models conjunctively, a 
process design model could be used in evaluating more thoroughly a process train selected 
using a synthesis model. 
Naito e l  a l .  (19G9) and Fan e l  a l .  (1970) studied the optimal design of an activated 
sludge subsyst,em consisting of aeration and final sedimentation. Various Bow regimes in the  
aeration tank were considered. The  simplex method of Nelder and hlead (1965) was 
employed to minimize the  total capital cost of the system. The  objective function was not 
complete since it left out  the operation and maintenance costs which often play an impor- 
t an t  role in the design of wastewater treatment systems. 
Berthouex and Polkowski (1970) investigated wastewater treatment plant dcsign under 
uncertainty. Uncertainty in performance of system components was considered by appiying 
the  concept of propagation of variance. Only the  liquid treatment train was optimized, 
sludge train design and cost estimation were based on typical design criteria. Thickening of 
activated sludge in the final clarifier was modeled by the limiting flux theory. T h e  pattern 
search technique of Hooke and Jeeves (ISGI), with modifications t o  handle inequality con- 
straints,  was applied to  solve this problem. Only a single local minimum was reported for 
the  problem. 
Scherfig et al. (1970) attempted to  optimize the design of an activated sludge system 
using geometric programming. The  primal problem of their model had a high degree of 
difficulty and was not amenable to the classic geometric programming solution approach. As 
a result, the system was decomposed into a sludge disposal system and a liquid waste t r e a t  
ment system. The  sludge subsystem was optimally designed using a search algorithm t o  solve 
the  dual problem. The  liquid treatment train was designed by experience. These authors did 
not coordinate the designs of the two subsystems t o  identify the overall optimal system 
design. T h e  capability of the classic geometric programming for solving the  entire waste 
treatment plant design was shown t o  be limited by tlie high degree of dificulty and the  lack 
of an efficient nonlinear programming technique. 
Parkin and Dague (1072) indicated tha t  an overall waste treatment system made up of 
individually op timized unit processes was seldom op tirnal. They assembled a design model 
for a treatment system that  included both liquid and sludge processing. Six decision vari- 
ables were identified and 720 alternative designs formed by dillerelit combinations of the  
values of the six decision variables were evaluated. This complete enumeration approach 
indicated tha t  more than GO% of the treatment alternatives investigated were a t  least 20% 
more expensive than the  least cost design. The  importance of the cost-eflective design of a 
waste treatment system was clearly demonstrated. 
Middleton and Lawrence (1074) presented 3. unique technique for optimization of the  
activated sludge system. By adopting the concept of sludge age and the  set of design equa- 
tions proposed by Lawrence and McCarty (1970)) they observed tha t  the  liquid and sludge 
process trains could be optimized independently for a fixed sludge age. An enumerative 
graphical search technique was developed based on the fact t ha t  each subsystem had only 
two decision variables. This optimization technique was specially designed to solve this for- 
mulation of the  problem. I t  would become more complicated and inefficient if recycle 
streams generated in sludge processing are  recycled to the liquid treatment train. 
Middleton and Lawrence (1976) applied the same optimization technique to  the  design 
of a sirnila: system where anaerobic digestion was substituted for aerobic digestion. Primary 
settling and sludge dewatering by vacuum filtration were also included. Simplifying assump- 
tions were made such tha t  the  number of decision variables in this problem remained the  
same as in the  previous problem even though more units were included. T h e  assumptions 
tha t  the  primary settling tank removes suspended solids a t  a constant  efliciency and tha t  the  
final settling tank performs perfect clarification are unrealistic. However, they are  essential 
for the solution technique to work. This is clearly a drawback of this approach. Only a sin- 
gle local minimum was found for this problem. T h e  overall system cost was found to  be 
quite insensitive to  the  sludge age. 
Craig el  al. (1078) used the  complex algorithm (Box, 1065) to design the  system studied 
by Middleton and Lawrence (1976). It was shown tha t  this nonlinear programming algorithm 
was much more eRicient than the  graphical enumeration technique previously used. Multi- 
ple start ing points were used in solving the  nonlinear programming model, bu t  only one local 
minimum was identified in this problem. Since the  formul;ztion had been purposely res- 
tricted by Middleton and Lawrence to  include only five decision variables, the  complex algo- 
rithm worked satisractorily, outperforming the graphical enumeration significantly as far as 
computing time was concerned. The same algorithm was also successtully applied to  an 
optimal activated sludge operation problem by the same group o l  researchers (Hughey e t  al. ,  
1982). 
Bowden e t  al .  (1976, 1978) reported another effort to develop a computerized pro- 
cedure for wastewater treatment system design. Their model included liquid waste and 
sludge treatment units and recycle streams generated from sludge processing. Because of the  
presence of the recycle streams in the model, an iterative approach was used t o  determine a 
steady s ta te  solution. The  objective function value corresponding to  a set of decision vari- 
ables could not be determined until a steady-state design was obtained. T h e  search method 
by Powell (1964) was $elected as the  optimization algorithm. Although the  computational 
experience was not explicitly reported, it is expected tha t  the overall opt.imization procedure 
would not be very efficient beca~ise of the  time requirement for obtaining the steady-state 
design by iteration. 
In his study of sensitivity of the  optimal wastewater treatment plant  design with 
respect t o  s ta te  variables and technological parameters, Voelkel (1978) assembled an optimi- 
zation model for a complete wastcwatcr treatment system that  contains recycle streams from 
sludge processing. Nine degrees of freedom were identified in his model. A modified com- 
plex algorithm was selected as the  optimization technique. Voelkel applied the equation ord- 
ering algorithm of Rudd and Watson (1968) to  select the decision variables in his model. 
Fixing the  values of these selected decision variables permits more efficient solution for the  
steady-state design than the  iterative approach. Voelkel did not report any computational 
experience with his optimization approach, nor did he discuss the quality of the solutions 
obtained from using this search technique. 
Based on the  above studies tha t  used search techniques for optimization of wastewater 
t rea tment  system design, it appears tha t  these methods are not computationally efficient 
because of the  nature of these methods and the need for obtaining 3 feasible solution by 
iteration. Although these metliods are straightforward, they are likely to  be very slow in 
obtaining the optimal system design for a complex arrangement of unit processes. 
An optimization procedure that  incorporates embedded optimization steps may serve 
well for the  purpose of process design optimization. Tarrer  e t  al. (1976) studied t,he 
activated sludge design under uncertainty. In developing their solution strategy, Tarrer  e t  
al. assumed tha t  either the  effluent BOD or total suspended solids constraint would be limit- 
ing if a least cost design is to  be achieved. They subsequently developed a solution pro- 
cedure with embedded nonlinear programming steps for the  optimal design of their system. 
T h e  mnjor shortcoming of this work, however, is t h a t  it optimized only the  liquid t rea tment  
process train,  although the costs of sludge treatment were estimated using typical design cri- 
teria (and were included in the overall objective function). 
Grady (1977) outlined the steps for using discrete dynamic programming for optimiza- 
tion of the  activated sludge system. T h e  problem formulation was similar to  t h a t  of Tarrer  
e t  al., i.e., only the  liquid treatment train was considered. Grady observed t h a t  the problem 
could be formulated as three stages in series, each having one decision variable, provided 
tha t  the  sludge age was fixed. T o  implement the  solution procedure, the sludge age was first 
calculated from an assumed emuent soluble BOD requirement. Designs were then made 
based on this sludge age using dynamic programming. It should be noted t h a t  if the com- 
plete treatment plant design is to be optimized, dynamic programming may not be an 
attractive technique because of the recycle streams, branches, and additional s ta te  variables 
t h a t  would be required in the  system model. 
Lauria e t  al. (1977) considered optimization of an activated s h ~ d g e  s ~ ~ b s y s t e m  t h a t  
included aeration and final settling. Through substitutions they reduced the objective to  a 
function with only two variables. They solved the problem by using the classical calculus 
technique with Newton's method for solving systems of nonlinear equations. This approach 
would become impractical for a more complete treatment system because of the extensive 
computing requirements. 
Hughes (1978) employed the same design equations used by Laur is  e l  al. and optim- 
ized the system design using geometric programming. The  problem had ten degrees of 
difficulty and a concave objective function. A problem of this type  was considered unsolv- 
able by Scherfig c t  (11. in 1970. Advances made by Avriel e t  al. (1975), however, on the  
development of a solution technique for generalized geometric programs made the problem 
amenable to  very efficient solution. With only two degrees of freedom in the  problem, 
Hughes was able to  verify t h a t  his solution was indeed the  global minimum by mapping the 
response surface. 
Although their main objective was to  identify the most cost-efiective sludge treatment 
and management scheme, Dick e t  a l .  (1976, 1978, 1979, 1981) considered both the  liquid and 
sludge treatment trains and performed 3 sequence of very comprehensive studies on treat-  
ment  process selection and design optimization. The  interactions between the liquid and the  
sludge subsystems were considered in more detail than in previous studies. Side streams 
generated throughout the sludge processing train were assumed t o  be recycled to  the  liquid 
t rea tment  train. T h e  authors called for the use of fundamental design equations instead of 
empirical observations grounded purely on experience. Process models were complete except 
tha t  the  authors assumed a constant  emuent solids concentration from the secondary 
clarifier regardless of the design condition. This assumption is unrealistic since the  perfor- 
mance of the secondary clarilier varies signilicantly with the design and operation of the 
activated sludge subsystem. Based on their modeling work, the authors indicated t h a t  the  
physical properties of sludge influenced the optimal design t o  such an extent t h a t  more 
research on this aspect would be needed (Dick e t  a!., 1978). Predictive models for sludge 
characteristics as functions of basic design and operational variables were subsequently 
developed (Dick e t  al., 1979, 1081). 
Dick e t  al .  developed a computer program for the selection of the least cost 
configuration of unit processes among alternative sludge management schemes. Because of 
the presence of recycle streams in the system, this program calculates the design parameters 
iteratively until a steady state design is achieved. This information is used interactively 
with a nonlinear programming code. This code uses the penalty function approach with the 
Davidon-Fletcher-Powell me t l~od  (Davidon, 1959, and Fletcher and Powell, 1963) for the 
minimization of the resulting unconstrained problem. Dick e l  a l ,  recognized t h a t  the 
number of potential decision variables can be very great when complex systems are being 
optimized. They discussed the factors tha t  limit the number of desig~i parameters actually 
needed as decision variables for the  purposes of their study.  In the demonstration runs  
presented, the design of the  liquid train was fixed, i.e., the optirnization was carried ou t  for 
the sludge treatment system only. The  computational requirements of their approach would 
be expected to  increase considernbly if it is applied t o  the entire wastewater t rea tment  sys- 
tem. Dick et  al.  did not report an a t tempt  t o  verify tha t  the local optimum resulting from 
their solution strategy was indeed the global optimum, nor did lhey discuss the general issue 
of local optimality. 
Tyteca  e l  al.  (1977) presented a thorough review of mathematical models developed for 
or used in wastewater treatment process design and optimization. Based on this work, 
Tyteca  formulated an optimization model for a complete activated sludge system (Tyteca,  
1981). His model included quite detailed models for unit processes except t h a t  he assumed 
perfect clarification in the  secondary clarifier. The  model had eight degrees of freedom and 
was unique in tha t  dimensionless variables were used. The  model was formulated as a 
geometric program which allows eflicient computation of the analytical derivatives of the  
objective function and the  constraints and systematic input of model d a t a  when implement- 
ing the  optimizing code (Tyteca and Smecrs, 1981, Smeers and Tyteca,  198-1). T h e  authors 
discussed one potential problem with their approach: the use of inequality constraints to  
replace equations as required for the standard geometric program formulation. In view of 
the  size of this problem, Tyteca  and Smeers decided t o  employ a well-tested nonlinear pro- 
grnmming algorithm based on the generalized reduced gradient (GRG) method, rather than 
a special-purpose geometric programming (GP)  code. A more general study of tlie use of a 
GRG algorithm t o  solve geometric programs was carried out  by Ratner e t  a l .  (1978). They 
reported that  for many test problems GRG compared well w ~ t h  special-purpose G P  codes. 
An interesting conclusion of the Tyteca and Smeers study was t h a t  only a single local 
minimum was found for their highly nonlinear model. 
I<oelling (1983) used a quasi-enumerative se3rch procedure for optimization of sewage 
treatment plant design. His study concentrated on the  design of the activated sludge sub- 
system. Sludge processing units were then sized accordingly. The  model has two degrees of 
freedom. An interesting feature of this work was t h a t  three objective functions were con- 
sidered: the  total  system cost, the costs incurred by the federal government, and the  costs 
incurred by the  local municipality. It was observed t h a t  the "least cost1' design changes 
with different objective functions. Koelling concluded t h a t  a design reached as 3 comprom- 
ise of different interest gtoups seems to  be more realistic than that  obtained based on a sin- 
gle objective. 
Suidan el  a l .  (1983) formulated an optimization model for a simplified activated sludge 
system. Waste sludge was assumed to  be dewatered by vacuum filtration and incinerated. 
Separate sludge thickening was not considered and recycle streams frorn the sludge process- 
ing system were ignored. Consequently, it was possible to simplify the  model sufficiently t o  
have only two decision variables. The  univariate search technique was selected t o  solve this 
problem. Fibonacci search was employed for minimization in one dimension. It was 
reported t h a t  the  response surface was unimodal and very flat in the vicinity of the  
optimum. These researchers applied the limiting flux theory to  thickening in the primary 
settling tank and obtained an unrealistically high underflow solids concentration. As a 
consequence, they assumed that  only a fraction of the primary clarifier area was effective for 
sludge thickening. 
As shown in the  literature review, the s ta te  or the  a r t  has evolved considerably over 
the  last twenty years in the  application of optimization concepts to  wastewater t rea tment  
system analysis and design. There still, however, a re  areas vihere additional improvements 
can be made. The  following summary of guidelines for future work is from the  above discus- 
sion. These guidelines serve as a basis for the  development of the  comprehensive system 
model described in Chapter 2. 
1)  Construction, operation and maintenance costs: Both categories of costs should be 
included since different unit processes have dinerent relative costs for construction, 
operation and maintenance. 
2) Complete treatment system: T h e  sludge treatment and disposal systems should be 
optimized together. Since the  costs of these systenls comprise a large portion of the  
total system cost, designs based on optimizing only the liquid treabment train are not 
likely to  be optimal for an entire treatment system consisting of both liquid and sludge 
treatment units and sludge disposal. 
3) Descriptive process models: Mathematical models describing the  performance of units 
and interactions among units should be taken into account. For example, recycle 
streams from the sludge treatment system to  the liquid treatment system have often 
been neglected b u t  should be considered. Ultimate sludge disposal costs also must be 
considered. 
-I) Realistic assumptions: For many unit processes, a predictive modcl lor process pcrfor- 
mance is not avai1:ible due  to the  complexity of the process. Assumptions about  pro- 
cess performance are  necessary lor a complete design of the treatment system. Limita- 
tions of the state-of-the-art in this area are probably best exemplified by an assump- 
tion made by a number o l  researchers tha t  100% of the  solids are  captured in the  final 
settling tank.  Because a substantial portion o l  emuent BOD results lrom the  
.suspended solids. it is essential t ha t  a model relating the  design and operational 
parameters to  the final etlluent suspended solids concentralion be included in the  
optimization model. 
5) Meaningful constraints: Several previous studies have formulated the optimization 
problem with constraints on various design parameters or s ta te  variables. These con- 
straints are based on past experience rather than on scientific fundamentals. Such 
constraints have often been used to force the model to produce "reasonable" results. 
This limits the  usefulness of an optimization model by forcing it to work only in the  
range of variables found in conventionally designed systems. Important  insights on 
process research may be lost with such a restricted optimization model. However, 
empirical models should only be used in the ranges within which they are  developed 
when they are used to construct the overall system model. 
6 )  Efficient optimization technique: Many optimization methods used previously can be 
applied only to a special and limited process scheme or only when simplifying assump- 
tions about process designs are made. Few studies developed and presented methods 
t h a t  are  specially tailored to take advantage of the unique structure of a complete 
wastewater treatment system. 
One major purpose of this thesis is to make additional progress toward developing an 
efficient optimization method for use in designing a complete activated sludge t rea tment  sys- 
tem. Significant cost savings in water pollution control eflorts may ultimately be made pos- 
sible with the aid of such n method for treatment process design. Attempts are  made to  
incorporate many of the  internctions tha t  were omitted in previous s t ~ ~ d i e s  into an optimiza- 
tion model to  provide the  designer with realistic insights about system design. Three  optimi- 
zation approaches tha t  can be used efficiently to  solve a complete mathematical model for 
t,he waste treatment system design are also presented. 
A treatment plant design optimization model has been perceived by a number of 
researchers as a means to  obtain the least cost system design. This role of an optimization 
model is suggested by the very nature of the optimizstion concept. T h e  planning and design 
of a wastewater treatment system, however, is a complex problem. Many important  issues 
such as energy requirements and system reliability may not be captured in a cost- 
optimization model. As a result, the optimal design obtained from solving such a model may 
only be meaningful mathematically. Another view suggests tha t  the  most appropriate role of 
this type of optimization model is as a decision-making aid. This role is more appropriate 
because of the  importance of unmodeled issues and the uncertainties associated with plan- 
ning a waste treatment system. T h e  other major purpose of this thesis is t o  illustrate the 
use of such an optimization model as a tool for the analysis of process performance. An 
optimization model can lead to  the examination of the  validity of process models from the  
cost-effectiveness point of view. Useful insights about process performance, integration, or  
limitations are gained as valuable by-products from exercising an optimization model. 
1.4. Thesis Outline 
A comprehensive system design model of a wastewater treatment system is prerequisite 
for this research. Chapter 2 defines the base treatment system selected for this study,  and 
provides a review of the representative process design models tha t  describe the performances 
of those unit  processes included in the base treatment system. Design equations and cost 
information used for the  co~istruction of the  comprehensive system model are  also described 
in this chapter.  Several solution tcchniqucs examined for solving the  comprcticnsive system 
model arc tlescribcd in Chapter 3. together ivith Jiscussions of t l ~ ~  performances o f  thcse 
techniques. Chapter 4 cniphnsizes the use of thc optiniization nlotlel :IS a tool for system and 
process analysis. Insights obtained from optirnizing the  system design are  used as examples 
to  illustrate the  role of an optimization model. A summary,  epnclusions, and future research 
directions are  presented in Chapter 5. 
CHAPTER 2 
DEVELOPMENT OF THE COMPREHENSIVE SYSTEM MODEL 
2.1. Introduction 
Design of unit processes in a wastewater treatment system follows two general 
approaches in current practice. One approach is simplistic, and involves the use of empiri- 
cally determined design parameters. It has been observed qualitatively tha t  these design 
parameters affect the performances of unit processes. However, quantit3tiv.e measures of 
process performance cannot be obtained. As 3 result, designs based on past experience deny 
the engineers the opportunity to  analyze the interactions among unit processes in a waste- 
water t rea tment  system, which are essential to achieving a cost effective design. 
The  other approach for designing unit processes is to employ mathematical models 
which predict the process performance under given input and design conditions. Interrela- 
tionships among unit processes can be studied in detail to  strive for cost-eficiency; perfor- 
mances of unit processes can be predicted to  insure satisfactory emuent water quality. 
These process performance models may be developed from physical, chemical or biological 
principles, or from empirical d a t a  fitting; they m y  be time-dependent or time-independent; 
deterministic or stochastic. A thorough review of process performance models for unit  
processes typically employed in secondary waslewater treatment was given by Tyteca  e t  al. 
(1977). T h e  revlew of proccss performnnce rr~odels in this c l~npter  is intended to  highlight 
and updnte tha t  ellort. Time-dependent or stochastic moticls are not considered in this 
study.  Unit process performance models were selected based on this review, and serve as 
building blocks for the comprehensive system model. 
Ideally, a process model suitable for design should be able to  describe the unit process 
performance over a wide range of operating and influent conditions. It should reflect realis- 
tic process performance, and include all relevant process variables tha t  aRect the process 
performance. Based on these guidelines, models developed from fundamental principles were 
given Erst priority for use in constructing the  comprehensive system model because such 
models are valid regardless of the  external conditions. Models developed from plant-scale 
studies were then considered, followed by models developed in laboratories. For complicated 
processes for which only empirical models are currently possible, those empirical models tha t  
predict process performance consistent with fundamental knowledge of treatment processes 
or with observed process responses were preferred. Since the  development of an empirical 
model is generally specific to the system studied, the  limitations of such models should be 
recognized. 
Assuming tha t  cost efficiency is a primary objective in the design of a wastewater 
treatment system, it is appropriate to write the  comprehensive system model in the  form of 
an optimization model. T h e  objective function is to minimize the  total system cost, which 
includes capital, operatiod and maintenance costs. T h e  constraint set in the  model is a col- 
lection of the  independent design equations for all unit processes in the  system and the  mass 
balance relationships among the interconnected units. Restrictions on emuent water quality 
are also imposed on the  design of the system as constraints. 
T h e  base wastewater treatment system selected for this study and the  definition o f  the  
variables in the  model are described in Section 2.2. Section 2.3 presents process performance 
models for units included in the  base treatment system. Representative models for designing 
each unit process are reviewed, followed by the  mathematical expression of a particular 
model tha t  is incorporated into the overall system model. Section '7.4 deals with the  formu- 
lation of the  objective function in the cost minimization model, and includes discussions 
about available cost information. Section 2.5 illustrates the  complete design procedure using 
the  comprehensive system model with a numerical example. 
2.2. System Description 
2.2.1. Flowchart 
A typical secondary wastewater treatment plant was selected as the base system for 
evaluation in this study. T h e  flowsheet of the plant includes primary sedimentation of raw 
wastewater, organic material stabilization by the activated sludge process, gravity thickening 
of combined primary and waste activated sludge, two-stage anaerobic digestion of the  thick- 
ened sludge, and sludge dewatering by vacuum filter. Final sludge disposal by sanitary 
landfill was assumed. Figure 2.1 depicts this study system. Supernatants generated in 
sludge processing were assumed to  be recirculated to  the  head end of the  plant for BOD and 
suspended solids removal. 
2.2.2. Definition of System Variables 
T h e  complete design of the  wastewater treatment system requires the  specification of 
three groups of variables: 
1) T h e  parameters are those quantities tha t  remain constant in the  design; examples are  
the biological coefficients in the activated sludge process, pumping eficiency, cost of 
energy, etc.. A complete list of the  parameters used in the system design and economic 
analysis is provided in Section 2.5. 
2) T h e  decision variables specify the dimensions or the design condition of a unit process. 
More specifically, the decision variables selected in Lhis study are: overflow ra te  of the  
primary settling tank (L,), mean cell residence time (O,), liydrauiic retention time (O), 
and sludge recycle ratio ( r )  in the  activated sludge process, solids loading on the  grav- 
ity thickener (Lg),  digestion temperature ( T d )  and solids retention time ( O J )  of the  pri- 
mary anaerobic digester, solids loading on the secondary digester (Ld),  and Blter yield 
from the  vacuum filter (L,). 
L A N D F  l L L  
I NFLIJEPIT E F F L U E N T  
\ 
f 
Figure 2.1 - Act iv~ted  Sludge Treatment System 
0 4 
S E T T L  l  NG 
A E R A T I O N  
3 ,  - 1 S E C O N b A R Y  
S E T T L  l N G  
8 
6 
7 
7 
9 
10 GRAV l T Y  
T H I C K E N I N G  
ANAEROB l C  
D l GEST l  ON 
(FR I MARY)  
13 
ANAEROB l  C  
D  l G E S T  l  ON 
(SECONDARY)  
14 
15 
j l ~ e  
v 
VACUUM 
F I L T R A T I O N  
L E G E N C  : 
-\ . 
-/ S L U D G E  
, I lIe;JiL 
7.  L I W  
3) T h e  s ta te  variables represent the wastewater characteristics a t  a particular stage dur- 
ing the treatment processes, and are defined a t  bhe seventeen control points shown in 
Figure 2.1. These s ta te  variables include flowrate, concentrations of soluble BOD6, 
active biomass, biodegradable and inert (with respect t o  aerobic stabilization) volatile 
suspended solids, fixed suspended solids, and total suspended solids. T h e  following 
notation and units for the s ta te  variables are  used in the development of the  
comprehensive system model: 
Qi = Flowrate a t  control point j, m3/hr 
Sj = Soluble BOD:, concentration a t  control point j, g/m3 
Maj = Active biomass concentration a t  control point j in kg/m3 unless noted otherwise 
Mdj = Biodegradable volatile solids concentration a t  control point j in kg/m3 unless noted otherwise 
Mij = Inert volatile solids concentration a t  control point j in kg/m3 unless noted otherwise 
M,j = Fixed, or inorganic, solids concentration a t  control point j in kg/m3 unless noted otherwise 
Mti = Total  suspended solids concentration a t  control point j in kg/m3 unless noted otherwise 
j = Index of the control point, j = 0,1, ... ,16. 
2.3. Problem Formulation 
T h e  constraints in the  comprehensive system model are described in this section. In 
general, t he  design of a unit process can be considered using Figure 2.2. Vectors Z; and Y; 
represent the  input states t o  unit i and outprit states from unit i, respcctively. Vector di 
denotes the  decisions made a t  unit i. T h e  input and ou tpu t  states are related by a transfor- 
mation function, or a tcchnological function, 
Y; = T;(Z;,d;) 
where Ti is a vector function tha t  defines the  performance of the unit process. 
T h e  total cost of unit i ,  c;, can be expressed as 
Figure 2.2 - Functional Diagram for Design of Unit Processes 
C; = ci(Z;,di) (2 .2 )  
T h e  Ti functions are described in this section, while the ci  functions are described in 
the next. 
2.3.1. Primary Sedimentation 
Primary sedimentation is provided mainly for the removal of influent settleable solids. 
Organic matter  in the  form of suspended matter  and semi-colloidal solids may also be 
removed from the wastewater. Fundamental  understanding of the solids removal mechan- 
ism is limited to the  ideal conditions of discrete spherical particles settling in laminar flow. 
T h e  overflow rate was shown to  be the  single most important  parameter controlling the  
solids removal efficiency according to  the theory (Hazen, 1904, Camp,  1916). In practice, 
however, because of the flocculant nature of :vastewnter and the  disturbance in the settling 
tank caused by hydraulic turbulence, density currents, scour and wind action, it is not  possi- 
ble to  apply this basic knowledge to design. 
Empirical relationships developed from plant operating d a t a  to  describe the suspended 
solids and organic matter  removal eficiencies in the primary settling tank are abundant  in 
the literature. Smith (1968) proposed tha t  solids removal efficiency is a function of the sur- 
face overflow rate. He developed a model using d a t a  from the W P C F  Xlanual of Practice 
(1959). Berthouex and Polkowski (1970) developed a linear model with respect to  the 
overflow ra te  based on the same data.  This model is mathenlatically simple, but  it is not an 
adequate representation of the observed data .  
Other researchers have found that  the  influent suspended solids concentration is also 
important  in predicting the solids removal efficiency. This observation seems reasonable 
considering tha t  sewage contains a large portion of flocculant particles. Voshel and Sak 
(1968) developed two models relating the solids removal efficiency to  both the  influent solids 
concentration and the overflow rate based on their plant-scale study performed in Michigan. 
In England, two models have evolved over the past decade for the  solids removal efficiency 
of primary sedimentation. The  model of Tebbu t t  and Christoulas (1975) was developed 
from a pilot-scale study and was shown to  describe plant  operating d a t a  adequately. T h e  
CIRIA (1973) model used detention time instead of overflow rate t o  represent the  hydraulic 
features of the settling tank. This model was based on d a t a  observed a t  sewage works in the 
London area. Dick e t  al. (1978) fitted the W P C F  (1959) d a t a  to  3 model of the  form pro- 
posed by Tebbu t t  and Christoulas. These models are summarized in Table 2.1. 
It is noted tha t  all models indicate tha t  the  solids removal efficiency increases with 
decreasing overflow rate and with increasing influent solids concentration when it is con- 
sidered. Parameters in the models represent the degree of dependence of the  solids removal 
on influent solids concentration and overflow rate. These parameters are related t o  the  
characteristics of the  influent to  the primary settling tank.  
Figure 2.3 is used to illustrate the design of the primary settling tank.  The  overflow 
ra te  is the decision variable of this unit,. The  model of Voshel and Sak is selected to  describe 
the  removal of total  suspended solids in the  primary settling tank.  T h e  fraction of influent 
suspended solids remaining in the primary emuent is calculated as 
where v 1 , v 2  and v ,  are positive parameters, and L p  is the overflow rate defined as 
Table 2.1 - Models for Suspended Solids Removal Efficiency in the Primary Settling Tank 
Suspended Solids Domain of 
Models Source of Data  
Removal Efficiencv Ex~er i rnen t  
Smith (1968) .82  exp(- .2112Lp) W P C F  (1959) .42<Lp <3.75 
Voshel and 
Sak (1968) 
1. .139dfi:7Lc" Voshel and 70<hf t1<160  
2. .340i\!;;~L,'~ Sak (1968) 1 .71<Lp<1.88 
(Polymer addition) 
Berthouex and .82  - .142Lp k W C F  (1959) ,42<Lp <3.75 
Polkowski (1970) 
Tebbut t  and 2 6 5  Tebbut t  and lOO<,Cf,, < l o 0 0  .955 exp(-- - .050+1Lp) 
Christoulas (1975) Mt 1 Christoulas (1975) 1.04< L, <6.25 
Dick e t  al. (1976) 
4 0  .84 exp(-- - .177Lp)  W P C F  (1959) .42<Lp <3.75 
Mt 1 
M,,--230 
Note -- L p  : overflow rate (rn3/myhr) 
Mtl : influent suspended solids concentration (g/m3 
1 : detention time (hours) 
Figure 2.3 - Design of the Primary Settling Tank 
Note that 'titl and , I t t2  are in g/m3, and the surface area of the primary clarifier, ,4p, is in 
Primary sludge concentration has been modeled by two approaches. T h e  first 
approach assumes tha t  this concentration is controlled by the  hydraulic limitations of the 
sludge withdrawal mechanisms. As a result, a constant  concentration is assigned to the  pri- 
mary sludge (see, for example, Voelkel, 1978). T h e  second approach uses the  diuerential 
thickening technique (see, for example, Dick and Suidan, 1975) which is based on the  limit- 
ing flux theory (Dick, 1972) to  calculate the  primary sludge concentration. Thickening con- 
s tants  for primary sludge can be obtained from batch settling tests. 
Many models have been proposed to define the  batcb sludge settling velocity as a func- 
tion of the  initial solids concentration (Vesilind, 1979). Vesilind (1968) proposed an exponen- 
tial relationship, 
ui = a' exp(-b1Ci) (2.5) 
where u; is the  batcb settling velocity, 
C; is the  initial solids concentration, 
and a' and b '  are empiric?~lly determined constants for the sludge. 
Berthouex and Polkowski (1970) used equation (2.5) to develop a mathematical expres- 
sion of the  limiting flux. 
GL = a'b1C; esp(-b1CU) 
where GL is the  limiting flux, and Cu is the underflow solids concentration. 
Dick and Suidan (1075) also derived an expression, equation (2.8), for calculating the  
limiting flux based on tho following batch settling velocity model proposed by Duncan and 
Kawata  (10G8), 
where Q, is the  underflow flowrate from a thickener, 
A is the  surface area of a thickener. 
and a and n are empirically determined constants. 
The underflow solids concentration from a thickener can be calculated as 
Dick and Young (1972) have shown tha t  equation (2.0) provides adequate prediction of 
pilot plant thickening data.  This equation is used to describe the sludge thickening in the  
overall system model. 
The thickening function of the primary settling tank is modeled, i.e., the primary 
sludge concentration is calculated, from equation (2.9) as 
where a, and n, are settling constants of the primary sludge obtained when the batch set- 
tling velocity is expressed in meters/hr and the sludge solids concentration in kg/m3. 
The  flow and mass balance relationships around the primary settling tank are 
Q1 = Q2 + Q8 (2.11) 
~ ~ b ! , ,  = &,hit2 + 1 0 ~ ~ ~ ~ 1 1 , ~  (3.12) 
A unit conversion Factor, lo3, is inserted in equation (2.13) since Aft, and h!,, are in 
g /m3 while A!!, is in kg/m3 
Empirical motlels predicting the removal of organic matter in the primary settling tank 
also exist in the  literature. Table 2.2 provides a sample of these models. Most of the 
models were developed from actual plant d a t a  except the one by Tebbut t  and Christoulas 
(1975) which was developed from a pilot-plant study. .4 common feature of these models is 
the lack of fit of the d a t a  to the pro~posed model, generally with R~ less than 0.6. Theretore 
none of these models is used in this study. Instead, the total BOD in the primary elf uent is 
modeled by considering the soluble and suspended portions respectively. 
The  soirrble BODj concentration is assumed unaffected by primary sedimentation, i.e., 
S2 = S ,  (2.13) 
S,  = S l  
The  concentrations of individual solids components are  calculated based on the  
assumption tha t  the settleable portion of each solids component is t he  same: 
Table 2.2 - Models for Organic Matter Removal Efficiency in the Primary Settling Tank  
Models BOD Removal Efficiency Source or D3ta  Domain or Exper iment  
Berthouex and  
Polkowski (1970) 
WPCF (1959) 
T e b b u t t  and 0.311 + 0.779e T e b b u t t  and 200 < ,\it, < 800 
Christoulas (1975). 411 Christoulas (1975) 0.26< e <0.63 (-) + 1.09 
M, ,
T e b b u t t  (1979) 0.08 + 0.508e W P C F  (1959) 0.2< e <0.8 
T e b b u t t  (1979) - 0.31 + l . 2 l l e  T e b b u t t  (1979) 0.6< e <0.8 
Th i s  model is Tor C O D  removal efficiency in the  primary sett l ing tank.  
No te  -- L p  : overflow ra te  (m3/rn"hr) 
hi t1  : influent suspended solids concentration (g/m3) 
e : suspended solids removal efficiency 
M,, 
Mo8 = M p l -  
'$1; 
where hlol, M d l ,  M i ,  and iVf1 and Ma,, Md2,  h1i2, M!2 are  in g/m3 
2.3.2. Activated Sludge 
The  activated sludge process consists of aerobic waste stabilization in the  aeration 
tank,  clarification o f  the aeration tank effluent and sludge concentration in the secondary 
clarifier, and recycle of the thickened sludge to the aeration tank to  maintain the microbial 
population (Figure 2.4). 
Tyteca  et al. (1977) have reviewed various kinetic models proposed for the design of 
biological wastewater treatment processes. Among the models proposed, the  first order 
models by McKinney (1962) and Eckenfelder (1966) and the Monod model by Lawrence and 
McCarty (1970) are  the  most widely accepted design models in practice. T h e  design equa- 
tions developed by Lawrence and McCarty are chosen as the  basis for design of the 
activated sludge process. The  aeration tank is assumed t o  be completely mixed. All 
Figure 2.4 - Design of the  Activated Sludge Process 
biological activities are  assumed to occur in the  aeration tank,  and the biodegradable volatile 
solids are assumed to be completely consurncd in the  tank,  i.e., M,, = 0. The  substrate util- 
ized in the  process, S ,  is then 
1.42 g BODL g BOD, 
S = S 2 + (  
g VSS )( 1.5 g BODL lMd2 - S3 
where Md2 is the volatile biodegradable solids concentration in the primary effluent, S, is the  
soluble BOD, in the  aeration tank effluent, and can be calculated as 
where K, is the  half-velocity constant, g BOD,/m3, 
k is the maximum specific utilization coefficient, day-', 
y is the  growth yield coefficient, g cell/g BOD,, 
b is the  endogeneous decay coefficient, day-' 
and 0, is the  mean cell residence time, days. 
T h e  mean cell residence time, by definition, is 
where V is the  volume of the aeration tank,  m3, 
Ma, is the  biomass concentration in the treated effluent, g/m3, 
Ma, is the  biomass concentration in the underflow from the secondary clarifier, 
0 is the hydraulic retention time in days, which is dcfincd as 
w is the  sludge wasting ratio defined as 
and 10"s a unit conversion factor, 
T h e  biomass concentration in the aeration t ank ,  A!a3, can be derived from the  mass 
balance relationship of the substrate as 
where is a unit  conversion factor. 
T h e  volatile inert suspended solids concentration in the mixed liquor is derived from 
the mass balance relationship and the assumption tha t  the solid compositions remain 
unchanged through secondary sedimentation, 
where f d  is the fraction of microbial cells t ha t  is degradable, and 10" is a unit conversion 
factor. 
Similarly, the  conccntrations of the fixed suspended solids can be calcrllatcd and a ratio 
defined, 
Mass balance of biomass around the aeration tank yields 
Qe . where r =- 1s the  sludge recycle ratio, and 1 0 ' ~  is a unit conversion factor. 
Q2 
The  oxygen requirement for aeration is estimated using the Lawrence-L,lcCarty Model 
3s 
where O2 is the oxygen requirement in kg/day,  and 2 4 ~ 1 0 - ~  is a unit conversion factor. 
The  air flow ra te  is calculated as 
where Qa is the air flow ra te  in m3 air/min, 
a and p are correction factors, 
y is the weight fraction of oxygen in air, 
C, is the dissolved oxygen saturation concentration a t  20C,  g/m3, 
D O  is the dissolved oxygen concentration maintained in the aeration tank,  g/m3, 
O T E  is the oxygen transfer efficiency, 
TL is the  temperature of the aeration tank content,  O C, 
pa,, is the  density of air, kg/m3, 
and (111440) is a unit conversion factor. 
A minimum requirement for mixing or the aeration tank content is imposed on the 
modcl lo  maintain the  complete-mk Bow required in the tank.  This constraini is trail- 
scribed as : 
Qa -27 (2.26) v 
where is the  minimum mixing requirement in m3/m3/min, whose value is assumed to be 
0.02. 
T h e  dissolved oxygen concentration maintained in the aeration tank is assumed to  be 
1.5 g/m3 so that  the  biological activity of a non-nitrifying activated sludge system will not 
be inhibited. 
2.3.3. Secondary Sedimentation 
A secondary clarifier performs two functions: clarification and thickening. Mixed 
liquor suspended solids (MLSS) from the aeration basin must be removed from the  plant  
effluent to  meet the water quality standards,  while the  settled solids should be concentrated 
for biomass recycle and further sludge processing. The  surface area of the clarifier is deter- 
mined from either the clarification or the thickening requirement (Dick, 1970). 
Clarification efficiency of the secondary clarifier is a critical factor in determining the  
efficiency of the entire waste treatment system for both BOD and suspended solids removal. 
The  effluent BOD from a secondary treatment plant consists of both soluble organics 
remaining or produced from the activated sludge process and the biodegradable suspended 
solids in the effluent. Depending on the operating conditions of the activated sludge process, 
suspended solids may account for more than half of the effluent total BOD. Thus  the degree 
of uncertainty inherent in 3 model of the clarifier is very important. Influent solids concen- 
t r i t ion  to a clarifier is usually in the range of 1500 to  3000 g/m3, or possibly even greater. 
Since the desired effluent concentration is in the 10 to  20 g/m3 range, removal efficiencies in 
excess of 99 percent are required. A slight deviation in this efficiency can have a pronounced 
impact on the  quality of the  effluent from the system. 
The  design conditions of both the aeration tank and the secondary clarifier affect the 
clarification efficiency. Parker  (1983) provided an excellent review of how these design con- 
ditions influence thc solids removal efficiency in the secondary clarifier. Becar~se of the  com- 
plesity involved in modeling the performance of this unit, a predictive r~iodel describing the 
clarification efficiency based on fundamental mechanisms is not currently available. 
Therc are, however, a number of empirical models in the literature tha t  predict the 
clarification performance of the secondary sedimentation tank (Table 2.3). Villiar (1967) 
developed a regression model based on results from bench scale experiments. Takarnatsu 
(s~noq) auoz ~cal3 u! au!? uo!,jnasjap = 11 
(u!u/,u) yucg uo!?.elae 03 a)el MO~ J!Z = '6 
(u) qqdap Jag'eM ap!s = H 
(~E~/SSTJC S/aoa 9) ua?sl(s azpnls pa?c~y3a aqg u! o!?c~ L~S!UESJOOJ~!~ 03 pooj = J~J 
Lm) J~IJ!J'~~ X~cpuo3as jo eale a3'ejJns = Iv : WON 
(~861) V?aU!a?I 0.09'8Z + ;08FZ- (~861) q?Eu!aX 
put uo!qs.c3 ~BGSE' - 08G'l + '01E't. - Z'8P pu'e uo!qsv~ 
(9~61) MaJPT 
pua Xqsna 
and Naito (1967) considered the  effects of flow conditions on clarification efficiency using a 
calcium carbonate suspension. Pllanz (1069) reported results from a series of in-plant stu- 
dies carried out  in Germany. These experiments were carefully controlled t o  simulate steady 
s ta te  operation. T h e  efRuent solids concentration was shown to be proportional to  the  feed 
flow ra te  and solids concentration. Sludge settleability, temperature, and wind were also 
shown to  affect clarifier performance. Lech (1973), Busby and Andrews (1975) and Keinath 
e t  al. (1977) have developed regression models from Pflanz's data.  
Agnew (1972) proposed two models based on in-plant operating data .  One of the 
models provided a satisfactory Et for short-term observations of efRuent suspended solids 
concentrations. However, this model did not adequately predict the clarifier performance 
under varying operating conditions over a long period of time. A second model was then 
developed from d a t a  representing a wide range of operating conditions and sludges with 
different properties. This model included design parameters for the  biological treatment unit 
as well as parameters representing the hydraulic efficiency of the  clarifier. Both of Agnew's 
models predict t ha t  the  effluent solids concentration decreases as MLSS concentration 
increases, which contradicts Pflanz's observations. 
Tuntoolavest e l  al. (1080) used a laboratory-scale pilot plant facility supplied with syn- 
thetic wastewater in an a t tempt  to  resolve the  issue over the effect of hfLSS on clarification 
efficiency and to  determine other design parameters t h a t  are  important  in influencing the  
clarification efficiency. Their results supported the  trend predicted by Pflanz, i.e., t h a t  the 
emuent solids concentration increases with higher LESS concentrations. They also observed 
t h a t  the  turbulence level in the aeration tank,  as measured by the  air Row rate in their 
study,  affected the  clarification eficiency. This observation was consistent with the  conclu- 
sion reached by Parker  e l  al. (1071) t h a t  tlie floc-destructing environment of the  aeration 
tank has a direct impact on sludge settling characteristics and the  clarification efficiency. 
The  thickening characteristics of the sludge were not found to  be significantly related to  
changes of the  design parameters they studied. 
Dietz and ICeinath (1982) presented a model based on a laboratory-scale s tudy using 
calcium carbonate as settling particles. I t  was shown that  the steady-state clarifier perfor- 
mance was most sensitive to the clear zone detention time in the clarifier. No consideration 
was given though to  the issue of upstream operating conditions in an actual treatment plant. 
Chapman (1983) studied the effects on clarification efficiency caused by a number of 
design variables. Among them, the side water depth of the clarifier. MLSS concentration, 
clarifier feed flow and underflow rates were found to have significant impacts on clarification 
efficiency. T h e  air flow rate, however, was not an important  factor. Chapman's results were 
also in agreement with Pflanz's observation that  the effluent solids concentration increases 
with the MLSS concentration. 
Cashion and Iceinath (1983)' studied the effects of solids retention time (SRT), 
hydraulic retention time (HRT), and clarifier overflow ra te  on the final clarifier solids remo- 
val efficiency in a laboratory-scale unit treating real wastewater. T h e  S R T  values in their 
study ranged from two to  eight days, and the H R T  values ranged from four to  12 hours. 
T h e  effluent solids concentration was found to  be insensitive to  the overflow rate. High 
solids removal was attained in the regions defined by low S R T  values and high H R T  values 
or high S R T  values and low H R T  values. No apparent correlation was observed between 
the solids concentration of the influent to the clarifier and the ef luent  solids concentration. 
Sludge settling characteristics were rcportcd by Bisogni and Lawrence (1371) tn be a 
function of sludge age. In their stutly with synthetic fced, activated sludge flocculated and 
settled better with increasing sludge age for sludge ages beyond three days. Dick e l  al. 
(1970) conducted similar experiments using real wastewater. They found that  the correla- 
tion between sludge settling properties and sludge age was not significant. They also 
observed tha t  influent suspended sdlids concentration exerted an effect on sludge settling 
behavior. It appears t h a t  currently there is no satisfactory model for predicting activated 
sludge settling characteristics a s  a function of operating parameters in the  aeration tank. 
The  soluble B O D ,  concenl;r:ition is assumed to be unchanged through sedimentation 
and sludge separation, i.e., 
S3 = S, = S, = S, = S, (2.27) 
The  total effluent BOD concentration includes both the soluble and the  suspended por- 
tions. The  effluent total suspended solids concentration is assumed to follow the  model 
developed by Chapman for the secondary clarifier. The  side water depth in Chapman's 
model is assumed to be a constant of 1.94 meters because the side water depth in the  origi- 
nal pilot study was varied over only a small range (1.48 to 1.94 meters) and the effluent 
solids concentration is not very sensitive to this depth. The  resulting model for secondary 
clarification becomes 
Q3 Mt4 = - c1 + c2Mt3 + c3- 
A J 
where Mt3 and 1 2 1 , ,  are  both in g/m3, 
A j  is the surface area of the secondary clarifier, m2, 
and c,, c, and c, a re  model parameters. 
The  effluent water quality requirements can be formulated as 
1.42 g BODL g BOD, 
s3 + ( g cell )( 1.5 g BODL If clu,, SBOD 
Mt, S ~ s s  (2.30) 
where SBoD and STss represent BOD, and total suspended solids restrictions, respectively, in 
the  emuent,  and are  in g/m3 
Since the  volatile biodegradable suspended solids are  assumed to be completely con- 
sumed during the activated sludge process (Section 2.3.2), 
T h e  ratios between the volatile inerts and the b ion~ass  and the inorganic solids and the 
biornass are assumed to be unnffectcd by secondary sedimentation or slridge separation. In 
other words, 
Dick (1970) discussed the importance of including sludge thickening as an integral part  
of the design of a secondary clarifier. T h e  underflow solids concentration from the clarifier 
is governed by the thickening model (equation (2.9)), 
where a, and n, are constants representing thickening properties of the waste activated 
sludge, and 
Q5 = (r + w)Q2 (2.34) 
Decision variables selected for the design of the activated sludge process are  the  mean 
cell residence time, hydraulic retention time, and sludge recycle ratio. 
2.3.4. Sludge Blending 
$ 
Figure 2.5 - Blending of Primary Sludge and Waste Activated Sludge 
Since the primary and the waste activated sludges are combined before thickening (see 
Figure 2.5), 3 set of mass balance relationships is needed to calculate the characteristics of 
the influent to the  thickener : 
Q g  = Q7 + Q8 (2.35) 
= Q7Mt7 + Qsltfts (2.36) 
Q g S g  = Q7S7 + QsSs (2 .37)  
The settling characteristics of combined primary and waste activated sludge have been 
studied by Dick e t  al. (1978) and Suidan (1982) using plant operating data .  Regression 
models were developed in both studies based on limited experimental da ta  to  relate the set- 
tling constants in equation (2 .7)  to the mass fraction of either the primary or the waste 
activated sludge. 
The empirical relationships developed by Suidan are used to  determine the thickening 
constants of the combined sludge: 
* 
where f p  is the mass fraction of the primary sludge defined as 
a l ,  a2,  and n ,  are constants and a,,  nc are constants characterizing the thickening of the  
combined primary and activated sludge. 
2.3.5. Gravity Thickening 
The design of the gravity thickener is illustrated by Figure 2.6. The  underflow solids 
concentration is again calculated from equation (2.9),  
1 - 1 
" nc )( A ,  )C 
Aft11 = lac(nc-111 = (- - 
n~ - 1 Qi i  
where A, is the  surface area of the thickener in m2. 
T h e  solids loading on the  thickener is the decision variable. By definition, it is 
Combining equations (2.41) and (2.42), 
T h e  flow and mass balance equations are  
QioMtio + Ql lh f ! l l  = Q9h49 (2.45) 
There  is no  model available t o  predict t he  overflow solids concentration, Aftlo.  As a result, 
this concentration is treated as a parameter in the model, and is given a value of 0.2 kg/m3. 
T h e  solids compositions in the  thickener overflow and underflow are calculated from 
mass balance relationships based on the  assumption tha t  thickening does not affect t he  
solids composition. For example, 
Figure 2.6 - Design of the Gravity Thickener 
Similarly, 
T h e  soluble BOD is assumed not affected by gravity thickening, i.e., 
2.3.6. Anaerobic Digester : Primary Tank 
Conventional designs of an  anaerobic digester use two-stage systems. The  primary 
digester is generally mixed and heated to the fermentation temperature. Most sludge stabili- 
zation occurs in this unit. The secondary digester is not  mixed and is primarily used to 
thicken the digested sludge. 
T h e  design of the primary digester depends on the kinetic model assumed for waste 
stabilization. There  are several modeling approaches for the design of the primary digester. 
Lawrence and h4cCarty (1969) developed design equations based on hlonod kinetics of sob- 
s t ra te  utilization. The  underlying assunlption for the Monod kinetics is t ha t  methane fer- 
mentation is the limiting step. Sewage sludge is a mix of complex organic solids, however, 
and it has been reported (PfeBer, 1968) tha t  except for very high loading rates, hydrolysis of 
the organic solids is the rate limiting step. A second modeling approach assumes t h a t  the  
stabilization ra te  is first order with respect to  the biodegradable (under an anaerobic 
environment.) volatile solids. The  percent volatile solids tha t  is degradable as weil as the  
first order ra te  coelFicient were found to be functions or digestion temperature for tempera- 
tures ranging from 25 to 35 O C (Pfeffer, 1981). 
Chen and Hashimoto (1979, 1980) also proposed a set of equations for predicting diges- 
tion performance. T o  use this model for design, the  biodegradable volatile solids concentra- 
tion must be determined as a function of fermentation temperature. 
Gossett and Belser (1982) studied the  effect of sludge retention time in the  activated 
sludge system on the performance of the  anaerobic digester. A first order reaction was pos- 
tulated for the conversion of active biomass in the digester influent into available substrate 
in the digester. T h e  effect of temperature on digestion ra te  was not studied 
Wise (1980) summarized experimental results from studies involving stabilization of 
various organic residues a t  different temperatures. A first order kinetic model was assumed 
for total volatile solids destruction. Figure 2.7 depicts the correlation between the digestion 
, 
ra te  coefficient and the fermentation temperature. T h e  mathematical expression describing 
this relationship is 
where K 1  is the first-order rate coefficient in day-',  and Td is the fermentation temperature 
in OC. This model is selected for primary digester design in this study because it covers a 
wide range of digestion temperatures. Consequently one decision variable for designing the  
prilrlary digester is the  fermentation temperature. 
T h e  primary digester is modeled as a complete-mix reactor where a11 sludge stabiliza- 
tion is assumed to take place (Figure 2.8). T h e  solids compositions in the digester effluent 
are  calculated based on the following assumptions: the volatile solids in the digester efRuent 
are assumed to be nondegradable in- the  aerobic environment and to  consist of no microor- 
ganisms tha t  are capable of aerobic degradation of organic material. These assumptions are  
K,, day-1 P 
Figure 2.8 - Design of the P r i n ~ a r y  Digester 
necessxy in order to  calculate the solids compositions of the digester supernatant  which is 
recycled to the  liquid processing train. T h e  inorganic solids are assumed to  be unaffected by 
anaerobic digestion. With these assumptions, the solids compositions of the primary digester 
effluent can be calculated as 
Vd where e d = -  
24Qi1 
is the  sludge age in days, which is equivalent lo  the hydraulic retention time for this diges- 
tion system without solids recycle, and 1/, is the volume of the primary digester in m3. T h e  
sludge age is the other decision variable for the design of this unit. No model is available for 
prediction of the soluble BOD6 concentration of the digested sludge (S,,) when Erst order 
kinetics is used t o  describe the performance of the primary digester. Therefore, it is 
assumed to  be a constant ,  500 g/rn3, in this study. 
T h e  flowrate of the digester emuent is 
T h e  methane gas produced'during digestion is calculated as 
kg B O D L  m3 CII, 
G = (1.42 
kg VS )'0'35 kg BOD,  
g B O D ,  m3 CH, + (1.5 
g B O D ,  )(0'35 kg BODL 
) ( 1 0 - 3 k ) ~ l l s l l  g 
where G is the  methane production ra te  in m3/hr. The  Erst term is the methane produced 
from stabilization or the volatile sr~spended solids, while the second term represents t h a t  
from the soluble organics. 
T h e  energy value of the  methane gas, E in kWhr/yr, is estimated to  be 
= 87113.3 G (2.53) 
T h e  heat requhements for raising the  influent sludge to  the digestion temperature,  qR 
in kWhr/yr, is 
= 10.22 X lo3 Qll(Td - TO) 
where To is the influent sludge temperature in C .  
Assuming t h a t  the digester is approximately cylindrical, and all digester units are  uni- 
form in size, then the heat loss of the digester to  the environment, q, in kkVl~r /~ r ,  can be 
estimated as 
qL = (8.76 k IVhr 
Wall -yr ) u v , a ( T d  - T,) 
where U is the average heat  conduction coefficient of the digester outside surfaces, iVall/m2-0C, 
a is the rat io of the  digester outside surface area to  its volume, m2/m3, 
and T, is the average ambient temperature in OC. 
47 
T h e  total heat requirement for the  digester to maintain its operating temperature is 
Q R  + QL 
q =  
where E is the  heat transfer efficiency or the heat exchanger. 
The  net  energy value of the digester gas is the energy produced by methane less the  
total  heat  requirement, or 
N = E - q  (2.57) 
where N is the net  energy value in kWhr/yr. This net  energy production from the  digestion 
system is given a cost credit of 2.37 dol lars l10~kJ  (0.25 dollars/therm) (Rimkus e t  a l . ,  1980) 
in the overall system economic analysis assuming the methane is used on site. 
2.3.7. Anaerobic Digestion : Secondary Tank 
T h e  secondary digester is assumed to  be unmixed and unheated, and is modeled as a 
gravity thickener with no methane fermentation taking place (Figure 2.9). T h e  underflow 
solids concentration, rrom equation (2.43), is 
where Ld = Q 14Mt 14 
Ad 
is the solids loading, 2nd the decision variable for this unit, 
Figure 2.9 - Design or the Secondary Digester 
Ad is the surface area of the secondary digester in m', 
a, 2nd n i  are settling properties of a fully tfigcstcd sludgt-, 
and 6 is a factor to discount the settling velocity of the  digested sludge. In practice, the  
gas production in the secondary digester may be suficiently high to cause some turbulence 
in the digester. The  rising gas will reduce the settling velocity of the digested sludge. 
preventing the  sludge from thickening to the degree expected from thickening theory alone. 
The  use of the factor 6 is intended to account for this observation. Initially, the  value of 6 
is assumed to be 0.25. T h e  sensitivity of the overall system design to this value is examined 
in Chapter 4. 
There  is no model available to predict the suspended solids concentration in the diges- 
ter supernatant,  :\ft13. Therefore it is treated as a parameter in the model and is assumed to  
be a typical value o f  4 kg/m3. 
T h e  mass and flow balances around the secondary digester are 
Q l c  = Q13 + Q14 
QicJft i2 = Q13hft13 + Qi4-bfti4 
The  soluble BOD, concentration is unaffected by this unit; therefore 
Sl2 = Sl3 = s14 
The  solids compositions are assumed to remain the same, or 
2.3.8. Vacuum Filtration 
T h e  design of the vacuum filter is shown schematically in Figure 2.10. Coackley and 
Jones (1956) compared several filtration theories and concluded t h a t  the model proposed by 
Carman (1033) fits experimental da ta  most adequately. They developed the  following equa- 
tion for calculating the  filter yield from Carman's analysis for given operating conditions and 
a sludge with known specific resistance, 
where Li is the filter yield in kg/m2/hr,  
x is form time per cycle time, 
P is the vacuum pressure applied in Newtons/m2, 
p is the viscosity of filtrate in Newton-sec/m2, 
r, is the specific resistance in m/kg, 
t, is the cycle time in minutes, 
and W =  Q ieM: le 
Q 16 
is the mass of solids filtered per unit volume of filtrate in kg/m3. Christensen (1983) has  
summarized the  values of specific resistance for various sludges t o  be dewatered. The  filter 
yield is the decision variable of this unit. 
Figure 2.10 - Design of the Vacuum Filter 
T h e  size of the  filter is 
A, = QleMtte 
J 
where A, is the  filter area in m2. 
The  mass and flow balance relationships around the  unit give 
Qi4Mti4 = Q15Mtis + Qieh*!~, (2.68) 
T h e  suspended solids concentration in the  filtrate (Mt1,) is assumed to  be a constant  of 2 
kg/m3 due  t o  the  lack of a predictive model. 
T h e  soluble BOD, concentration is the same throughout the  process: 
s 1 4  = S16 = Sib 
T h e  solids components are: 
2.3.9. Recycle Streams 
T h c  side streams generatrd in sludge treatment are recyclcd back t o  the hcad end of 
the plant for the  removal of the organics and the suspended solids (Figure 2.11). T o  arrive 
a t  a steady-state design of the system, flow and mass balances must be met where the recy- 
cle streams join the  influent stream to  the plant: 
= Qo + Q l o  + Q l 3  + Q i a  (2.71) 
.sar3~ u!luamar!nbar puq aql s! 7y araqm 
B1'jtrg1gZ-07 x Z9.1 = 7~ 
'(8~67) 'ID la 
93!a Lq padolaaap uo!lcnba %u!molloj aql %u!sn pa3cmysa s! luamar!nbar sarc pucl aqJ 
.ma?sLs ascq aql u! pamnssc s! llypuc[ Lrcl!nss 
Lq ~csods!a .sa!Sa)sqs luamaScucm a%pnls lcm!ldo JO ~namdola~ap r!aql u! (7861 '8~67) 
'ID la 93!a Lq L[aa!sualr;a papnls uaaq aacq Laql puc 'alqcl!cac arz suoydo ald!llnn 'smal 
-sLs luamlcarl ralnmaqsem jo lrcd ~zrSalu! uc s! aye3 aSpnls aql JO ~ssods!p alem!lln 
.rol3ej uo!slaauo3 l!un s s! E-~~ pus cEm/~ u! an O/jY PUF 'O!W 'Opjv 'OVjv alaqm 
(LL'Z) TljV + 1.'~~ + IPJq + IVj\l = IlJq 
m3 h r W ,  = ( & l , T ) ( 1 . ~ 4 ~ ) ( 1 0 6  ems)(24 -)( 1 ton  
r c m m3 day 9 . 0 7 2 ~  lo5 g 1 
2.4. Cost Information 
T h e  total  cost of the wastewater treatment system is the  sum of the  costs of all unit  
processes. Although cost d a t a  are abundant in the  literature, only those d a t a  t h a t  relate 
costs to  the capacities of the  units are useful for this study.  Smith (1968) developed cost 
functions from cost da ta  collected by Logan et  al. (1962) and Swanson (1966). Patterson 
and Banker (1971) presented the capital, operation and maintenance costs in graphical forms 
with respect t o  the  sizes of the unit processes. Cost functions have been developed from this 
information by Middleton and Lawrence (1975), the U. S .  Army Corps of Engineers (1978), 
and Rossman (1979). Dick et  al. (1978) also developed a set  of cost functions based on d a t a  
presented by Patterson and Banker, Metcalf and Eddy,  Inc. (1975), and Ettlich (1977). 
These cost functions were compared lor unit processes considered in this study using 
constant  year (1971) dollars. The  results of this comparison are summarized in Appendix A. 
Considerable variations in unit process costs were observed among different sources of data: 
Costs of wastewater treatment systems vary locally and depend on many factors. Therefore 
the  cost functions considered in this study are only meaningful in the sense tha t  they 
represent typical relative costs among unit processes. 
Cost functions selected for use in this study are summarized in Table 2.4. They a re  
based primarily on the d a t a  collected by Patterson and Banker. T h e  firm pumping capacity 
, , i I 
is assumed to  be two and a half times the  average daily flow. 
Costs for final sludge disposal by sanitary landfill a re  not listed in Table 2.4. These 
costs include capital and operation costs. T h e  capital cost is calculated according to  the  
equation presented by Rossman, - 
Table 2.4 - Summary of Cost Functions 
Capital Operation Maintenance Material Power 
and Supply 
1 1 9 i l $ / ~ r )  
( k lVhr /yr )  
Primary 8 2 4 ~ ; ~ ~  17. 15Ape (-4,2279) 9.23Ape ( A ,  2 2 7 9 )  8.62Apie - 
Clarifier 92.45Ap3 ( A p  <279) 106Ap14 ( A ,  <279) 
primary 16042Qt3 3 7 4 Q i 1  166 Q t 3  385Q;Ie4 23.85 Q , H / E , ~  
Sludge 
Pumping 
Aeration 461 v7' - 
Tank 
Diffused 8533 Qkee 187 Qi4, 74.4 Qib6 
Aeration 
Secondary 824A j77 1 7 . 1 5 ~  je ( A l  2 2 7 9 )  9 . 2 3 ~  je (.dl 2 2 7 9 )  8 . 6 2 A f e  - 
Clarifier 9 2 . 4 5 ~ j ~  ( A l  <279) 106Aj14 ( A l  <279) 
Return & 2779Qib3 .333Q6+390 .2375Qb+370 300 ( Q 6  <63.2) 23.85Q, l I /~ ,  
Waste 40.57Q;jS2 ( Q b  <252) 
Sludge 5.97Qig7 (Qb<632) 
Pumping 2.5dQb (Qb>632) 
Gravity 8 2 4 ~ 1 ; ~ ~  1 7 . 1 5 ~ ; ~  ( A , 2 2 7 9 )  9 . 2 3 ~ ; ~  ( ~ 2 2 7 9 )  8.62.4p - 
Thicker 92.45Ai3 ( A g  <279) 106A;14 ( A g  <279) 
Anaerobic 2323 V f g  1.29 Vig3 ( V d 2 5 6 7 8 )  0.83 V d 2 5 6 7 8 )  14.4 lriee ( Vd2"39)  - 
D~gester 14 Vib5 ( V d  21968)  8.5 Vib5 ( V d  21968)  142 V;" ( V d  <2839) 
192 b2 ( vd <1968) 113 b21 ( V d  <1968) 
vacuum 2 9 1 8 0 ~ ; ~ ~  197.55Qit8Mifg 5 . 5 7 Q i w i  (QleAI t l e2519)  230Qii1AI;:;+ - 
F ~ l t e r  ~ O Q ~ ~ ~ A I ; ~ ~  ( Q  ,, 1,,,2103) 182Qi~8L\1;~~ 
41.5Q;",8Al;:,8 ( Q l e i l l ~ l e  <103) 
Recirculation 2779 c ) ; ~ ~ ~  0.333 Q ,  +390 0.2375 Q ,  +370 300 ( ~ ~ 2 6 3 . 2 )  2 3 . 8 5 Q r l l / ~ ,  
Pumplng 40.57 Q;6" Q ,  <252) 
5.97 Q;87 ( Q ,  <632) 
2.54Q, ( Q r  >632) 
t H is the pumping head in meters, and E ,  is the pumping efficiency. 
C C  = AL CL + 62001;; 1VP.74 
where C C  is the  capital cost in present value (P.V.) dollnts, 
CL is the  unit cost of land, P.V. dollars/acre, 
and F, is a factor updating the cost from 1971 dollar to  the  present value. 
Equation (2.80) can be rewritten in terms of Q,, and ,lltl, by substituting (2.78) and 
(2.79) Tor AL and 1V,, respectively, 
C C  = 3.62 X 10-'CL Q1,httl, + 72053F., Q:z4 (2.81) 
The  annual manhours lor the  landfill operation is estimated using d a t a  from the  U. S. 
Environmental Protection Agency (USEPA) Process Design hlanual (1974), 
OHRS = 8024 Qp:e7 (2.82) 
where OII'RS is the  annual operation manhour requirement for a landfill. T h e  development 
of equation (2.82) is described in Appendix B. 
The  total annual cost in 1980 dollars is used to  express the  total system cost. A 
3 twenty-year design life and a 7-% discount rate are assumed t o  amortize the  capital costs. 
8 
The  USEPA National Average Wastewater Treatment  Plant  Index is used to  update  the 
capital costs and the costs for material and supply. Annual operation and maintenance 
costs are calculated by multiplying the manhour requirement by the  hourly wage rates. T h e  
cost for pumping is the product of the power requirement and the  unit power cost. 
2.5. System Design 
A complete set  of equnt.ions for designinq a secondary wastewater treatment system is 
presented in Section 2.3. T h e  design of the overall t reatment system lor specified influent 
conditions and decision variables using these equations is illustrated in this section. In 
Chapter 3, a comprehensive model assembled based on a subset of the  design equations 
described in Section 2.3 is presented. This model is optimized using a nonlinear program- 
ming algorithm to  generate cost-emective designs for the studied wastewater treatment 
system. Description of this model is provided in Section 3.2.1. 
There  are nine degrees of freedom in the wastewater treatment system model. There- 
fore a complete system design requires specification of nine decision variables. T h e  selected 
decision variables in the model are summarized in Table 2.5. 
Bounds are imposed on the decision variables in the comprehensive system model. 
Table 2.6 summarizes these bounds. Most of the  bounds cover typical range observed in 
practice for the  conventional activated sludge process. T h e  values of these bounds are  set 
arbitrarily, but  are relatively reasonable to avoid 'the possible lack or efficiency of an 
Table 2.5 - Summary of Decision Variables in the  Model 
Unit Decision Variables 
Primary Sedimentation Overflow Rate (L,) 
Activated Sludge (Aeration Mean Cell Residence Time (8,) 
+ Final Sedimentation) Hydraulic Retention Time (8) 
Sludge Recycle Ratio ( r )  
Gravity Thickening Solids Loading (Lg)  
Anaerobic Digestion 
-Primary Digestion Temperature ( T d )  
Solids Residence Tirne (Bd) 
-Secondary Solids Loading (Ld)  
Vacuum Filtration Filter Yield ( L , )  
Table 2.6 - Bounds on the  Decision Variables 
Variables Lower Bound Upper Bound 
Overflow Rate,  Primary Clarifier (m/hr )  0.5 6.0 
Mean Cell Residence Time (days) 2.0 6.0 
Hydraulic Retention Time (days) 0.1 0.5 
Sludge Recycle Ratio 0.1 1 .O 
Solids Loading, Gravity Thickener (kg/m"hr) 0.5 2.0 
Digestion Temperature ( C) 20 60 
Residence Time, Pr imary Digester (days) 5 30 
Solids Loading, Secondary Digester (kg/m"hr) 0.5 2.0 
Filter Yield (kg/m2-hr) 5 50 
optimization algorithm. Exceptions are the bounds on the activated sludge mean cell 
residence time and on the digestion temperature. Bounds imposed on the  mean cell 
residence time are  to prevent the process from failure. In addition to insure against process 
failure, the  bounds on the digestion temperature define the domain on which the empirical 
model (equation (2.48)) is based. T h e  solids concentration of the filtered cake is also con- 
strained to be less than 150 kg/m3 because the process model used for vacuum filter design 
does not predict a maximum cake concentration that  can be obtained in practice. If the  final 
solution obtained from optimizing t,he system design model suggests tha t  some of the  deci- 
sion variables are a t  their imposed bounds, then the roles of these bounds are examined in 
detail. This is carried out  in Chapter 4. 
Design of the  overall system may be carried out  using several approaches once the  
decision variables are  specified. A straightforward approach was employed in this study: unit 
processes are designed sequentially according to the system flowchart. Since only a few 
eqliations are  solved in the design of each unit process, the computation required for one 
iteration of design is not excessive. However, a steady s ta te  design cannot be obtained in one 
iteration because of the  presence of the recycle streams in the system. Characteristics of the  
recycle streams, however, a re  determined a t  the  end of each iteration. A new set of influent 
conditions to the plant is calculated by mass balance relationships between the design plant 
influent and the recycle streams. A new iteration is then initiated using the  newly calculated 
influent conditions. This direct substitution process is continued until the fractional changes 
of all influent s ta te  variable values becon$ less than lo-'. 
An analysis computer program was written to carry out  the calculations. Figure 2.12 
shows the logic on which the design of the analysis program is based. T h e  listing of the  pro- 
gram and the  instructions for using the  program are given in Appendix C. More efficient 
calculation schemes than direct substitution for updating the initial design conditions are  
available (Westerberg e t  al., 1979). However, since a typical steady-state design can be 
Figure 2.12 - Flow Diagram of the Analysis Program 
( Start ) 
I 
Input: 
(1) Design conditions, Vo 
(2)  Parameters 
(3) Decision variables 
1 
Influent conditions to  
the system, V, = Vo 
1 
Perform sequential design 
of each unit process 
b 
I 
Obtain recycle stream 
characteristics, V, 
1 
Calculate new influent conditions, VI1, 
from mass balance of Vo and V, 
No 1 
Let V 1 = V 1 ,  
Yes 
V 
Calculate total system cost 
achieved in less than ten iterations with computer time less than 0.3 seconds on the  CDC 
Cyber 175 computer,  the direct substitution strategy was considered adequate for this s tudy.  
An example system design obtained from using the analysis program is presented 
below. T h e  wastewater treatment system was assl~med to receive 3 typical domestic sewage 
with characteristics listed in Table 2.7. The  parameters in the model are tabulated in Table 
2.8. T h e  values of the  nine decision variables used for the system design are  summarized in 
Table 2.9. Figure 2.13 (refer to Section 2.2.2 for the notation) describes the complete system 
design obtained from the  analysis program for the conditions listed in Tables 2.7 t o  2.9. I t  is 
noted tha t  any arbitrarily selected values for the decision variables may lead to 3 design 
tha t  does not meet the effluent requirements or may result in a filtered cake more concen- 
trated than 150 kg/m3. Such a design is called an infeasible design. 
T h e  analysis program is useful for examining the responses from the  system model for 
given influent and design conditions and for generating system designs tha t  can be used as 
I 
start ing solutions in various optimization procedures. This is illustrated in more detail in 
Chapter 3. 
Table 2.7 - 'Base Design Conditions 
Flowrate ( m y h r )  1500 
Soluble BOD, (g/m3) 100 
Active Biomass Conc. (g/m3) 5 
Volatile Biodegradable Suspended Solids Conc. (g/m3) 100 
Volatile Inert Suspended Solids Conc. (g/m3) 45 
Fixed Suspended Solids Conc. (g/ms) 50 
Total  Suspended Solids Conc. (g/m3) 200 
Table 2.8 - Summary of Parameters in the System Model 
Names (LTnits) Value 
Economic Data: 
Capital Recovery Factor 
Base (1071) Cost Index 
Cost Index Tor 1980 
Operating/h,laintenance Wages jdollars/hr) 
Land Cost, CL (dollars/acre) 
Electricity Cost (dollars/ klVhr) 
Pumping Head, 11 (meters) 
Pumping Efficiency, E 
P 
Primary Sedimentation: 
Constant in Voshel-Sak Model, vl 
Constant in Voshel-Sak hlodel, v2  
Constant in Voshel-Sak Model, v, 
Sludge Settling Characteristics: 
Tbickening Constant, a, 
Thickening Constant, a ,  
Tbickening Constant, a2  
Thickening Constant, n, 
Thickening Constant, n l  
Activated Sludge Kinetics: 
Growth Yield Coefficient, y (g cell/g BOD,) 
Half-Velocity Constant, K, (g BOD,/m3) 
Maximum Specific Utilization Coefl., k (day-') 
Endogeneous Decay Coeficient, b (day-') 
Fraction of cells Degradable. j d  
Conversion (g BODL/g cell) 
Conversion (g 130DL/g BOD,) 
Secondary Sedirrlentation 
Constant in Chapman Modcl, c ,  
Const.ant in Chaprnan Modcl, c, 
Constant in Chapman hlodel, c3 
Aeration: 
Alpha Factor in Aeration 
Beta Factor in Aeration 
DO Concentration in Aeraton Tank,  D O  (g/1113) 
60 
Table 2.8 (continued) 
Names (Units) Val~le 
DO Saturation Concentration, C, (g/m3) 
Temperature of Mixed Liquor, TL ( ' C )  
Oxygen Transfer Efficiency, O T E  
Density of Air, pair (kg/m3) 
Weight Fraction of Oxygen in Air, y 
Mixing Requirement, 7 (m3 air/m3/min) 
Gravity Thickening: 
TSS of Thickener Supernatant,  M,,,  (kg/m3) 0.2 
Anaerobic Digestion: 
Temperature of Digester Influent, To ( C )  
Methane Production (m3/kg BODL) 
Average Ambient Temperature,  T ,  ( ' C )  
Efficiency of Heat Exchanger, a 
Heat Conduction Coefficient, U (W/m2- C )  
Outside Surface Area and Volume Ratio for Digester, a 
Worth of Digester Gas (dollars/lOO k J )  
Soluble BOD5 in Digester Supernatant,  S12 (g/m3) 
Factor Accounting For Effect of Rising Gas 
on Thickening in Secondary Digester, 8 
Thickening Constant for Digested Sludge, a, 
Thickening Constant for Digested Sludge, n, 
TSS of Digester Supernatant,  A!,, (kg/m3) 
Height of Digester (m) 
Vacuum Filtration: 
Form Time per Cycle Time, x 
Pressure Applied on Vacuum Filter, P (Nt/m2) 
Viscosity of Filtrate, p (Nt-sec/m2) 0 
Cycle Time, t ,  (min) 
Specific Resistance of Sludge, r, (m/kg)  
TSS of Filtrate, All , ,  (kg/n13) 
Emuen t  Standards: 
BODs Concentration (mg/l)  30 
TSS Concentration (me/])  30 
Table 2.9 - Decision Variables for Example Treatment System Design 
Decision Variables (Unit) Value 
Primary Clarifier Overflow Rate (m/hr) 3.0 . . 
Mean Cell Residence Time (days) 3.0 
Hydaulic Retention Time (days) 0.15 
Sludge Recycle Ratio 0.15 
Solids Loading on Thickener (kg/m2/hr) 1 .O 
Digestion Temperature (OC) 35 
Retention Time in Digester (days) 15 
Solids Loading on Digester (kg/m2/hr) 1 .O 
Filter Yield (kg/m2/hr) 8.0 
B- r '6 GE'L 
CHAPTER 3 
OPTIMIZATION OF THE COMPREHENSIVE SYSTEM MODEL 
3.1. Introduction 
As described in Chapter 2, the  design of a wastewater treatment system is formulated 
as an optimization model in which the  total system cost is to be minimized subject to the 
unit process performance models and the effluent water quality requirements. This chapter 
discusses the  techniques tha t  were used in this study for solving the  comprehensive system 
model. Illustrations of the  use of these solution techniques are presented, and performances 
of these techniques are discussed. 
T h e  comprehensive system model is highly nonlinear; the objective function and the  
majority of the constraints are  nonlinear. Most constraints are equations; exceptions are  the  
ones specifying effluent water quality and the  mixing requirement in the aeration tank.  T h e  
problem is poorly scaled, usually with overflow and underflow rates (expressed in the  same 
unit) from a separation unit differing in magnitude by several orders of ten. T h e  complex 
arrangement of the units in the system appears to make it impractical to apply dynamic 
programming as the solution technique even though stages and states are  clearly defined by 
the  model. One approach to  optimization examined in this study is to apply a well-tested 
nonlinear programming algorithm to solve the  comprehensive system model directly. T h e  
ger~ernlized red uccd grad icn t (GRG) algorithm dcvcloped by Lasdon el  al. (1978), named 
GRG2, has been applied to many liighly nonlinear programs with success. Studies of the  
computational experience with various constrained nonlinear programming methods have 
shown tha t  the GRG algorithm is among the  most efficient ones (Warren and Lasdon, 1979). 
GRG2 is well designed so tha t  it competes favorably with more advanced algorithms such as 
sequential quadratic programming in terms of robustness and reliability (Schittkowski, 
1983). Section 3.2 describes the  use of GRG2 to  optimize the  comprehensive system model. 
Special-purpose optimization algorithms developed for efficient solution of models with 
special characteristics may also be used to solve the comprehensive system model. T h e  
Interactive Generalized Geometric Programming (IGGP) code designed by Burns and 
Ramamurthy (1982) is an efficient algorithm with the capability of solving large-scale 
geometric programs. This algorithm is based on the primal condensation method proposed 
by Avriel e t  al. (1975). Burns and Ramamurthy extend this algorithm to solve problems 
with equality constraints. This extension allows the use of IGGP for solving tbe  comprehen- 
sive system model. This is illustrated in Section 3.3. 
A unique optimization procedure designed to take advantage of the  special structure of 
the wastewater treatment system model was developed and is evaluated in Section 3.4. T o  
solve the  comprehensive system model by nonlinear programming directly, all equations 
have to be solved simultaneously. This mathematical operation is very costly with respect 
to computing requirements. A wastewater treatment system is generally composed of a 
liquid processing train And a sludge processing train, each consisting of individual unit 
processes provided to perform various treatment functions. By decomposing the entire treat- 
ment system, 3 series of subproblems with lower dimensionality can be solved instead of a 
large problem. Optimization techniques can be applied more eflectively for solving these 
smaller problems, bu t  coordination of the  solutions is also required. 
3.2. Generalized Reduced Gradient Algorithm for Optimization 
T h e  generalized reduced gradient algorithm is an extension of the reduced gradient 
algorithm by Wolfe (10G3, 1967) to allow the  solution of problems with nonlinear constraints. 
T h e  earliest development of the algorithm was by Abadie and Carpentier (10GO). Later 
improvements of the algorithm have incorporated many strategies for solving subproblems 
during the overall optimization procedure (see, for example, tIimmelblau, 1972). GRG:! was 
used in this study.  
GRG2 solves the following general nonlinear program: 
Minimize c (X)  
subject to  g(X) 0 
h(X) = 0 
X, 5 X 5 Xu 
where c is a scalar objective function, and is the  total  cost of the wastewater treatment sys- 
tem in the comprehensive system model, 
X is the vector of the variables in the model, 
g is the vector of the inequality constraints, 
h is the vector of the equality constraints, 
and X,, and X, are  vectors representing the  lower and the upper bounds of the  variables, 
respectively. 
T h e  underlying concepts in developing GRG2 are described in detail by Lasdon et al. 
(1078). 
3.2.1. Optimization Procedure 
T o  make an  optimization run,  the user is asked t o  provide two Eles: one containing the  
program control parameter,  initial solution to  the problem, and bounds on the variables, 
and another specifying the model objective function and constraints. Instructions on using 
the  program on the  CDC Cyber computer can be found in the GRG User's Guide prepared 
by the  Computing Services Ofice a t  the  University of Illiriois (1082). 
T h e  optimization model solved by C R C 2  includes 6.1 variables and 55 design equations 
and three inequality constraints. T h e  model is constructed based on the design equations 
discussed in Section 2.3. Detailed descriptions about  the  variables and the  constraints in 
this optimization model are provided in Appendix D. 
The  control parameters in GRG2 are critical to the likelihood of obtaining convergence 
of the optimization procedure as well as to the quality of the final solution. The  derivatives 
of the functions were approximated by the central differencing method. An equality con- 
straint ,  g(X) = 0, is considered to  be satisfied when its value is in the (-neighborhood of 
zero, i.e., Ig(x)I 5 (. The  value of this tolerance, (, was initially set to  be The  objec- 
tive function generally improved significantly as the algorithm proceeded with this tolerance 
level. When the fractional change in the objective function became less than lo4 for three 
consecutive iterations, the value of ( was tightened to  lo4. Then a phase-I optimization, 
which minimizes the sum of the constraint infeasibilities, was initiated until a11 constraints 
were satisfied to  this final tolerance level and a feasible solution was found. Optimization of 
the true objective function was then begun until the termination criteria were met. The  
final solution obtained with this strategy was generally found to be superior to tha t  obtained 
using a tight tolerance level throughout the optimization. 
The  basic variables were estimated using quadratic extrapolation. The  one step ver- 
sion of the Broyden-Fletcher-Shanno variable metric method (see, for example, Avriel, 1976) 
was selected for generating search directions in the GRG2 runs. 
Scaling of the variables as well as the constraints in the model has a direct effect on 
whether the optimization will be successful or not. No general rules are available; scaling 
nonlinear programs, as described by Lasdon and Beck (1981), is a "black art". Most vari- 
ables in the model were scaled to have numerical values between 0.1 and 100 as suggested by 
the authors of GRG2. Some constraints were also scaled by trial-and-error in an a t tempt  to 
achieving a balance among all constraints. Scaling factors in the optimization model solved 
by GRG2 are discussed in Appendix D. 
3.2.2. Performance of GRG2 
The  elficiency of GRG2, the quality of the soiutions obtained, and the  effects on the 
solution of the  imposed bounds on the selected variables are  discussed in this subsection. 
T h e  computing time required for an optimization run varies with the  start ing solution 
and is highly dependent on the  quality of the final solution. For a11 the GRG runs made in 
this s tudy,  the computing time never exceeded two minutes of central processing (CP)  time 
on a CDC Cyber 175 computer when the program was run in batch mode with the  control 
parameter values specified in Section 3.2.1. A FORTRAN V compiler was used to  compile 
the  program tha t  contains the  objective function and the  constraints. 
Based on the results from a number of test runs, it was noticed tha t  varying some of 
the  control parameters may result in a slightly better solution or a slightly faster optimiza- 
tion process for a particular starting solution and set  of design conditions. However, in 
order for the results t o  be consistent and comparable, the  control parameters used for run- 
ning GRG2 were kept the  same for all runs. 
Computing experiences of some previous studies involving wastewater treatment sys- 
tem design models are listed in Table 3.1 for comparison. Although a straight comparison of 
the  computing time requirements is not meaningful, this table does seem t o  indicate tha t  the  
computing time using GRG2 for the comprehensive system model is a t  least comparable 
since the model solved is more complex than the others listed. 
Because the model is highly nonlinear, rnultiple local optima are expected t o  be 
present. Different start ing solutions were used t o  examine this issue. Table 3.2 summarizes 
the  results of using live diBerent start ing solutions. T h e  final solutions have objective func- 
tion values t h a t  vary from 502,000 t o  584,700 dollars/year, representing improvements in 
the  objective function from the  initial solutions from 17 (starting point No. 1) to  33% (start- 
ing point No. 5). All solutions call for designs tha t  produce emuents exactly meeting the  
Table 3.1 - Computing Experience in Optimizing W:lstewater Treatment  System Design 
Optimizstion Execution Time Machine 
Met,hod 
Comment s  
(seronds) 
T a n g  CRC:! 51-105. C D C  9 degrees of freedom, 
Cyber  175 58 constraints,  
64 variables. 
O the r  Investigators : 
Middleton & Lawrence Graphical  9 6 IBM 5 degrees of freedom, 
(1976) Enumerat ion  360165 N o  recycle. 
Craig e t  al. 
(1978) 
Box-Complex 1.65-2.82 C D C  5 degrees of freedom, 
Cyber  173 No recycle. 
T y t e c a  & Smeers C R C  for a 124263 IBhl  8 degrees of freedom, 
(1981) geometric program 3701158 35 constraints,  
33 variables. 
- - 
* For the  base t r ea tmen t  sys tem shown in Figure 2.1. 
BOD5 and total  suspended solids standards.  Among the  Eve start ing solutions, No. 4 and 
No. 5 differ only in the  primary clarifier overflow rate, but  the optimization results are very 
different. This  is due  to  the fact tha t  the  initial solutions are quite different in the values of 
variables other than the  decision variables. Figures 3.1 and 3.2 illustrate these two designs 
(notation is defined in Section 2.2.2). T h e  design obtained with the  higher overflow ra te  
(starting point No. 5, Figure 3.2) has a higher mixed liquor suspended solids concentration in 
the aeration tank and has to  waste more activated sludge for the same hydraulic retention 
time, sludge age, and sludge recycle ratio. Therefore the  combined primary and waste 
activated sludges in the two designs exhibit quite dirrcrent charncteristics which result in 
very different values of the  state variables when the sludge processing train is designed using 
the  same design criteria. T h e  importance of the choice of start ing solution when using 
GRG2 t o  solve the comprehensive system model is obvious from this example. 
The  solution obtained by GRG is directly related to  the bounds on the variables. This  
is best illustrated by an example. Two optimization runs start ing from the same solution 
Table 9.2 - Summary of Wastewater Treatment System Designs Obtained Using 
DiRerent Starting Points 
Variables (Units) 
Primary Clarifier Overflow Ra te  (m/dav) 
initial 
final 
Mean Cell Residence Time (days) 
initial 
final 
Hydraulic Retention Time (hr) 
initial 
final 
Sludge Recycle Ratio (%) 
initial 
final 
Solids Loading on Thickener (kg/m2/day) 
initial 
final 
Digestion Temperature  ( C)  
initial 
final 
Retention Time in Digester (days) 
initial 
final , 
Solids Loading on Digester (kg/m2/day) 
initial 
final 
Filter Yield (kg /mvhr )  
initia.1 
final 
Cake Solids Concentration (kg/m3) 
in i t id  
final 
Effluent BOD, (mg/l) 
initial 
final 
Effluent 'rSS (mg/l) 
initial 
final 
Tota l  System Cost ( lo3  $/yr) 
initial 
final 
Computer  Time ( C P  seconds) 
Starting Point 
1 2 3 4 5 
t : infeasible 


Table 3.3 - Solution Obtained Using GRG with Different Rounds on Selected Variables 
Variables (Units) 
Starting Solution With Solution With 
Point Default Bounds Modified Bounds 
Primary Clnrifier Overflow Rate (m!day) 36.0 80.0 43.8 
Mean Cell Residence Time (days) 2.0 2.22 2.26 
Hydraulic Retention Time (hr)  2.4 3.7 3.5 
Sludge Recycle Ratio (%) 15.0 11.6 11.5 
Solids Loading on Thickener (kg/rn2/day) 24.0 12.5 12.6 
Digestion Temperature (OC) 30.0 60.0. 60.0. 
Retention Time in Digester (days) 15.0 14.7 14.7 
Solids Loading on Digester (kg/m2/day) 12.0 38.4 36.3 
Filter Yield (kg/m2/hr) 10.0 6.79 6.92 
Cake Solids Concentration (kg/m3) 164.1 150.0. 150.0. 
EfIluent BOD5 (mg/l) 30.8 30.0 30.0 
EfRuent TSS (mg/l) 23.9 30.0 30.0 
Total  System Cost (lo3 $/yr) 678.0 506.1 517.5 
Computer Time (CP seconds) - 50.79 39.53 
* These values are a t  their specified bounds. 
(starting point No. 2 in Table 3.2) were made with slightly diflerent bounds on the decision 
variables. T h e  solution shown in the second column of Table 3.3 was obtained using the 
default bound set summarized in Table 2.6. In the second optimization run,  the upper 
bound on the primary clarifier overflow rate was changed from the default value of 144 to 
240 meters/day, and the lower bound of the solids loadings on both the gravity thickener 
and the secondary digester were changed from If! to 2:i kg/m2/day. These numbers have 
little physical significance and were used only for this experiment. The  results of this run 
are  summarized in the 1 s t  column of Table 3.3. It is observed that  the final objective func- 
tion vn111es are clilTcrent by 2.3%. Note tha t  none or the thrce decision varizbles for which 
the bounds were modified is s t  its bound in the linal solut.ion. Tlie ovrrllow rnie for the pri- 
mary clarifier in the two final solutions is the variable that  showed the most significant 
diflerence in the two designs. This appears to be 3 weakness of GRG2 since most bounds on 
the decision variables, as described in Section 2.5, were arbitrarily selected and have little 
fundamental significance. DiNerent nonbasic variables could be selected in GRGS if different 
bounds are  specified on the variables, resulting in diflerent optimization processes and 
diBerent solutions. Ideally, the optimal solution should not depend heavily on the  bounds 
specified for the  variables (which are not limiting the solution). 
T h e  solution process by GRC2 may terminate due t o  several reasons : a local optimum 
may be found, a feasible solution may be unxiailable in the  phase-I optimization, or some 
numerical difficulties such as scaling may cause the  solution process to  stop prematurely. 
Most of the  optimization runs presented in this study terminated because the  fractional 
change in the objective function was less than the specified tolerance for a specified number 
of iterations. T h e  characteristics of the final solutions of this type are uncertain since they 
may or may not be local optima. 
In summary,  the  solution obtained by GRG2 is observed to be affected by the start ing 
point, t he  bounds on the  variables, the tolerance levels of the equality constraints, the  stop- 
ping criteria, and the  various optimization strategies tha t  arc employed within the  GRG2 
optimization procedure. These difficulties associated with using GRG2 t o  optimize the  
comprehensive system model prompted the  development of a strategy t o  evaluate the  qual- 
ity of the solutions obtained and to  generate alternative good solutions t h a t  may be exam- 
ined further from a practical perspective. The  following subsection examines a strategy t h a t  
is designed for this purpose. 
Developing alternative procedures for optimization of the  comprehensive system model 
is also suggested by the difficulties of using GRG2. Sections 3.3 and 3.4 describe two alter- 
native solution procedures. 
3.2.3. E x p l o r a t i o n  o f  t h e  F e a s i b l e  Des ign  S p a c e  
Brill (1979) proposed t h a t  when using an optimization model of a complex planning 
problem with important  unmodeled issues it may be desirable to  use the m o d ~ l  to  explore 
alternative soln tions. These alternatives can then be evaluated with respect t o  the unmo- 
deled issues. The  first step in his Hop-Skip-Jump (HSJ) method is t o  obtain an initial design 
using a single or multiple objective procedure. The  next step thcn is to solve the following 
optimization problem : 
Minimize C z k  
kCK 
subject to fj(X) 2 Ti , W- j 
where K is the index set of those variables which nre nonzero in the initial design, 
fj(X) is the j t h  objective function, and is a function of the solution vector, X, 
Ti is the target specified for the j t h  objective, 
and Fd is the feasible solution space. 
This formulation is designed to generate a maximally different solution from the initial solu- 
tion. T h e  objective function space can be explored by solving a sequence of problems in the  
form of program (3.2), and alternative designs can be generated and examined 
Extending this idea by a slight modification of the objective function in program (3.2), 
we can explore the feasible design space of the wastewater treatment system model by solv- 
ing 
Optimize F (X)  
subject to c(X)  5 T (3.3) 
X  F,  
where the objective function, F ,  is a function of the variables, and may be minimized or 
maximized. This function may be formed a t  random or using knowledge or engineering judg- 
ment of the problem. The  totnl system cost, c(X),  which is the objective o l  the original 
optimization problem (program (3.1)), is constrained to be less than or equal to a target, T, 
which mny be arbitrnrily determined, or which may be the same as the cost of the solution 
obtained from GRG2. 
If a feasible solution can be obtaiqed from solving the constrained formulation (3.3) 
with T set t o  the  current best value of the  objective function, then the new solution will be 
a t  least as good. The  new solution may meet the  target exactly, bu t  it may represent a 
design tha t  is different from the  current solution. 
Table 3.2 reveals characteristics in the  decision variable values t h a t  result in cost 
effective designs of the  base wastewater treatment system. While all five final designs have 
similar values for the  mean cell residence time, hydraulic retention time, sludge recycle ratio, 
and solids loading ra te  on the  gravity thickener, i t  is noted that  "good" designs exhibit some 
special characteristics. Design No. 5 has its overflow ra te  on the primary clarifier a t  its 
upper bound (144 meterslday);  designs No. 2, 3, and 5 all have the  digestion temperature a t  
the  specified upper bound (60 O C ) ;  and designs No. 2 and 3 have the  cake solids concentra- 
tion a t  the  upper bound or 150 kg/m3. If these characteristics indeed lead to  a more cost 
effective design than other feasible designs, then it may be possible to  improve further the  
solution obtained from GRG by using program (3.3) to examine it with respect to  these 
characteristics. 
Program (3.3) was constructed for each of the Eve designs examined in Table 3.2. T h e  
objective functions and target values used to  form program (3.3) as well as the  results of 
solving program (3.3) are summarized in Tables 3.4 through 3.8. The  solution obtained from 
GRG2 using start ing point No. 1 was used as the start ing point in Table 3.4 with the  cake 
solids concentration being the objective function t o  be maximized. A different solution was 
obtained,  but  t.he total system cost remained the same. The  difference between the two 
designs is primarily in the sludge processing train because the objective function chosen is 
related directly t o  the design of sludge treatment units. This solution was then used as the  
start ing point for the next optimization where the overflow rate of the  primary clarifier was 
maximized. This run produced another different design with the  same total system cost. 
Ilowever, the  major difference between this and the  two previous designs is on the  liquid 
::::.1:1 I 't:.91 SC'L (spuo~as d3) aul!L ~alndulo3 
0 COS G'ZPS 0'CI.S IVU'J 
6';l : G'F.1.Y Ci';.f cJ [r!]!:~! 
(LC/$ ,o[) ?so,-,u1als.C~ Il:?oJ, 
00:: 0 OC 0'01' 1ruy 
O'OC 0.0: 0.0: IT!l!U! 
(l/Sm) SSL 'JU3nUJB 
0'06 O'OS O'OI: ITU'J 
O'OC O'OC 0'0'2 I"!?!U! 
([/Pm) 'sou ?uanw3 
U'OSI O'OSI O'OSI ITUY 
0'0'21 O'OSI G'C1.l lT!l!U! 
(Lm/UQy) uo!lclquaJuoj sp!los aye3 
111'9 qt.1 - A Ct 'L IT"Y PA': CF'L .. 11: LI 1 lT!l!u! 
(1~1/p/Py)  PI^!,^ la?l!d 
"11- 6'SC C'GC [Tug 
6% C'6C 6'GZ lT!?!U! 
(.i~p/,m/Py) la?saZ!a uo Bu!peoy sp!los 
P.81 L'81 L'81 IEUY 
L.81 "81 L'LI [T!I!u! 
(s,C~p) la~saZ!a u! >LII!L uo!luqax 
0'09 8'CF C'1-t- ITUY 
8'Cf. Z't-f 6't-F IT!?!U! 
(3 ) a~nlc~3drnaL uo!qsa%!a 
0.C I O'CI C'CI ITUY 
0'Cl S.CI V'CI [V!I!U! 
(.[ep/;ur/Py) lauaqJ!qL uo %u!peoy sp!log 
t.01 i.'O I :'CI ITUY 
t.01 L'CI L'CI I"!'I!U! 
(%) O!~TH a1363a~ a%pn[g 
C'F Z'f S'C ITUY 
C'F S'C S'C I'F!?!U! 
(lq) am!& uo!?ua?ax 3!1n.~pX~ 
61.Z GI'C OG'Z lCUY 
61.Z OZ'Z OC'Z [T!?!U! 
(sX~p) am!& a>uap!sax lla3 wary 
O'i-f 1 O'ft-l G'SI 1 ITUY 
O'ff 1 6'Sll 6'SI I IT!?!"! 
(X~p/ur) a?rx MoUla.to J~IJ!~CI~ X1~m!1d 
.ouiaj, uo!~sa;!a alxa moi11.j~~ .IALJ!.II:~;) ,~JXU!.I~I .3u03 SII!IOS ayz;) 
az!ru!xzj~ ae!m!xcjy az!m!x~ly (3!~i2) alqC!leA 
,I 'uo!?nlln:j a.t!i:~a(qg L. 
processing train. This solution was then used for a third optimization run,  and the  digestion 
temperature was maximized. The  total system cost improved sig~iificantly f r o n ~  542,000 to  
502,000 dollars/year. This cost reduction is the result of diflerent designs in the  sludge 
treatment system. Thus,  in this case, the modified HSJ approach ied to  an improved solu- 
tion in comparison t o  the  first solution obtained using GRG2. T h e  objective function value 
of the  improved solution is the same as the best solution obtained using GRG2 and listed in 
Table 3.2. 
Table 3.5 lists two optimization runs t h a t  started from the two final solutions given in 
Table 3.3, the solution obtained using start ing point No. 2 and another solution obtained 
using different bounds on selected decision variables. The  overflow rate of the  primary 
clarifier was maximized in solving program (3.3). Two designs with very similar characteris- 
tics in sludge processing were obtained. T h e  total system costs differ only slightly due  t o  the  
difference in the activated sludge process design; both designs have slightly better objective 
function values than those obtained so  Tar. This example illustrates tha t  the  eflect of the 
bounds on the GRG:! solution can become less critical if an HSJ type approach is followed 
(i.e., by solving the constrained rormulation of (3.3)). DilTcrcnt bounds on the variables or 
different control parameters used in runing GRG2 aflcct the solution in 3 complex problem. 
Solving the  constrained formulation provides confidence to  the solution quality, and gen- 
erates dimerent good designs. 
Final solution No. 3 in Table 3.2 was used as the start ing solution in Table 3.6. The  
primary clarifier overflow ra te  was first maximized. With the primary clarifier overflow ra te  
a t  its specified upper bound, there was one equality constraint not satisfied to  the  specified 
tolerance level. T o  continue the optimization, the decision variables in this infeasible solu- 
tion were used as input to  the  analysis program which generated a slightly diflerent solution. 
This solution satisfied all constraints in the model, but  the cake solids concentration violated 
its upper bound of 150 kg/m3. Program (3.2) WRS then solved r~s i r~g  this new start ing point; 
7 8 
Table 3.5 - Esploring Design  pace : Design No. 3 
Objective Function. F 
Variable (Unit)  Maximize Max~mize 
Primary Clarifier Overflow Rate  Primary Clarifier Overflow R3t.e 
Primary Clarifier Overflow Rate  (m/day) 
initial 80.0 43.8 
final 144.0 144.0 
Mean Cell Residence Time (days) 
initial 2.22 2.26 
final 2.19 2.19 
Hydaulic Retention Time (hr) 
initial 3.7 3.5 
final 3.8 4.2 
Sludge Recycle Ratio (%) 
initial 11.6 11.5 
final 12.5 10.0 
Solids Loading on Thickener (kg/m2/day) 
initial 
final 
Digestion Temperature  ( C) 
initial 
final 
Retention Time in Digester (days) 
initial 
final 
Solids Loading on Digester (kg/m2/day) 
initial 
final 
Filter Yield (kg/m2/hr) 
initial 
final 
Cake Solids Concentration (kg/mT 
initial 
final 
Effluent BOD, (mg/l) 
initial 
final 
Effluent T S S  (mg/l) 
initial 
final 
To ta l  System Cost  ( lo3  $/yr) 
initial 
final 
Computer  Time ( C P  seconds) 
Table 3.6 - Exploring Design Space : Design No. 3 
Obiective F~tnct ion.  F 
Variable (Unit)  M:~ximize Final GRG:! 
Primary Clarifier Overflow Ra te  Solution 
Primary Clarifier Overflow Rate  (m/day)  
initial 78.2 144.0 
final 144.0 14.1.0 
Mean Cell Residence Time (days) 
initial 2.22 2.19 
final 2.19 2.19 
Hydraulic Retention Time (hr)  
initial 3.6 4.2 
final 4.2 3.8 
Sludge Recycle Ratio (%) 
initial 12.2 10.2 
final 10.2 12.5 
Solids Loading on Thickener (kg/m2/day) 
initial 13.9 12.0 
final 12.0 12.0 
Digestion Temperature  ("C) 
initial 60.0 60.0 
final 60.0 60.0 
Retention Time in Digester (days) 
initial 12.9 13.0 
final 13.0 16.2 
Solids Loading on Digester (kg/m2/day) 
initial 41.6 37.2 
final 37.2 40.3 
Filter Yield (kg/m2/hr) 
initial 6.62 6.86 
final 6.86 6.69 
Cake Solids Conccntration (kg/m3) 
initial 150.0 155. L 
final 150.0 150.0 
Emuen t  BOD, (rng/l) 
initial 
final 
EfAuent T S S  (mg/l) 
initial 
final 
To ta l  System Cost  ( lo3 $/yr) 
initial 
final 
Computer  Time (CP seconds) 
One constraint is violated in this solution. 
the  final GRG3 solution is given in Table 3.6. The  total  system cost of this solution is com- 
parable t o  the best solution obtained so far (first solution in Table 3.5). Using the analysis 
program in this case helped to restart an optimization in which GRG2 failed t o  find a feasi- 
ble solution by solving simultaneous design equations. 
Table 3.7 provides another example of using the analysis program t o  restart  the  G R G  
optimization. Final solution No. 4 in Table 3.2 was used for the  first optimization run in 
Table 3.7 in which the cake solids concentration was maximized. T h e  primary clarifier 
overflow ra te  in this solution was then maximized. This resulted in an infeasible design with 
all constraints satisfied t o  l u 3 ,  but  not the  specified tolerance level of T h e  decision 
variables in this final solution, with a minor modification of the value of the  solids loading 
value on the  secondary digester, were used as input t o  the analysis program. This  
modification is necessary for the analysis program to  produce a feasible design of the secon- 
dary digester (i.e., the underflow solids concentration is higher than or equal to  the influent 
solids concentration). T h e  resulting design was used as  the new start ing point, and primary 
clarifier overflow rate was again maximized using program (3.3). A very different solution 
was obtained with an improved total system cost (from 551,500 t o  523,700 dollarsjyear); it is 
the  third solution listed in Table 3.7. Finally, the digestion temperature was maximized. 
T h e  solution obtained, the last in Table 3.1, has a total system cost of 501,200 dollars/year, 
which represents a 10% savings of the total  system cost from the  GRG2 solution 
Final solution No. 5 has the best objective function value among the five designs in 
I 
Table 3.2. blarginnl reduction of the total system cost, however, was observed when the  
cake solids concentration was maximized (see Table 3.8). An alternative design with a 
nearly identical total  system cost was obtained using a diflerent objective [unction. This  
objective function minimizes the solids loading on the gravity thickener. Consequently it 
has a larger thickener which provides a digester influent with higher solids concentration. 
This allows the primary digester to be smaller, yet  to  achieve the same solids retention time. 
8 1 
T a b l e  3.7 - E x p l o r i n g  Design S p a c e  : Design No. 4 
Objective F u n c t ~ o n ,  F 
Vzriable (Unit) 
Maximize Maximize Maximize Max~mize 
Cake Solids Primary Clarifier Primary Clarifier Digestion 
Concentration Overflow Rate  Overflow Ra te  Temperature  
Primary Clarifier Overflow Ra te  (m/day) 
initial 17.4 16.0 18.7 144.0 
final 16.0 18.7 144.0 144.0 
Mean Cell Residence Time (days) 
initial 2.36 2.37 2.36 2.19 
final 2.37 2.36 2.19 2.19 
Hydaulic Retention Time (hr) 
initial 3.4 3.3 3.5 4.2 
final 3.3 3.5 4.2 4.2 
Sludge Recycle Rat io  (%) 
initial 10.0 10.0 10.0 10.0 
final 10.0 10.0 10.0 10.0 
Solids Loading on Thickener (kg/ms/day) 
initial 13.2 13.3 13.1 12.0 
final 13.3 13.1 12.0 12.0 
Digestion Temperature  ( C)  
initial 60.0 60.0 59.8 50.0 
final 60.0 59.8 50.0 60.0 
Retention Time in Digester (days) 
initial 16.3 16.3 16.3 16.2 
final 16.3 16.3 16.2 16.1 
Solids Loading on Digester (kg/mZ/day) 
initial 36.6 36.2 35.3 30.0 
final 36.2 36.5 30.0 39.4 
Filter Yield (kg/m2/hr) 
initial 
final 
Cake Solids Concentration (kg/m3) 
initial 
final 
Effluent BOD, (mg/l) 
initial 
final 
Emuen t  T S S  (mg/l) 
initizl 
final 
Totnl  System Cost  ( l ~ " / ~ r )  
initial 
final 560.0 55 1.5' 523.7 501.2 
Computer  Time ( C P  seconds) 5.074 12.93 34.422 8.977 
* : Solution infeasible with respect t o  the  contraint tolerance of lo-', b u t  all satisfied to  
8 2 
T a b l e  3.8 - Exploring Design s p a c e  : Design No. .5 
Objective Function. F 
Variable (Unit) hlaximize Maximize 
Cake Solids Conc. Cake Solids Conc . -100~~* 
Primary Clarifier Overflow Rate (m/day) 
initial 1*4.0 144.0 
final 144.0 144.0 
Mean Cell Residence Time (days) 
initial 2.19 2.19 
final 2.19 2.19 
Hydaulic Retention Time (hr) 
initial 3.7 3.7 
final 3.7 3.7 
Sludge Recycle Ratio (%) 
initial 12.6 12.6 
final 12.8 12.7 
Solids Loading on Thickener (kg/m2/day) 
initial 12.6 12.6 
final 12.6 12.0 
Digestion Temperature (OC) 
initial 60.0 60.0 
final 60.0 60.0 
Retention Time in Digester (days) 
initial 13.9 13.9 
final 13.9 13.9 
Solids Loading on Digester (kg/m2/day) 
initial 40.4 40.4 
final 40.6 38.2 
Filter Yield (kg/m2/hr) 
initial 6.70 6.70 
final 6.67 6.80 
Cake Solids Concentration (kg/mq 
initial 143.7 143.7 
final 150.0 150.0 
Eflluent BOD6 (mg/l) 
initial 30.0 30.0 
final 30.0 30.0 
Emuent TSS (mg/l) 
initial 30.0 30.0 
final 30.0 30.0 
Total System Cost (10"/~r) 
initial 502.0 502.0 
final 500.1 500.5 
Computer Time (CP seconds) 6.052 12.386 
L is the solids loading on the gravity thickener as defined in Chapter 2. 
8 3 
These differences are given in Figures 3.3 and 3.4, which show the  details of these two 
designs. Since the  design of the liquid treatment train and the total  system cost of these two 
designs are  almost the same, the difference in the design or the thickener and the  digester 
irnplies t h a t  there may be many possible combinations of the  sizes of thickener and digester 
t h a t  would result in practically the same cost for sludge treatment.  
These illustrations show tha t  program (3.3) is potentially useful for generating altena- 
tive good designs for the  wastewater treatment system considered. By relaxing the  target  
values and forming difierent objective functions, many alternative designs can be produced 
which can then be evaluated for other important  issues not present in a cost minimization 
model. Table 3.9 summarizes the  final designs obtained from solving program (3.3) using the  
five solutions listed in Table 3.2. T h e  total system cost ranges from 500,384 t o  501,963 
dollars/year; the  differences are practically insignificant. These designs are similar because 
the objective functions used in obtaining them are similar. The  size of the primary digester 
represents the  most significant difference in the  sludge processing train design, while the  sizes 
or the aeration tank and the final clarifier are the  major diflerences in the  liquid train 
design. These solutions are discussed in more detail in Chapter 4. 
Finally, it was observed tha t  objective function values obtained using multiple start ing 
points varied considerably and the best value is 502,000 dollars/year (Table 3.2). All solu- 
tions obtained by solving program (3.3) achieved a better objective value than this. 
Although the  improvement may be small from a practical point of view for the particular 
wastewater treatment system model considered here, the diflerence could be greater in other 
cases. It suggests tha t  this strategy may serve as a useful fine-tuning step for solving such 
problems using GRG2. 
0-7- 
BJ CP'L 
zl" LEZ 
L
11 1 j3NVl 
IW 
;JU,+.JJ : Q i 
alnbli :t 
3cx7: :L 
\r I 
: a~m3i 
- - 
- 
- - 
0 
FSO' 
_etOV 
L+O' 
'050' 
1 c 
(St'L 
IL'DL -
It 
18E'L 
- 
LZL'O = J 
.ul g8g'Jy ;cr,L: nAmr6L'Z=za 
I E~I mwOS9S-n 1' 
ZUC' 1 
LLLC Y ibb sx A LO! LOLL 
* LG' -. ;F 
i LLFL 
-1 - 
ICLTL , 
-
lN3rl23' 
Table 3.9 - Summary of Final Solutions Obtained From Solving Program (3.3) 
Design No. : 1 2 3 4 5 6 7 
Startine; Point No. : 1 2 2 3 4 5 5 
Liquid Processing: 
Primary Clarifier (m2) 252 252 25 1 252 25 1 25 1 252 
Aeration Tank (m3) 6273 5687 6407 5686 6408 5637 5650 
Final Clarifier (m2) 658 684 653 684 653 687 686 
Air Flow Rate (m3/min) 242 242 242 242 242 242 242 
Effluent BOD, (g/m3) 30 30 30 30 30 30 30 
Effluent TSS (g/m3) 30 30 30 30 30 30 30 
Sludge Processing: 
Mass Fraction of Primary Sludge 
Thickener (my 
Thickener Supernatant (rn3/hr) 
Primary Digester (m3) 
Secondary ~ i g e s t e r *  (my 
Digester Supernatant (m3/hr) 
Vacuum Filt,er (my 
Filtrate (m3/hr) 
Cake Flowrate (m3/hr) 
Cake Concentration (kg/m3) 
Total System Cost (103$/yr) 501.963 500.384 500.954 500.627 501.228 500.422 500.467 
Height of the digester is assumed to be 10 m. 
3.3. IGGP Algorithm for Optimization 
3.3.1. Introduction 
T h e  Generalized Geometric Programming (GGP)  algorithm for solving geometric pro- 
grams was developed by Avriel el al.  (1975). Thc  algorithm condenses polynomials t o  mono- 
mials ( a  posynomial is a polynomial with only positive coeflicients, and a monomial is a posy- 
nomial with only a single term)  a t  a given point and then linearizes the  monomials by loga- 
rithmic transformation. A linear program is then solved in each iteration. There are a 
number of computer codes tha t  implement this basic idea (Dembo, 1980). Burns and 
Ramamurthy (1982) have developed a code t h a t  can be used interactively on the  CDC 
Cyber computers a t  the  University of Illinois. T h e  original algorithm developed by Avriel e t  
al. deals exclusively with inequality constraints. Equality constraints have to  be converted 
to inequalities in order for the optimization to proceed. Strategies for this conversion have 
been proposed (See, for exampie, Blau and Wilde, 1969). Burns and Ramamurthy (1983) 
discussed the  deficiencies of these strategies and extended the idea of condensation of poly- 
nomials to the  treatment of equality constraints. Favorable results were obtained from their 
algorithm when it was applied to  solve generalized geometric programs with equality con- 
straints. This algorithm, named Interactive Generalized Geometric Programming (IGGP),  
was used to  solve the  comprehensive system model described in Chapter 2. 
IGGP solves the following geometric program: 
Minimize P: (XI) - P,(Xi) 
subject to  P i )  - P i )  5 0 , k = l,...,K 
P,?(Xi) - P;(Xi) = O  , j = 1, ... , J  
0 < XiL 5 X i  
where P:, P i ,  P:, P;, PJ and PJ are posynomials, 
XiL is the  vector of the  lower bounds on the model variables, N x 1, 
Xi = [ zl,...., ZN ] 
and N is the  number of variables in the  model. 
Two restrictions are noted in program (3.4). The  objective function and the  con- 
straints in the model have to be polynomials in order to apply the  algorithm. The  variables 
in the model have to be strictly positive. 
Program (3.4) can be restated as 
Minimize zo 
subject to  
p a x )  
P i ( X )  + 2 0  
Pk+(X) 
, k = 1, ..., K 
P;(X) 
P f (X) 
= 1 , j = 1, ..., J 
Pj(X) 
0 < X L  S X  
where X = [ zo, z,, ...., zN ] * is the (N+l) x 1 solution vector, and XIL is the (N+l) x 1 vec- 
tor of lower bound. The denominator of each inequality constraint in program (3.5) is con- 
- 
densed to a monomial a t  a point X = X, while both the denominator and the numerators 
- 
are condensed to monomials for each equality constraint a t  X. The resulting program 
becomes 
Minimize zo 
subject to P;(x,%) S 1 , k = 0,1, ..., K 
M / ( x , ~ )  = 1 , j = 1 ,..., J 
X, s X - 
where P i  is a posynomial and A!,: is a monomial resulting from the condensation a t  point X. 
Program (3.6) is linearized by logarithmic transformation. A linear program (LP) is 
solved, and the most violated inequality polynomial is linearized a t  the LP solution and is 
appended to the LP tableau as a cutting plane. Additional cutting planes are added until a11 
of the inequality polynomials are satisfied within a specified tolerance. Cutting planes are 
added only for the inequality constraints, the equality constraints are simply log-linearized 
once in each iteration. The  detailed development of this method is documented by Burns 
and Ramamurthy (1983). 
Convergence to a Kuhn-Tucker solution of the GGP without equality constraints was 
shown by Avriel and Williams (1970). Burns and Ramamurthy did not prove their method 
will converge to 3 Kuhn-Tucker solution. Nevertheless, it is an attractive approach to test 
because it can solve large-scale problems efficiently by transforming the nonlinear program 
t o  a linear program. Also it is interesting to test the proposed strategy of Burns and 
Rarnamurthp for handling equality constraints in G G P  using the  comprehensive system 
model which includes primarily equality constraints. These tests and their results are pro- 
vided in the  next two subsections. 
3.3.2. Optimization Procedure 
As mentioned in the  previous subsection, the  optimization model has to  be transformed 
to  a G G P  and the  variables have to  be strictly positive to  apply the IGGP. Most of the  
design equations in the  comprehensive system model can be transformed to polynomials with 
the  exceptions of equations (2.39), (3.41), and (2.18). T h e  requirement for the  variables to  be 
strictly positive is not a practical problem. Although one variable became zero in final solu- 
tions obtained using GRG2, most variables are strictly positive because of what  they 
represent in the system. Where necessary, however, a small positive number can be imposed 
as the  lower bound for those variables tha t  otherwise may turn ou t  to  be zero. 
Modifications of equations (2.39) and (3.41) are necessary in order to use IGGP.  If the  
mass fraction of the  primary sludge, f,, is fixed in the model, then the thickening constants 
of the  combined primary and waste activated sludge can be calculated immediately from 
equations (2.38) and (2.39). When these constants become known, the thickening equation 
(2.41) for thc combined sludge can be transformed into a polynomial. Thus ,  by fixing f, 
two equations were dropped from the  model, and equation (3.41) was simplified to form a 
poly nonlial. 
Equation (3.48) calculates the first-order digestion rate coefficient as a function of the  
fermentation temperature.  Because this model is empirical, alternative modeling of the  
experimental d a t a  used to develop equation (2.48) is possible. Polynomial models tha t  
satisfy the  standard G G P  format were used to fit the experimental da ta .  It was found tha t  
a third degree polynomial fits the d a t a  reasonably well, 
K l  = 0.06457 - 5 . 1 3 5 8 ~ 1 0 - ~ T ,  + 1.2061 ~ I O - ~ T , "  + 1 . 9 1 8 ~ 1 0 ~ T ~  (3.7)  
where K ,  is the rate coefficient in day-', and Td is the fermentation temperature in OC. Fig- 
ure 3.5 presents equation (3.7) in graphical form. 
With the above modifications, the comprehensive system model can be transcribed to  a 
G G P  which has 62 variables and 57 constraints; 54 of the constraints are  equalities. T h e  
design of IGGP allows the objective function to be specified only interactively. Since many 
cost functions describing the costs of unit processes are composed of several piecewise seg- 
ments (see Table 2.4), it is necessary to guess the capacities of these units in advance to 
determine the segment of the function in which the Enal solution falls. Ideally, if the Enal 
solution specifies a size of a particular unit tha t  is not in the range assumed, the cost func- 
tion for tha t  unit should be revised in IGGP. However, knowing that  the cost functions 
used in this study are only approximations of the cost d a t a  and involve uncertainty, and 
that  the differences are small (see Table 3.11 for a comparison of the total system costs cal- 
culated by the complete and the simplified cost functions), this trial-and-error approach was 
not performed. Consequently the objective function value obtained from the IGGP solution 
may be slightly different from tha t  obtained from the GRG2. The  cost functions used in the 
G G P  model are summarized in Table 3.10. A listing of the G G P  model is attached in 
Appendix E. 
The  solution process proceeds by searching over a range of values of f, for the best 
solution. A start ing point can be obtained from the analysis program. T h e  value of f, is 
then fixed a t  a given value, and an optimal design is obtained by IGGP. Theoretically, the 
initial solution does not have to be feasible since IGGP can s tar t  from an infeasible solution 
and perform Phase-I optimization. Any one-dimensional search technique can be used to  
obtain the optimal value of f, which results in the least cost design of the system. T h e  
design found in this manner will be a locally optimal design for the overall system. This 
solution strategy is somet.imes referred to as partitioning, or projection in the operations 
I 
I 
I 
I 
I 
m 
S
ew
ag
e 
S
lu
d
g
e 
0
 
M
un
lo
lp
al
 
R
af
u
se
 
- 
A
 
D
u
lr
y 
M
a
n
u
re
 
- 
B
ee
f 
M
a
n
u
re
 
x 
E
le
p
h
an
t 
G
ra
ss
 
- 
+ 
S
ll
ll
ag
e 
- 
-
 Bes
t 
F
lt
 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
- 
w
 
X
 
es 
'P 
I
 
I 
I 
I 
I 
10
 
2
0
 
3
0
 
4
0
 
5
0
 
6
0
 
7
0
 
T
e
m
p
e
ra
tu
re
, 
'C
 
F
ig
u
re
 3
.5
 M
od
el
in
g 
D
ig
es
ti
on
 R
at
e 
C
oe
fi
ci
en
t 
as
 a
 P
ol
yn
or
n
ia
l 
W
it
h 
R
es
p
ec
t 
to
 F
er
m
en
ta
tio
n 
T
er
n
p
cr
n
tu
re
 
9 2 
Tablc 3.10 - Summsry of Cost Functions Used in IGGP 
Capital Operation Maintenance Material Power  
(1971 $) 
and Supply 
(manhours/yr) (manhours/yr) 
(197l$/yr) (kl .Vhr/~r) 
Primary 824A;77 92.45Ai3 106A;'" 8.62A;7e -- 
Clarifier 
Primary l6042QiC3 374 Qi4' 166 9t3 385 Qie4 23.85 Q 8 ~ / e P t  
Sludge 
Pumping 
Aeration 461 Va7' -- -- -- -- 
Tank 
Diffused 8533 Qiee 187 Q;48 74.4 Qib6 -- -- 
Aeration 
Secondary 824A j77 17.15Aje 9.23Aje 8.62Aj7' -- 
Clarifier 
Return & 2779 Q t 3  .333 Qb+390 .2375 Qb+370 40.57Qe2 23.85 QsH/ep 
Waste 
Sludge 
Pumping 
Gravity 824A;77 17.15Aje 9.23Aie 8.62Ai7' -- 
Thicker 
Anaerobic 2323 V;16g 192 V;" 113 G2l 142 V;i37 -- 
Digester 
Vacuum 29180A;71 197.55Qii8hl$: 20 Q;8,3,1fi~~ 230 + -- 
Filter 182 Q;8,8hl;f; 
t H is the  pumping  head iri rneters, and cp is the pumping  elficicncy. 
$ Qr = Qlo + Q13 + Q15 
research literature (Geoflrion, 1971). 
3.3.3. Performance of IGGP 
Solutions were obtained for the conditions listed in Tables 2.6 to  2.8. Because the 
majority of the  constraints in the model are equalities, IGGP essentially solves the linear 
program resulting from the log-linearization of the  condensed equality constraints. If the 
operating point is near the final solution, the condensation and the  linearization are  more 
accurate than if the operating point is far away. It was noticed during the test runs t h a t  
when f ,  is specified to  be very different from the value in the initial solution provided by 
the analysis program, i.e., the start ing solution for optimization is infeasible, IGGP may not 
be able to  find a feasible start ing solution using its Phase-I optimization routine. As a result, 
feasible start ing solutions were used. The  initial designs were generated by the  analysis pro- 
gram. These designs corresponded to  different values of f,, and the optimal solutions 
corresponding to  these f,'s were obtained by IGGP. In this approach,  the values of f, can- 
not be controlled directly, and an efficient one-dimensional search method could not be used 
t o  locate the  optimal f,.  For the eleven initial designs specified, the  values of f, ranged 
from 0.44 t o  0.61. Figure 3.6 depicts the total system cost versus f,. The  computing time 
for individual IGGP runs varied from 2.5 to  5.7 seconds. The results are  summarized in 
Table 3.11. 
It is observed from Figure 3.6 thnt  the system cost is very sensitive t o  f ,  when f, is 
less than about  0.47, and is relatively insensitive to  f ,  otherwise. The  solutior~s obtained 
with f, less than 0.47 are  characterized by a high primary clarifier overtlow rate (a t  its 
upper bound of 1.14 metersldny),  and by emuent BOD6 and suspended solids values tha t  are  
below the assumed standards.  The  solutions obtained with f, greater than 0.49 exhibit the  
opposite characteristics. This observation reveals the two extrernes of the system design 
when f ,  is fixed. When the mass fraction of tlre primary sludge is relatively small, the pri- 
Total System Cost, lo3 dollars/year 
P 
0 
O 
P 
IU 
? P 
P 
? P 
0, 
? P 
0, 
0 
UI 
0 
? UI 
IU 
0 
in P 
O 
UI 
0 
P cn- 
a 
0 
b 0 
0 
0 
IU 
P 0 
P 
0 
b 0, 
0 
b 0, 
? 4' 
PPPPPcncncncncntncnulUl~0, 
cncn~~eorm~~cnm~coeo 
p0000000000000000 
I I I I I I I I I I 1 I I L 
- - 
- - 
- - 
- - 
- - 
- - 
- - 
- - 
- 
- - 
- - 
- - 
- - 
- - 
I I 1 I I I I I I I I I I I 
,. . . t : 
1 . -: 
)~ :: ,. - 
I,' .: 
mary settling tank is small. A large secondary clarifier is needed t o  produce a highly con- 
centrated waste activated slutlge for recycle to  the aeration tank.  This thickening require- 
ment causes the plant t o  produce a high quality (low suspended solids) effluent. T h e  thick- 
ening characteristics of the  combined primary and secondary sludge a re  not as good as when 
f p  is large. Therefore a large thickener is needed. On the  other hand, when f p  is large, t he  
primary clarifier is large, the  waste activated sludge is thickened t o  a smaller degree, and the  
clarification requirement of the  secondary clarifier dominates the  system design. Conse- 
quently the  effluent water quality s tandards  are binding. I t  appears tha t  an optimal f, 
value exists between 0.471 and 0.487 (see Figure 3.6) where the primary clarifier overflow 
ra te  is high and both the  effluent BOD, and total suspended solids standards are binding. 
More points may be used as start ing points to  run IGGP and t o  refine the curve shown 
in Figure 3.6 if it is desired t o  know the  optimal value of f p  more accurately. This was not 
carried ou t  in this study because: 1) the cost is relatively insensitive near the optimal f,, and 
2) the trend for optimal design conditions has become obvious through the  analysis. If the  
Phase-I optimization in the  IGGP performed more reliably for the  system model, then locat- 
ing the optimal system design could be done eflectively by using a one-dimensional search 
technique such as Fibonacci search. 
The  total computer time Tor running IGGP and generating the points in Figure 3.6 was 
about 50 seconds for the  test problem. Therefore the  total time required in this optimiza- 
tion approach is comparable to  tha t  of GRG2. The  solution obtained with f p  equnl to  0.487 
is shown in Figure 3.7. This dcsign is similar to desisn No. .i in Table 3.0 except for the  
digestion system. T h e  total system cost calculated using the complete cost functions (Table 
2.4) is 500,500 dollars/year which compares well t o  the  solutions obtained using GRG:! (see 
Table 3.9). It is noted t h a t  the solutions in Table 3.9 have f, values tha t  range from 0.485 
to  0.487 and t h a t  are  within the final interval for f, (0.471 to  0.487) determined by the  
IGGP solution process. 
l+JJ/D ;; 1 'JU /.uJ 
S' I? 
LO'S 
1 I*'S L.LI 
3.4. Decomposition Approach for Optimization 
3.4.1. Introduction 
A wastewater treatment system is very complex in nature - not only because the 
design of individual unit processes may be complicated, but  also because various interactions 
among the unit processes are complicated. In general, however, a wastewater treatment sys- 
tem can be considered to consist of a liquid treatment portion and a sludge treatment and 
disposal portion. For the base system (Figure 2.1), the liquid subsystem includes the primary 
settling tank and the activated sludge process, while the sludge subsystem contains the other 
units in the system. The  inputs to the liquid subsystem are  the influent wastewater and the 
recycle streams generated in the sludge treatment. T h e  liquid subsystem produces primary 
and secondary sludges which are inputs to the sludge subsystem. 
This section presents a specially tailored approach for solving the  comprehensive sys- 
tem model. The  overall system is decomposed into a liquid subsystem and a sludge subsys- 
tem. The  design of the liquid subsystem is optimized. The  optimal design of the liquid sub- 
system has been studied by many researchers (Section 1.3) and many alternative optimiza- 
tion techniques have been shown to be applicable to  this problem. T h e  solution obtained 
from optimizing the liquid subsystem design is then treated as input to the sludge subsys- 
tem. Embedded optimization steps are used in the sludge subsystem design. The optimal 
solution for the entire system is then obtained by coordinating the designs of the liquid and 
sludge subsystenls. This approach may be especially useful for design engineers since alter- 
native designs of each system are explicitly examined and tradeolTs betweeu the two subsys- 
tems can be readily evaluated. 
Formal decomposition techniques for nonlinear programs were Erst developed by 
researchers in the  mid 1060's (for example, the feasible decomposition method by Brosilow e l  
al. (1065) and the dual-feasible method by Brosilow and Lasdon (196.5)). A large complex 
system is deconlposcd into a number of small subsystems each with its goals and constraints. 
Each subsystem is optimized separately, and results from the subsystem optimization are  
coordinated so  that  an optimal solution for the overall system can be obtained. Mathemati- 
cal programming basis for nonlinear decomposition is well documented in Schoemer (1970) 
and Lasdon (1970). 
Although the decomposition approaches have numerous advantages for solving com- 
plex, interconnecting large-scale system models as discussed by Haimes (1977), the efficiency 
and robustness of these methods depend strongly on the characteristics of the problem. 
Westerberg (1972) discussed the use of decomposition techniques for steady-state chemical 
process synthesis and design problems. Limitations or the  decomposition approaches were 
identiEed, and some computational experiences were reported. 
While general decomposition approaches were not used to  solve the comprehensive sys- 
tem model, the idea of decomposing the model into smaller problems was adopted for 
developing an optimization procedure that  is unique for this particular problem. The  pro- 
cedure preserves such advantages of the decomposition approaches as conceptual 
simplification of a complex system, reduction in dimensionality, and flexibility in using 
dimerent techniques for optimizing diflcrent subsystems. 
3.4.2. Optimization Procedure 
T h e  overall wastewater treatment system was divided into two subsystems, one 
represents liquid processing arid the other sludge processing. This conceptual simplification 
of the system and the interactions between the two subsystems are shown in Figure 3.8. Tlie 
input  to the  liquid subsystem is the combination of the plant influent and the  recycle 
streams generated from sludge processing, i.e., the output  from the sludge subsystem. T h e  
output  from the liquid subsystem (i.e., the  combined primary and waste activated sludge) 
serves as input to  the  sludge subsystem. 
l NFLUENT EFFLUENT 
LANDF l L L  
Figure 3.8- Subsystem Formed I3y Tearing the Interactions Between 
Liquid anci Sludge Processing Trains 
T h e  design of the liquid system cannot be determined unless the characteristics of the 
recycle streams, i.e., the s ta te  variables a t  control points 10, 13 and 15, are known. There  
are twelve unknown s ta te  variables a t  these three control points tha t  connect the  liquid and 
subsystems. These interacting variables are Qlo ,  Slo,  iMal0 ,  MdlO, ly10, Ml10, Q13, 
Mil , ,  bf, , , ,  Q , , ,  Mi l ,  and M I 1 5 .  The  soluble BOD, of the digester supernatant  (s13) and the  
filtrate ( S 1 5 )  have been assumed to be a constant (Section 2.3) .  Because of the lack of pro- 
cess models for predicting the total suspended solids concentrations of the thickener super- 
na tant  ( M t l o ) ,  digester supernatant (M, , , ) ,  and filtrate (Mt l , ) ,  these concentrations have been 
assumed to  be constants, or 
Malo  + Md10 + Milo + = Mtlo  = constant 
Mi13 + 12lll3 = Mt13  = constant 
Mil ,  + Ml15 = Mt15  = constant 
It is desirable to  eliminate as many of the interacting variables as possible in order to  
efficiently coordinate the designs of the two subsystems. The  solids concentration in the 
thickener supernatant  is usually much less than the solids concentration in the  digester 
supernatant  or in the filtrate for a well-operatcd gravity thickener with high solids recovery 
efficiency, i.e., 
M:10 << Aft,, (3 .11)  
<< Mt16 ( 3 . 13 )  
Consequently the contribution of the suspendrd solids from the thickener supernatant to the 
plant influent is small compared t o  tha t  of the solids from the digester supcrnatnnt and 
filtrate i f  the thickener decant,  digester supernatant,  and filtrate have flowrates in the same 
order of magnitude. I t  is assumed that  the suspended solids mass in the  thickener superna- 
t an t  can be neglected in the recycle mass balances. This additional assumption is made only 
for the decomposition solution approach. This assumption allows the  variables Al,,,, 1V,,,, 
h i i lo ,  and d l l l o  to  be eliminated from the  group of interacting variables. I t  is also assunied 
for the decomposition approach that  the soluble BOD6 concentration of the thickener decant 
(S,,) is much tess than tha t  of the digester supernatant or of the filtrate in the  calculation of 
recycle BOD mass balance. This assumption allows the interacting variable Sl0 to  be elim- 
inated. 
It has also been assumed that  the total suspended solids in the digester supernatant 
consist of only the volatile and aerobically nondegradable solids (hli13) and the  inert solids 
( 1 , )  Since the secondary digester is modeled as a thickener and the vacuum filter is a 
physical separation unit, the solids species in the filtrate are expected to  be in the  same pro- 
portion as in the digester supernatant,  i.e., 
Once the ratio, z, is determined, the solids compositions in the digester supernatant  and in 
the filtrate can be calculated from equations (3.9), (3.10), and (3.13). 
With the above assumptions, the recycle stream characteristics can be determined with 
the specification of only four interacting variables: the flowrates of thickener decant (Qlo), 
digester supernatant  (QI3), and filtrate (Q16), and the ratio between the volatile inert solids 
and the  inorganic solids concentrations in the digested sludge ( 2 ) .  T h e  liquid subsystem can 
be readily designed for known characteristics of the recycle stream. 
T h e  complete decomposition procedure is now stated as follows : 
1) Assume valrles for Qlo, QI3, Q16 and z .  Calculate from mass balance relationships 
(equations (3.14) to  (3.20) below) the influent characteristics to  the  liquid srlbsystenl. 
M:,  = nf,, + AI,, + .\I;, + nl, , (3.20) 
where Ma,, 121d0, hliO and hlJo are in g/m3, and is a unit conversion lactor. T h e  
magnitudes for Qlo, QI3, Q16, and z can be roughly decided from running the  analysis 
program using several different start ing points. The  assumed value for t is not  critical 
in this approach. This is explained in more detail in step (4). 
2) Op~ini ize  the  liquid subsystem design using any efficient optimization technique. GRG2 
was used in this study.  The  model has 21 variables in 17 equations and three inequal- 
ity constraints. Therefore it has lour degrees o l  freedom. A listing of the  GRG pro- 
gram describing this model is attached in Appendix F. 
3) Calculate the  mass and flow characteristics of the combined primary and waste 
activated sludge based on the optimal design lrom the liquid subsystem optimization. 
The  combined sludge is the input to the sludge processing train 
4)  Determine the  most cost eEective sludge subsystem design for the assumed values of 
Qlo,  QL3, and Q16. This is an optimization problem with one degree of lreedom in the  
ratio z. Except for the  solids compositions of the waste activated sludge, the  liquid 
subsystem design is not affected by the value of z specified in step (1) because neither 
the  volatile inert solids nor the inorganic solids is removed in the activated sludge pro- 
cess. This is illustrated by a numerical example in the next subsection where the  liquid 
subsystem design is optimized lor dillerent influent conditions. Start ing lrom the  
optimal design lor the liquid subsystem, the solids compositions o l  the waste activated 
sludge can be readily calculated lor a given value o l  z using equations (2.21) and (2.22): 
In the  above equations, hf,, and iVfl are  determined by 2 ,  and all other variables in 
the right-hand-side are  known from the optimal design of the liquid subsystem, which 
is obtained in step(2). 
The  influent characteristics of the combined primary and waste acbivated sludge can 
be determined once the solids compositions of the waste activated sludge are  calculated 
(see equations (2.31) and (2.32)). The  sludge subsystem design then proceeds as fol- 
lows: 
4.1) For the  gravity thickener, there is one degree of freedom in the design for given 
influent conditions, i.e., complete design of this unit requires one design variable to  be 
specified. The  supernatant flowrate, Q,,, is treated as tha t  variable in this approach 
since its value is specified in step (1). 
4.2) For the  primary digester, there are two decision variables, digestion temperature and 
solids retention time. Since the characteristics of the digester influent are  known from 
the thickener design, and tile digester elTluent is characterized by the ratio between the 
two effluent solids concentrations, z ,  the primary digester design can be formulated as 
another optirnizatiou problem. The  net cost of the prirriary digest~on system is minim- 
ized subject to  tile elfluent characteristics as specified by z .  Recall from Section 2.3.6 
t h a t  
hf112 = illf 11 , (3.21) 
the solids ratio z can be written from equations (3.23) and (3.24) m 
since the solids compositions are assu,med to be unaffected by the secondary digester. 
Specification of the digestion temperature results in the  determination of the digest.ion 
ra te  coeficient, K,. The  solids retention time, 8,, can then be calculated from equa- 
tion (3.25), and the primary digester design is completely defined. This is a one- 
dimensional optimization problem with respect to  the digestion temperature. 
Fibonacci search was employed to  find the optimal digestion temperature tha t  is accu- 
ra te  to  within 1 O C .  
4.3) T h e  design of the secondary digester is similar to  tha t  of the  gravity thickener. T h e  
decision variable is chosen to be the  digester supernatant flowrate, Q13, whose value is 
specified in step (1). 
4.4) T h e  design of the  vacuum filter requires the  specification of one design variable which 
is chosen as the filtrate flowrate, Q,,. Its value is specified in step (1). 
Repeat steps (4.1) to  (4.4) for different values of t .  Golden section search was used to  
identify the optimal value of z for the sludge subsystem design. The  computer pro- 
gram designed to carry out the  calculations in step (4)  is attached in Appendix G. 
5) Sum the  costs for the  liquid subsystem obtained in step (2) and for the best sludge sub- 
system obtained in step ('1) and obtain t.he total cost for the  entire system. This cost is 
for an assumed set  of interacting variables Q,,, Q13, and QI5.  A complete flowchart 
describing steps (1) to  (5) is shown in Figure 3.0. 
6) Different combinations of values for the interacting variables can be selected. T h e  
total system cost can be calculated for each combination following steps (1) through 
(5), and the  trend for a cost-eflective design can be identified. 
This proposed procedure transforms the original problem which has nine decision vari- 
ables into two subproblems. The  liquid subsystem design has four decision variables; and 
I Assume values for QIO, Q13, QIS, z I 
Calculate characteristics of the influent to 
the liquid subsystem from mass balance 
between plant illfluent and recycle streams  
Optimize liquid subsystem design and 
Assume a range for z 
G 
Calculate characteristics of the 
combined primary and waste activated sludge 
from the output  of liquid train I 
design optimization and the value of z 
I 
, Design sludge subsystem for given a 
with one-dimensional optimization 
for the primary digester design 
Reduce the range of uncertainty for z 
by comparing the total sludge subsystem costs 
calculated for dificrent values of :  
using 
golden section search 
Calculate total system cost 
Figure 3.9 - Flowchart of the  Decomposition Approach 
the sludge subsystern design has two decision variables ( z  and T d ) ,  each can be determined 
optimally using embedded one-dimensional optimization. The  search for the overnll optimal 
system design is a problem with three decision variables (Qlo,  Q13 and Q,,). This concept is 
illustrated by Figure 3.10. The  solutions obtained using the decomposition approach are  
only approximations t o  the  comprehel~sive system design model described in Chapter 2 
because of the additional assumptions made in developing this approach. These assumptions 
neglect the soluble BOD and suspended solids concentrations in the  thickener supernatant.  
T h e  validity of these assumptions are examined in the next subsection, so are the  perfor- 
mance of the decomposition procedure for optimizing the complete wastewater treatment 
system design and the performance of the  embedded techniques for optimizing the  subsys- 
tem designs are  also discussed. 
3.4.3. Performance of the Optimization Approach 
Step (2) in the above decomposition approach is essential to  the  overall optimization 
procedure. T o  examine the objective function surface of the liquid subsystem, diflerent 
design conditions and multiple start ing points were investigated. Table 3.12 summarizes 
solutions obtained when the base design conditions (see Section 2.5) are treated as the  
Original hlodel 
(9 degrees of freedom) 
Liquid Subsystem 
(4 degrees of frec.dom) 
Sludge Subsystem 
(2' dcgrccs of freetlom) 
Coordination 
(3 degrees of freedom) 
Figure 3.10 - Concept of the Decomposition Approach 
T
a
b
le
 3
.1
2 
- O
p
ti
m
iz
at
io
n
 o
f 
th
e 
L
iq
ui
d 
T
re
n
tr
r~
e
n
t S
u
l)
sy
st
em
 
In
fl
ue
nt
 C
on
di
ti
on
s:
 F
lo
w
ra
te
 
=
 1
50
0 
m
3/
hr
 
So
lu
bl
e 
B
O
D
6 
=
 
10
0 
g/
m
3 
A
ct
iv
e 
B
io
m
as
s 
=
 
5 
g/
m
3 
V
ol
at
il
e 
B
io
de
gr
ad
ab
le
 S
ol
id
s 
=
 
10
0 
g/
rn
3 
V
ol
st
il
e 
In
er
t 
S
ol
id
s 
=
 
45
 g
/m
3 
In
or
ga
ni
c 
So
li
ds
 
=
 
50
 g
/r
n3
 
S
ol
ut
io
n 
O
bt
ai
ne
d 
U
si
ng
 G
R
C
!! 
V
ar
ia
bl
es
 (
IJ
ni
ts
) 
P
ri
m
ar
y 
C
la
ri
fi
er
 O
ve
rf
lo
w
 R
st
e 
(m
/d
ay
) 
in
it
ia
l 
fi
na
l 
M
ea
n 
C
el
l 
R
es
id
en
ce
 T
im
e 
(d
ay
s)
 
in
it
ia
l 
fi
na
l 
H
yd
ra
ul
ic
 R
et
en
ti
on
 T
im
e 
(h
r)
 
in
it
ia
l 
fi
na
l 
S
lu
dg
e 
R
ec
yc
le
 R
at
io
 (
%
) 
in
it
ia
l 
fi
na
l 
E
m
ue
nt
 B
O
I)
, 
(m
g/
l)
 
in
it
ia
l 
fi
na
l 
E
m
ue
nt
 T
S
S
 (
m
d
l)
 
in
il
ia
1 
fi
na
l 
L
iq
ui
d 
S
ys
te
m
 C
os
t 
(l
o3
 $
/y
r)
 
in
il
is
l 
fi
na
l 
C
om
pu
te
r 
T
ir
r~
e (C
P
 s
ec
on
ds
) 
inlluent to the liquill train. All GRG runs were made interactively with the same control 
pnranieter values specified in Section 3.2.1. The: computing time requirement is much less 
than tha t  for the complete model which includes 64 variables and 58 constraints (as opposed 
to 21 and 20, respectively). The  solution process also appears to be robust; widely diflerent 
initial solutions converge to essentially the same solution. These observations are encourag- 
ing for the approach of decomposing the overall system model into smaller subsystems whose 
mathematical expressions are amenable to  efficient and robust solution techniques. 
Table 3.13 summarizes the liquid subsystem design optimization for a diflerent set of 
influent conditions which has a higher flowrate and suspended solids concentration than the 
base conditions. Five start ing points were tested, and four of them converged to  the  same 
optimal solution. T h e  optimization runs with start ing point No. 4 stopped short  of the 
optimum, bu t  the objective function value and the  design are  almost the  same as the 
optimal solution. This indicates the flatness of the objective function surface of this sub- 
problem. 
T h e  influent conditions examined in Table 3.13 were varied one a t  a time to  observe 
the  etlect of each condition on the liquid system design. T h e  results are tabulated in Table 
3.14. Case 1 is the  original solution from the first column of Table 3.13. A change in the 
flowrate (Case 2) aRects the liquid system cost, bu t  has little etlect on the system design. An 
increase in the  influent soluble BOD,  (Case 3)  increases the cost of the subsystem. A higher 
biomass concentration is maintained in the aeration tank when the  size of the tank remains 
a t  the minimum level. A large secondary clarifier is included tor thickening purposes. Thus  
the  effluent suspended solids concentration decreases. The  elTect o t  the increased volatile 
suspended solids in the influent (Case 4) is similar to  that  caused by an increased soluble 
B O D ,  concentration. 
Increasing the influent volatile inert solids (Case 5) or the inorganic solids (Case 6) by 
the  same amount (5  mg/l) results in two almost identical designs with the only difference 
110 
Table 3.13 - Optimization of the Liquid Treatment Subsystcm 
Influent Conditions : 
Flowrate = 1515 m3/11r 
Soluble BOD, = 100 g/m3 
Active Biomass = 5 ,5/m3 
Volatile Biodegradable Solids = 100 g/m3 
Volatile Inert Solids = 50 g/m3 
Inorganic Solids = 55 g/m3 
Solution Obtained Using GRG2 
Variables (Units) 
Primary Clarifier Overflow Rate (m/day) 
initial 
final 
Mesn Cell Residence Time (days) 
initial 
final 
Hydraulic Retention Time (hr) 
initial 
final 
Sludge Recycle Ratio (%) 
initial 
final 
EfRuent BODb (mg/l) 
initial 
final 
EfRuent TSS (mg/l) 
initial 
final 
Liquid System Cost ( lo3 $/yr) 
initial 
final 
Computer Time ( C P  seconds) 
Table 3.14 - Liquid Subsystem Design Opti~nization for Di5erent Influent Conditions 
Case 
1 2 3 4 5 6 
Influent Conditions : 
Flowrate (m3/hr) 1515 1510 1515 1515 1515 1515 
Soluble BOD, (mg/l) 100 100 105 100 100 100 
Active Biomass (mg/l) 5 5 5 5 5 5 
Volatile Degradable Solids (mg/l) 100 100 100 105 100 100 
Volatile Iner t  Solids (mg/l) 50 50 50 50 55 50 
Inorganic Solids (mg/l) 55 55 55 55 55 60 
Final. Solutions : 
Primary Clarifier Overflow Ra te  (m/day)  
Mean Cell Residence Time (days) 
Hydraulic Retention Time (hr)  
Sludge Recycle Ratio (%) 
Ef luen t  BOD, (mg/l) 
Effluent T S S  (mg/l) 
Liquid System Cost (lo3 $/yr) 
Computer  Time ( C P  seconds) 
Note  : Starting point No. 1 in Table  3.13 was used in all runs. 
being the  composition of the sludge produced. T h e  volatile inert and inorganic solids are 
not treated in the activated sludge process, and they d o  not contribute to  the  effluent BOD. 
T o  avoid excessive build-up of these solids in the  system, which would require a larger aera- 
tion tank and a larger final clarifier, more solids have to be wasted either in the overflow or 
to  the  sludge processing train. A low sludge age and high solids concentration in the  effluent 
are direct consequences of this increased solids concentration in the influent. T h e  fact  t ha t  
the  liquid system cost is not  affected by the ratio between the volatile inert and inorganic 
solids has important  implication in the analysis of the sludge treatment subsystem design 
(step (4)  of the  decomposition procedure). It allows the  optimization of value of the  ratio of 
the volatile inert and the  inorganic solids concentrations ( z )  in the sludge sybsystem based 
on only one optimization run for the  liquid subsystem design. 
As mentioned above, golden section search was used in the sludge subsystem design 
optimization of the value of the ratio z .  A typical cost curve resulting from this search is 
shown in Figure 3.11. T h e  cost curves exhibited this general shape for all runs made in this 
study.  This shape results in fast convergence of the sludge subsystem design. 
T h e  search for the  cost-effective overall system design was carried out  by examining 
various combinations of Q,,, Q13, and Q15. During the  liquid subsystem design, the  solution 
obtained from each GRG run was saved and used as the  start ing solution for the  next run. 
It was observed t h a t  this strategy saves computing time by about 50% when compared to 
the  strategy of start ing from an arbitrarily chosen solution. This is because the  start ing 
solution is closer to  the  final optimal solution. As was shown in the  test runs for liquid sub- 
system design optimization (Tables 3.12 through 3.14), the  cost surface of this problem is 
flat, and convergence to a unique local optimum was often observed. These observations sup- 
por t  the use of a previously determined optimal solution as the  start ing point for a new 
optimization run. 
Tables 3.15 t o  3.17 present results obtained from the  proposed optimization approach. 
A coarse grid enumeration was performed for various combinations of values of QI3 and Q15 
for Q1, equal to  1.0, 4.0, and 7.0 m3/hr, respectively. T h e  computing time required to  solve 
the  liquid subsystem problem ranged from 1.58 t o  2.91 seconds when GRG:! was used 
interactively on 3 CDC Cyber 175 computer. T h e  computing time for sludge subsystem 
design averaged about  0.08 seconds. Fifty-three runs altogether were made to explore any 
trends exhibited by the cost-effective designs. 
The  followi~lg observations can be made from the results in Tables 3.15 t o  3.17. For 
fised vnlues of Q,,  and Q13,  the total systerrl cost decreases as Q,, increases, which implies 
an increasingly efficient vacuum filter for sludge dewatering. T h e  total system cost keeps 
decreasing until the cake concentration equals the assumed upper bound of 15%. For fixed 
Q,, and Q,,, an increase in Q,, implies a larger secondary digester which produces a more 
concentrated sludge for dewatering and final disposal. Therefore the  total system cost 
decreases. For fixed values of Q13 and Qla,  increasing Q1, produces decreasing system costs. 
Sludge Subsystem Cost, lo3 dollars/year R3 R3 R3 R3 R3 w W W W W w 
Ln 0, 4 OJ (D 0 P rU W P ul 
0 0 0 0 0 0 0 0 0 0 
T
ab
le
 3
.1
5 
- A
pp
ro
xi
m
at
e 
D
es
ig
ns
 o
f 
W
as
te
w
at
er
 T
re
at
m
en
t 
Sy
st
em
 :
 Q
,,
 =
 1
.0
 m
3/
hr
 
- 
L
iq
ui
d 
S
u
b
sy
st
em
 :
 
~
r
im
a
r
j C
la
ri
ii
er
 O
ve
rf
fo
w
 K
at
e 
(m
ld
ay
) 
hl
ea
n 
C
el
l 
R
es
id
en
ce
 T
im
e 
(d
ay
s)
 
H
yd
ra
ui
ic
 R
et
er
~
ti
o
n
 T
im
e 
(1
11
) 
S
lu
dg
e 
R
ec
yc
le
 R
at
io
 (
%
) 
C
o
st
 (
lo
3 
$
/y
r)
 
C
o
m
p
u
te
; 
T
ir
il
e 
(C
P
 s
ec
on
ds
) 
S
lu
dg
e 
S
u
b
sy
st
em
 :
 
S
ol
id
s 
L
o
ad
in
g
 o
n
 T
hi
ck
er
ie
r 
(k
g/
m
2/
da
y)
 
D
ig
es
ti
on
 T
em
p
er
at
u
re
 (
"C
) 
R
et
en
ti
o
n
 T
ir
ue
 i
n 
lj
ig
es
tc
r 
(d
ay
>
) 
S
ol
id
s 
L
o
ad
in
g
 o
n
 D
ig
es
te
r 
(k
g/
rn
2/
da
y)
 
F
il
te
r 
Y
ie
ld
 (
kg
/r
n2
/h
r)
 
C
ak
e 
S
ol
id
s 
C
o
n
ce
n
tr
st
io
n
 (
k
g
/n
lg
 
C
o
st
 (
lo
3
 $/
yr
) 
C
o
m
p
u
te
r 
T
im
e 
(C
P
 s
ec
on
ds
) 
In
fe
as
ib
le
 i
f 
th
e 
b
o
u
n
d
s 
c
n
 t
h
e 
Jr
ci
si
on
 v
ar
ia
bl
es
 (
se
e 
T
ab
le
 2
.6
) 
ar
e 
co
ns
id
er
ed
. 
81
7.
9 
77
9.
1 
72
9.
5 
67
1.
3 
59
7.
0 
54
2.
1 
I 
T
o
ta
l 
S
ys
te
rn
 C
o
st
 (
lo
3 
$/
yr
) 
83
8.
2 
79
9.
3 
75
1.
7 
69
6.
6 
63
0.
4 
54
2.
6 
T
ab
le
 3
.1
5 
(c
o
n
ti
n
u
ed
) 
Q,
, (
m
3/
hr
) 
Q
,, 
(1
?l
3j
hr
) 
L
itj
di
d 
S
ut
sy
st
er
n 
: 
1'
ri
.n
ar
y 
C
la
ri
fi
er
 O
ve
rf
lo
t*
, R
a
te
 (
rn
ld
ay
) 
h
le
sn
 C
el
l 
R
es
id
en
ce
 T
im
e 
(d
ay
s)
 
Il
y
d
r~
u
li
c R
et
en
ti
on
 T
ir
ne
 (
hr
) 
3i
ud
ge
 I
l~
cy
cl
e I
ia
ti
o 
(7;)
 
C
os
t 
(1
0,
 8
/y
r)
 
C
,~
n
.p
u
tc
r T
im
e 
(C
P
 se
co
ri
ds
) 
T
o
ta
l 
C
om
pu
te
r 
T
im
e 
: 
45
.1
88
 C
P
 se
co
nd
s.
 
S!
ud
;;e
 
S
ub
sy
st
em
 :
 
So
li
ds
 L
oa
di
ii
g 
on
 T
hi
ck
tr
ie
r 
(l
~
~
/m
~
/d
a
y
) 
D
ig
es
ti
on
 T
ei
np
er
at
ur
e 
('(
2) 
R
et
en
ti
or
1 
T
im
e 
ir
~
 D
ig
es
cc
r 
(d
:~
j.
s)
 
So
li
tl
s 
L
oa
tl
in
g 
on
 D
ig
es
te
r 
(k
g/
rn
2/
da
y)
 
F
il
te
r 
Y
ie
ld
 (
kg
/m
2/
hr
) 
C
ak
e 
So
li
ds
 C
or
rr
en
tr
at
io
n 
(k
g/
n1
3)
 
C
os
t 
(1
0"
$/
r)
 
C
o
m
p
u
te
r 
T
im
e 
(C
P
 s
ec
or
~
ds
) 
T
ot
i1
 S
y:
t.c
m
 
C
os
t 
(l
o
3
 $/
yr
) 
-
 
* 
Ir
~
fe
us
ib
le
 if 
th
e 
b
o
u
r~
d
s or
1 
th
e 
de
ci
si
on
 v
ar
ia
bl
es
 (
se
e 
T
ab
le
 2
.6
) 
ar
e 
co
ns
id
er
ed
. 
50
.8
' 
51
.3
- 
51
.8
. 
52
.3
. 
59
.3
 
59
.3
 
59
.3
 
59
.3
 
7.
04
 
6.
89
 
6.
82
 
6.
62
 
70
.3
. 
70
.1
. 
70
.5
. 
74
.5
. 
14
.4
 
8.
30
 
6.
42
 
5.
45
 
17
 
24
 
45
 '
 
15
1'
 
47
8.
9 
42
8.
6 
36
3.
4 
28
1.
8 
.0
78
 
,0
82
 
.0
86
 
.0
79
 
73
5.
7 
68
6.
1 
62
1.
7 
54
0.
7 
49
.6
' 
50
.3
. 
50
.8
' 
51
.3
. 
51
.7
' 
59
.3
 
59
.3
 
59
.3
 
59
.3
 
59
.3
 
7.
27
 
7.
16
 
7.
05
 
6.
79
 
6.
74
 
10
2.
 
10
1.
 
10
0.
 
98
. 
10
3.
 
14
.5
 
8.
33
 
6.
44
 
5.
45
 
4.
88
. 
13
 
18
 
26
 
5 
1 
15
."
 
52
2.
0 
47
8.
3 
42
2.
3 
35
3.
0 
28
2.
3 
.0
78
 
.0
81
 
,0
85
 
,0
77
 
.0
85
 
77
7.
8 
73
4.
8 
67
9.
5 
61
1.
0 
54
0.
8 
51
.9
. 
52
.4
* 
52
.8
' 
59
.3
 
59
.3
 
59
.3
 
6.
81
 
7.
17
 
6.
42
 
43
.3
 
46
.2
 
48
.0
 
11
.3
 
8.
18
 
6.
31
 
23
 
39
 
15
0 
43
2.
7 
37
3.
9 
28
3.
0 
.0
80
 
.0
79
 
.0
83
 
-- 
69
0.
4 
63
2.
4 
5-
12
.2
 
T
ab
le
 3
.1
6 
- A
pp
ro
xi
m
at
e 
D
es
ig
ns
 o
f 
W
as
te
w
at
er
 T
re
at
m
en
t 
Sy
st
em
 :
 Q
,,
 =
 4
.0
 m
3/
hr
 
-
 
-
 
L
iq
ui
d 
Su
bs
y3
tt
.m
 :
 
P
ri
m
ar
y 
C
la
r~
fi
er
 O
:,e
rf
lo
w
 
R
at
e 
(m
/d
ay
) 
hl
ca
n 
C
cl
l 
R
rs
id
en
ce
 T
im
e 
(d
ay
s)
 
II
~
d
ra
u
li
c R
z
~
~
n
t
i
~
n
 
T
im
e 
(h
r)
 
S
lu
dg
e 
R
ec
yc
le
 R
at
io
 (
%
) 
co
st
 (l
o
3
 $
1
~
~
) 
C
or
np
ut
er
 T
ll
rl
e 
(C
P
 s
ec
on
ds
) 
Q
,, 
(1
n3
/h
r)
 
0.
0 
Q
,, 
(m
3/
hr
) 
I 1.0
 
3.
0 
5.
0 
7.
0 
7.
53
 
S
lu
dg
e 
Su
bs
y)
-z
te
m
 : 
1 .o
 
1.
0 
3.
0 
5.
0 
6.
68
 
So
li
ds
 L
oa
di
ng
 o
n 
T
hi
ck
en
er
 (
kg
/m
z/
da
y)
 
D
ig
es
ti
on
 T
rm
p
er
st
il
re
 (
'C
) 
R
et
en
ti
on
 T
il
l~
e in
 D
ig
es
te
r 
(d
ay
s)
 
So
li
ds
 L
oa
di
ng
 o
n 
D
ig
es
te
r 
(k
g/
m
2/
da
y)
 
F
il
te
r 
Y
ie
ld
 j
kg
/n
i2
/h
r)
 
C
ak
e 
So
lid
5 
C
on
ce
nt
ra
ti
on
 (
kg
/m
3)
 
C
os
t 
(l
o
3
 8
/y
r)
 
C
o
m
p
u
te
r 
T
ii
i~
e (
C
P
 se
co
nd
s)
 
T
o
ta
l 
S
ys
te
m
 C
os
t 
(l
o
3
 $/
yr
) 
In
fe
as
ib
le
 i
f 
th
e 
bo
un
ds
 o
n 
t1
;e
 d
ec
is
io
n 
va
ri
ab
le
s 
(s
ee
 T
ab
le
 2
.6
) 
ar
e 
co
r~
si
de
re
d.
 
I-
' 
I-
' 
a
 
T
ab
le
 3
.1
6 
(c
on
ti
n
u
ed
) 
L
iq
ui
d 
S
~
ib
sy
st
cm
 : 
P
ri
m
ar
y 
C
la
ri
fi
er
 O
ve
rf
lo
w
 R
at
e 
(m
/d
ay
) 
M
ea
n 
C
kl
l 
R
es
id
en
ce
 T
in
ie
 (
da
ys
) 
H
yd
ra
~
ll
ic
 R
et
en
ti
on
 T
ir
ne
 (
hr
) 
S
lu
dg
e 
It
ec
yc
le
 R
at
io
 (
%
) 
co
st
 (
10
3 
$
I
~
)
 
C
o
~
n
p
u
t~
er
 
T
im
e 
(C
P
 s
ec
on
ds
) 
S
l~
ld
g
e S
ub
sy
st
em
 :
 
So
lit
ls
 L
oa
di
ng
 o
n 
T
hi
ck
en
er
 (
kg
/m
2/
da
y)
 
D
ig
es
ti
on
 T
rm
p
er
at
u
re
 (
"C
) 
R
et
en
ti
on
 T
im
e 
in
 D
ig
es
te
r 
(t
ln
ys
) 
So
li
ds
 L
oa
di
ng
 o
n 
D
ig
es
te
r 
(k
g/
m
2/
da
y)
 
F
il
te
r 
Y
ie
ld
 (
kg
/m
2/
hr
) 
C
ak
e 
So
li
ds
 C
on
ce
nt
ra
ti
on
 (
kg
/m
3)
 
C
os
t 
(l
o
3
 $/y
r)
 
C
o
m
p
u
te
r 
T
im
e 
(C
P
 s
ec
on
ds
) 
T
o
ta
l 
C
om
pu
te
r 
T
im
e 
: 
32
.7
81
 C
P
 se
co
nd
s.
 
I 
I 
I 
T
ot
al
 S
ys
te
m
 C
os
t 
(l
o
3
 $
/y
r)
 
In
fe
as
ib
le
 i
f 
th
e 
bo
un
ds
 o
n 
th
e 
de
ci
si
on
 v
sr
in
bl
es
 (
se
e 
T
ab
le
 2
.6
) 
ar
e 
co
ns
it
le
re
d.
 
66
5.
3 
60
7.
5 
52
0.
8 
61
7.
2 
51
0.
9 
.5
22
.5
 
T
ab
le
 3
.1
7 
- A
pp
ro
xi
m
at
e 
D
es
ig
ns
 o
f 
W
as
te
w
at
er
 T
re
at
m
en
t 
Sy
st
em
 :
 Q
,,
 =
 7
.0
 m
s/
hr
 
-
 
-
 
p
p
p
 
L
iq
ui
d 
S
ub
sy
st
em
 :
 
P
ri
m
ar
y 
C
la
ri
fi
er
 O
ve
rf
lo
w
 R
at
e 
[r
n/
da
y)
 
M
ea
n 
C
el
l 
R
es
id
en
ce
 T
im
e 
(d
ay
s)
 
Il
yd
ra
bl
ic
 R
et
en
ti
on
 T
im
e 
(h
r)
 
Sl
ud
ge
 R
ec
yc
le
 R
at
io
 (5
%
) 
.
 - 
C
os
t 
(l
o
3
 $/
yr
) 
C
or
nr
fi
lt
~
r T
im
e 
(C
P
 se
co
nd
s)
 
Sl
ud
ge
 S
ub
sy
st
em
 :
 
So
li
ds
 L
oa
di
ng
 o
n 
T
hi
ck
er
ic
-r
 (
kg
/l
~
~
','
ds
~
) 
D
ig
es
ti
on
 T
em
p
er
at
u
re
 (O
C
) 
R
et
en
ti
on
 T
im
e 
in
 D
ig
es
te
r 
(d
ay
sj
 
So
li
ds
 L
oa
di
ng
 o
n 
D
ig
es
te
r 
(k
g/
m
2/
da
y)
 
F
il
te
r 
Y
ie
ld
 (
kg
/m
2/
hr
) 
C
ak
e 
So
li
ds
 C
on
ce
nt
r;
it
io
n 
(k
g/
nl
? 
C
os
t 
(1
0"
//r
) 
C
om
pu
te
r 
T
im
e 
(C
P
 se
co
nd
s)
 
T
ut
al
 S
ys
te
m
 C
os
t 
(l
o
3
 $/
yr
) 
* 
In
fe
ss
ib
le
 if
 t
il
e 
bo
un
ds
 o
n 
ti
le
 t
lc
ci
si
on
 v
ar
is
bl
es
 (
xe
e 
T
ab
le
 2
.6
) 
ar
e 
co
ns
id
er
ed
. 
T
o
ta
l 
C
o
m
p
~
~
te
r 
T
im
e 
: 
25
.0
48
 C
P
 s
ec
on
ds
. 
This is at tr ibuted to a larger gravity lhickcner which reduces the volume of sludge to  be 
processed in lhc  subsequent unit processes. 
Thus ,  the  trend t h a t  indicates a cost-eflective design is obvious from this analysis: for 
this example problem, the  cost of the liquid subsystem is not very sensitive to  the  recycle 
flowrates, and it is the design of the sludge subsystem t h a t  determines the most cost-effective 
overall system design. T o  make the sludge subsystem design cost efficient, the volume of the  
sludge t o  be processed should be minimized. T h e  above analysis indicates t h a t  the  gravity 
thickener is most cost effective for achieving this goal. Although an increased level of sludge 
concentration produces higher BOD and suspended solids mass in the recycle streams t o  the 
liquid train, t he  marginal increase in liquid subsystem cost is much less than the  reduced 
cost for sludge t rea tment  and disposal. The  best design obtained from the  coarse grid 
enumeration has Qlo = 7.0, Q13 = 0.0, and Q15 = 4.1 m3/hr (Table 3.17). 
Figures 3.12 to  3.14 depict the cost surfaces for the  diflerent combinations of superna- 
t a n t  flowrates. These Figures are graphical representations of the results in Tables 3.15 to  
3.17. I t  is obvious from these plots tha t  the total  system cost decreases as Q13 or Q16 
increases for a fixed Q,,; the  total system cost decreases more rapidly for a unit increase of 
Q15 than a unit increase of Q13. T h e  boundary of the  feasible region outside which the cake 
concentration exceeds its upper bound is also shown approximately in each case by the  
hashed line. It is noted t h a t  the boundary is very flat, meaning tha t  many alternative 
designs are availnblc a t  approximately the same total system cost. These alternative designs 
are diflcrent mainly in thcir designs or the sludge subsystem, although some of them may 
violate other constraints set  on the decision variables. For example, the design with Q l o  = 
4.0 m v h r ,  Q13 = 1.0 and QI5 = 6.68 m3/hr has a total  system cost of 518,200 d ~ l l a r s / ~ e a r ;  
another design with Qlo  = 4.0, Q13 = 5.0 and Q15 = 3.28 m3/hr has a. total system cost of 
522,500 dollars/year (see Table 3.16), and the third design with Qlo  = 7.0, Q13 = 1.0 and 
0
 
I- 
B
ou
nd
ar
y 
of
 F
ea
si
bl
e 
R
eg
io
n 
1 
F
ig
ur
e 
3.
12
- 
T
ot
al
 S
ys
te
m
 C
os
t 
vs
. D
ig
es
te
r 
Su
pe
rn
at
an
t 
F
lo
w
ra
te
- 
Q,
, =
 1
.0
 m
S/
hr
 
F
ig
u
re
 3
.1
3-
 T
ot
al
 S
ys
te
m
 C
os
t 
vs
. 
D
ig
es
te
r 
S
u
p
er
n
at
an
t 
F
lo
w
rn
te
- 
Q
Io
 =
 4
.0
 m
s/
h
r 

Q16 = 3.0 m3/hr has a total system cost of 518,700 dollars/year (see Table 3.17). These ,  
three designs are very different in bhcir design of the gravity thickener, the secondary diges- 
ter and the vacuum filter. ,411 three designs have approximately the  same total system cost. 
However, the solids loading on the  secondary digester in the first design is 77.2 kg/m2/day 
which is infeasible if the  bounds on the decision variables (see Table 2.6) are considered. 
If more accurate identification of the most cost efficient design is desired, a fine-tuning 
step can be employed. ,4s an example, the neighborhood around the  best solution described 
above (given in Table 3.17) was explored based on t,he trend observed in the  coarse grid 
enumeration. Five runs were made, and the results are summarized in Table 3.18. 
Although the second design in Table 3.18 with Qlo =7.2, Q13 = 0 and Ql6 = 3.9 m3/hr has 
the lowest total system cost among the  five designs, the extent of violation of its cake solids 
concentration is also the greatest. Therefore, the fine-tuning process was continued. T h e  
final design Qlo = 7.27, Q13 = 0 and Q15 = 3.80 m3/hr has a total system cost about  
501,700 d ~ l l a r s / ~ e a r .  This design is shown in detail in Figure 3.15. Compared with the 
designs obtained by CRC:! (Tabel 3.9), this design is most similar to the one shown in Figure 
3.4 in terms of the s ta te  variables in the model. However, this design suggests a smaller 
aeration tank,  a smaller primary digester, and larger final settling tank,  secondary digester 
and vacuum filter. Also, the cake solids concentration is slightly above the upper bound used 
in the original model solved by CRG2 (see Table 2.6). It is noted tha t  the maximum diges- 
tion temperature tli:rt can be obtained in the decomposition ;tpproacti is 59.3 O C  because of 
the stopping criterion spcciliccl in the Fi1)ollncci search. The a c t ~ ~ n l  upper bor~ntl for this 
variable in the model is 60 OC. 
As mentioned above, the solutions obtained using this approach are only approxima- 
tions to the comprehensive system model because the  soluble BOD and the solids concentra- 
tions in the thickener supernatant are neglected. T h e  approximation is better when the 
Table 3.18 - Fine-tuning Solutior~s in the Decomposition Approach 
Q,, (m3/hr) 7.1 7.2 7.3 7.26 7.27 1 
Q13 (m3/hr) 0 0 0 0 0 
Q,, (m3/hr) 4.0 3.9 3.75 3.82 3.80 I / 
Liquid Subsystem : 
Primary Clarifier Overflow Rate  (rn/day) 144 144 144 144 144 i 
Mean Cell Residence Time (days) 2.16 2.16 2.16 2.16 2.16 
Hydraulic Retention Time (hr) 3.66 3.66 3.66 3.66 3.66 
i 
Sludge Recycle Ratio (%) 12.5 12.5 12.5 12.5 12.5 \ 
Cost ( l o 3  $/yr) 255.6 255.6 255.5 255.5 255.5 
Computer Time ( C P  seconds) 1.873 1.656 1.670 2.006 1.651 I 
Sludge Subsystem : 
Solids Loading on Thickener (kg/m2/day) 
Digestion Temperature (OC) 
Retention Time in Digester (days) 
Solids Loading on Digester (kg/m2/day) 
Filter Yield (kg/m2/hr) 
Cake Solids Concentration (kg/my 
Cost (lo3 $ / ~ r )  
Computer Time ( C P  seconds) 
Total  System Cost ( lo3 $ / ~ r )  
Infeasible in the optimization model solved by GRG. 
Total  Computer Time : 9.265 C P  seconds. 
thickener supernatant  flowrate is small compared to  tha t  of the digester and filter superna- 
tants.  It is interesting to  examine the errors associated with the designs with high thickener 
supernatant  flowrates. Tables 3.19 to 3.21 summarize thrce designs tha t  have high thick- 
ener supcrnatant  flowratcs. The  vnlues of t,he decision vnrinl)les obtained from the dccom- 
position approach were used ns inputs to the analysis program (Section 2.5) which calculates 
the  exact values of the s ta te  variables in the model. Important  design vari:lbles calculated 
from the decomposition approach as well ns using the analysis program are compared with 
each other. T h e  errors in Tables 3.19 t o  3.21 for thesc variables are  a11 less than 1%. These 
values olTer an indication of the maximum possible errors in the decomposition approach; 
the  errors are expected to  be smaller when the thickener flowrate is smallcr. For the  
---- ;'<I - -- t LL*' olnoli :t 
33onis :+ :ON3337 
I 
, 
- C;IZ' 19'LZ I SSO' 
8)0' 
LtO' 
LSO' 
& 
I LZ'L 
-
ICO 9 I 
I 9S'L 
SZL'O = J ' 
--- C Z - -- 
'6Et1 i 
-1 
v 
lN311-lAA3 
Table 3.19 - Esamination of Assurnprions in the Decomposition Approach 
P r ~ m a r y  Clarifier Overflow Rate  
hlean Cell Residence T ime  
Hydrau l~c  Retention T ime  
Sludge Recycle Rat io 
Solids Loading on Thickener 
Digestion Temperature 
Retention Time in Digester 
Solids Loading on Digester 
Filter Yield 
= 144 m j d a y  
= 2.17 days 
= 3.65 hr 
= 12.5  % 
= 12 8 kg/mC/day 
= 59.3  C 
= 12 9  days 
= 27 .3  kg/m2/day 
= 13 5  kg/m:/br 
A p p r o x i m a t e d  Design E x a c t  Design ~ r r o r * ( % )  
P r i m a r y  Clar if ier  - 
Sur face  A r e s  ( m y  
Solids  R e m o v a l  (5) 
Under f low Solids  (%) 
A e r a t i o n  T a n k  - 
\'olume (m3) 
Biomass  ( m g / l )  
h f L S S  (mg/ l )  
F i n a l  Clar if ier  - 
S u r f a c e  A r e s  (m2) 
Ef f luen t  B O D 5  (mg/ l )  
E m u e n t  TSS (mg/ l )  
G r a v i t y  T h i c k e n e r  - 
S u r f a c e  A r e a  (m? 
I n f l u e n t  Sol ids  (%) 
Under l low Solids  (%) 
S u p e r n a t a n t  (m3/hr )  
P r i m a r y  Diges te r  - 
V o l u m e  (mJ) 
E m u e n t  Sol ids  (%) 
S e c o n d a r y  Diges te r  - 
S u r f a c e  A r e s  ( m y  
S u p e r n a t a n t  (m3/hr )  
V a c u u m  Fi l t e r  - 
S u r f a c e  A r e a  (m-) 
C a k e  Solitla (5) 
S u p e r n a t a n t  (m3/hr )  
T o t a l  S y s t e m  C o s t  r) 
I A p p r o u i m n t e d  decign v3lue - Esnct  d ~ s i g n  v n l ~ l e  i
E r r o r  (%) = ' x 100 
E x a c t  design v s l u e  
Table 3.20 - Examination of Assumptions in the  Decomposition Approach 
Primary ClariEer Overflow Rate 
Mean Cell Residence Time 
Hydraulic Retention Time 
Sludge Recycle Ratio 
Solids Loading on Thickener 
Digestion Temperature 
Retention Time in Digester 
Solids Loading on Digester 
Filter Y i ~ l d  
= i 4 4  m/day 
= 2.16 days 
= 3 .68  hr 
= 12.6 % 
= 13.7 kg/m2/day 
= 59 .3  T 
= 12 .5  days 
= 29.0 kg/m2/day 
= 7.76 kg/mYhr 
Approximated Design Exact  D e s ~ g n  Error*(%) 
Pr imary Clarifier - 
Surface Area  (m? 251.57 251.58 .0040 
Solitls Removal (%) 39.454 39.503 ,12 
Underflow Solids (%) 7.7203 7.6947 .33 
Aeration T a n k  - 
Volume (m3) 5550.2 5550.4 .036 
Biomass (mg/l) 713.26 714.40 .16 
m-23 (mg/l) 1540.2 1542.8 .17 
Final  Clarifier - 
Surface Area  (m? 705.9 1 708.65 .39 
EfIluent BOD5 (mg/l) 30.000 2S.:,G6 .11 
Etfluent TSS (mg/l) 29.190 29.000 .34 
Gravi ty  Thickener - 
Surface Area  ( m y  441.01 443.84 .64 
Influent Solids (5%) 2.1534 2.1517 .060 
Underflow Solids (%) 5.2872 5.2864 .015 
Supe rna t an t  (m3/hr) 7.0000 7.0372 .53 
Pr imary Digester - 
Volume (m3) 
Eflluent Solids (%) 
Secondary Digcster - 
Surface Area  ( m 3  
Supe rna t an t  (m3/hr) 
V s c u ~ l r n  Filter - 
Surface Area  ( m y  10.465 10.535 .66 
Cake  Solids (5%) 10.606 10.606 .OO 
Supe rna t an t  (m"/hr) 3.0000 3.0202 .67 
T o t s l  System Cost  ( lo3 $/yr) 518.67 520.00 '.25 
I Approximated decign vslue - Exact  design value 1 
Error  (%) = 
Exact  design value 
- x I00 
Table 3.21 - Examination of Assu~nptions in the Decomposition Approach 
Primary Clarifier Overflow Rate 
Mean Cell Rev~dence Time 
Hydraulic Retention Time 
Sludge Recycle Ratio 
Solids Load~ng on Thickener 
Digestion Temperature 
Retention Time in Digester 
Solids Loading on Digester 
Filter Yield 
= 144 m/day 
= 2.16 days 
= 3.66 hr 
= 12.5 % 
= 12.0 kg/m2/day 
= 59.3 C 
= 12.7 days 
= 36.5 kg/rn2/day 
= 6.91 kg/m2/hr 
Approximated Design Exact  Design Error*(%) 
Pr imary Clarifier - 
Surface Area  (m") 
Solids Removal (%) 
Underflow Solids (96) 
Aeration T a n k  - 
Volume ( m 3  
Biomass (mg/l) 
MLSS (mg/l) 
Final Clarifier - 
Surface Area  (rn? 
Effluent BODB (mg/l) 
Effluent TSS (mg/l) 
Gravity Thickener  - 
Surface Area  (mT) 
Influent Solids (5%) 
Underflow Solids (%) 
Superna t an t  (m3/hr) 
Pr imary Digester - 
Volume (m3) 
Effluent Solids (%) 
Secondary Digester - 
Surface Area  (mZ) 
Supe rna t an t  (m3/hr) 
Vacuum Filter - 
Surface Area  jm') 
Cake Solids (9,) 
Superna t an t  ( m y h r )  
T o t a l  System Cost  ( l o 3  $/yr) 
I Approximnted design vnlue - Exnct design vnl~le  I
Error  ('5) = A - x 100 
Exact design value 
parameters a ~ ~ d  design conditions considered in this example, the  simplifying assumptions 
appear t.o be very reasonable. It is also noted that  thc objective iunction value calculated in 
the  decomposition approach is slightly lower than that  calculated from the analysis program 
in ail three cases. Because the suspended solids in the thickener supernatant are ignored in 
tha decomposition approach, the  cost for liquid treatment is underestimated, bu t  this error 
appears insignificant from a practical point of view. 
There may be many modifications of the basic decomposition approach outlined in this 
section. Alternative optimization techniques may be used to  optimize the liquid subsystem 
design. For example, IGGP can be applied to solve this subsystem design. Dynamic pro- 
gramming or any other nonlinear programming techniques are also possible candidates. As 
for the  coordination of the subsystem designs, it may be possible to  employ more efficient 
optimization technique than the  coarse grid enumeration to find the  combination of recycle 
flowrates (Qlo, QI3, and QIS) tha t  results in the least total system cost. These modifications 
are potentially capable of refining and improving the  proposed basic approach. 
3.5. Summary 
The  comprehensive system model described in Chapter 2 can be optimized using threc 
optimization techniques. T h e  first approach solves the  nonlinear programming model, which 
contains 6.1 variables, 55 equality constraints, and thrce incquality constraints, directly using 
the generalized reduced gradient algorithm developed by Lasdon e l  al .  (GRG2). T h e  solu- 
t ~ o n  obtair~ed from applytng GRG2 dcpcnds on the  various control pararrictors ass~gncd,  thc  
initial solution, bounds on ~ r ~ o d e l  v a r l a b l ~ ' ~ ,  and constraint and variable bcaling. Con~pu ta -  
tional experience with a particular problem is helpful for obtaining "good quality" solutions. 
hlultiple start ing points are necessary to ascertain the quality of the  solution obtained. An 
approach dcrived from the Ilop-Skip-Jump method can be used as a tool to  improve and 
fine-tune the solution obtained by solving the base nonlinear programming wastewater treat- 
ment system model. Good bui  diflerent solutions can also be obtained using this approach. 
T h c  computing time requirements Tor GRG:! arc comparable to those reported in the litera- 
ture for solving wastewater treatmcnt syst,em models using other optimization techniques. 
The  comprehensive system model can also be formulated as 3 geometric program by 
modifying the constraint set and by assigning a value to  one variable in the model. An 
efficient package for solving geometric programs (IGGP) can be employed for solving the 
subproblems resulting from the partitioning process. ti one-dimensional enumeration can be 
used to  search for the optimal value of the fixed variable. This second level search could be 
more efficient if IGGP be able to s tar t  from an infeasible start ing point and to  
proceed with the optimization efficiently. This is prevented by the large number of equality 
constraints in the model. The  computing time for solving the geometric programming sub- 
problems is usually less than five seconds. Therefore IGGP would be more at tractive for 
wastewater treatment systems tha t  can be described completely as a geometric program. 
Because of the unique structure of the wastewater treatmcnt system under study,  an 
approach that  decomposes the wastewater treatmcnt system into two interacting subsystems 
was developed for optimization of the overall system design. The  liquid subsystem design 
can be optimized using GRG2 for spec~fied recycle charncteristics from the sludge subsystem. 
This problem contains 21 variables, 1'7 equality constraints, 2nd three incqullity constraints, 
and it can be solved very cfficicntly by GRG2. The  solution obtained from the  liquid sub- 
system optimization provides input to  the sludzc subsystem. The  design or the sludge sub- 
system is ca r r~cd  ou t  sequrn tially for rach unit process. Two one-dirne~~sional optimization 
searches arc embedded in the sludge subsystem design. The  computing time requirement for 
the sludge subsystem design is trivial. A coarse grid cnumer:ltion is employed for the second 
level optimization that  searches for the combination of the interacting variables tha t  pro- 
duces the lo~vcst total system cost. Trends for cost-ellcctive system designs can be identified 
in this approach with confidence. The  totnl computing time for one set or design conditions 
is con~parable  to that  required when using GRG? for the entire model. Improvenient in the 
computing time may bc poss~ble if an another optimization technique is subst i t i~ tcd  for 
enumeration in the second level problem. Several simplifying assumptions are necessary in 
using the decomposition approach. These assumptions appear very reasonable for the exam- 
ple problem. It is noted tha t  if the same assumptions are applied to the original model 
evaluated using GRG2, three variables and three constraints can be omitted. However, the  
model is still of considerable size, and the  same dificulties discussed above in using GRG2 
for solving the entire system model are expected to occur. 
Using the GRG2 algorithm to solve the comprehensive system model is the most 
straightforward approach for optimization. Once formulated, the model can be used repeti- 
tively to examine various influent and design conditions with only minor adjustments of the 
input d a t a  files. However, if the flowchart is modified, the system model needs to be revised 
and most variables and constraints in the model need to be relabeled which may involve 
extensive effort. If the size of the problem increases, however, the efficiency of the algorithm 
decreases drastically. Therefore although it is useful as a tool for process analysis because it 
can be applied directly, it may not be the  best strategy for optimizing a complex wastewater 
treatment system. T h e  use of this algorithm for the  analysis of wastewater treatment 
processes is illustrated in more detail in Chapter 4. 
IGGP is an eficient program for solving geometric programs. However, for the waste- 
water treatment system model tha t  contains a large number of equality constraints, t he  
optimization performs better with feasible start ing solution. Therefore the second level 
problem of finding the  optimal value of the partitioned variable cannot be solved by elficient 
optimization technique. In addition, the model has to be formulated as a geometric program 
before IGGP can be applied, which may not always be possible because process design equa- 
tions may be of any mathematically complicated forms. 
T h e  decompos~tion approach is specially deveioped to solve the  compreliens~ve system 
model by taking advantage of the unique structure of the waste treatment system and 
reducing the dimensionality of the problem. By decomposing the overall system into 
interacting subsystems, different optimization algorithms can be appiied to  solve different 
subsystem designs. Nonlinear programming algorithms are also more efficient for solving 
problems of smaller size. This approach is also quite flexible, since design of some unit 
processes is done on a modular basis. Consequently, modifications of the  process flowchart 
will not cause extensive revision of the system model in terms of human effort. The  
identification of any trend related to cost-efficient design is especially useful since it suggests 
design guidelines. Also, many solutions with good total system costs are identified in this 
approach. These solutions can then be evaluated with respect to  other planning issues tha t  
are not captured in the cost minimization model. 
CHAPTER 4 
A N  ILLUSTRATION OF THE USE OF THE OPTIkIIZATION MODEL 
FOR PROCESS ANALYSIS AND DESIGN 
4.1. Introduction 
An optimization model can be used to obtain cost eflcctive designs of the wastewater 
treatment system defined by the selected process performance models and parameters. 
Using an optimization model also enables the designer to  analyze process performances sys- 
tematically and effectively. Detailed design of the  entire wastewater treatment system can 
then be performed following the guidelines or trends suggested from the modeling study. 
In this chapter the role of an optimization model is explored, and it is shown t h a t  such 
a model may be used for more than just identifying a least-cost system design. Specifically, 
such a model can be used as a tool for the analysis of treatment process performance and of 
alternative t rea tment  plant configurations. Potentially important  research areas or design 
guidelines can also be identified from these insights. 
The  hypothetical wastewater treatment system described in Figure 2.1 was designed 
using various optimization approaches described in Chapter 3 for the  design conditions sum- 
marized in Tables 2.6 to  2.8. T h e  final designs obtained from using GRG2 are summarized 
in Table 3.9. These designs provide the  basis for the following discussion. They have 
several common characteristics; the overflow rate of the primary settling tank,  the  digester 
operating temperature,  and the solids concentration of the cake from the vacuum filter are  
a t  their upper bounds. The  implications associated with a variable being a t  its specified 
bound in the final solution may provide useful insights. Relaxing such a bound may imply 
tha t  the  total system cost could be reduced. It may be necessary, however, to  extrapolate 
process models. Additional research may be needed to  justify such extensions if bounds 
imposed on the  decision variables represent ranges recommended for design or limits within 
which the process model is developed. On the other hand, if lhe bounds represent the  limits 
outside which process failure will occur, then extrapolation of a process model is inappropri- 
ate. hlodification or the process flowchart may also be suggested when a variable is a t  its 
bound. For instance if an unusually high upper bocnd on a loading rate is approached in 
the optimization solutions, then it may be desirable to eliminate tha t  unit process. 
Design of wastewater treatment systems is subject to  uncertainties. Uncertainties 
arise from parameter estimation, cost information, the prediction of influent characteristics? 
possible changes in the water quality regulations, and the lack of knowledge about  the  per- 
formance of some unit processes. While design is usually carried out  by assuming steady- 
s ta te  conditions, an operating wastewater treatment plant is more likely to receive sewage 
varying with time in quanti ty as well as in strength. There  may also be other impor tant  
planning issues tha t  are  specific for each plant; examples are energy requirements, effluent 
limitation on a specific pollutant, and system reliability concerns. In light of these realistic 
considerations, t he  design obtained from the mathematical optimization of a comprehensive 
system design model needs to be examined carefully or modified so tha t  the final plant being 
constructed will meet the design goals. 
This chapter presents observations and discussions drawn from an examination of the  
solutions obtained from the optimization or the  example wastewater treatment system. T h e  
discussion is on a unit-by-unit basis. Finally lhe design of wastewater treatment plant is 
considered as a two-objective problem to illustrate a simplistic approach for design under 
uncertainty. T h e  tradeom between economic efficiency and a flow safety factor is studied. 
This design approach allows the  use of an optimization model as a useful preliminary design 
aid. 
4.2. Primary Sedimentation 
Typical design guidelines for a primary settling tank generally call for the overflow 
ra te  to  be less than or equal to 40 metersjday under the average flow conditions (see, for 
example, Great  Lakes- Upper Mississippi River Board of Sta te  Sanitary Engineers, 1978). In 
their pilot scale studies, Tebbut t  and Christoulas (1975) investigated the performance of pri- 
mary settling tanks for overflow rates up  to 150 meters/day. Their results implied t h a t  the  
current practice is too conservative. As a result, an upper bound of 144 metersjday was 
imposed on the  overflow rate in the comprehensive system model. T h e  final design showed 
t h a t  the overflow rate is a t  this upper bound. 
This solution suggests tha t  the  total system cost may be further reduced by relaxing 
the  upper bound on the overflow rate because of a negative reduced gradient associated with 
this variable in the  final solution. Two major questions arise: 
1) Is the  Voshel-Sak model a valid representation of the primary clarifier performance 
when the overflow rate is as high as t h a t  assumed in the comprehensive system model? 
2) Is the  primary clarifier a cost-effective unit in the  assumed wastewater t rea tment  sys- 
tem? 
Extrapolating the  Voshel-Sak model to  high overflow rates shows tha t  solids removal 
efficiency decreases only marginally as the loading increases substnntially. This is depicted 
in Figure 4.1. It is expected tha t  the solids removal efficiency will decrease sharply when the  
overIlow rate reaches a critical value. Therefore t,he behavior o i  the prim:~ry set,tling tank a t  
high overflow rates should be an area of further investigation. 
T o  address the  second question, the  primary settling tank was eliminated from the  
base system. The  modified system is shown in Figure 4.2. T h e  GRG:! was used to  deter- 
mine an optimal design under the base conditions listed in Tables 2.6 through 2.8. T h e  
GRG2 model describing the system design has 51 variables, 43 equality constraints, and 
1/6w 'UO!~PJ~U?~UO~ sp!los papuadsns 
00s OOP OOC 002 OOt 0 -rl 
00'0 7 
0 
OT'O 
-f. 
03'0 o' 
3 
OC'O 0 - 
OP'O 
m 
OS'O 2 -- 
09'0 ,n 
OL'O 
w 08'0 0 
3 06'0 0 
oo-r 2 -
Xap/s~aiaw MOI ~J~AO 
OSZ 002 OST OOt 0s 0 7 
I I I 1 
- - 
- - 
- - 
00'0 7 
u OT'O 0 
3 
OZ'O 0- 
3 
0'2'0 0 - 
----------=-- - .-- - a \ .  - 
- 
-1/Bw OOE = sp[los suenlful --- 
1/6w 003 = SPIIOS iuQnlfu1 - - 
-1/fiw 001 = SPllOS luanl3ul 
- 
($Pol4 Y DS-la WoA I 

three inequality constraints. T h e  computer program listing of this model is included in 
Appendix H. Table 4.1 summarizes the results of the  optimization. 
Three different starting points were used for the GRG2 runs. T h e  final designs are 
very similar, and the total system cost without the  primary clarifier is about 492,500 
dollars/year, or 1.6% less than the final design with the  primary clarifier. The  final design 
obtained from using starting point No. 1 is shown in Figure -1.3 (refer to  Section 2.2.2 for the  
notation). A comparison between this design and the one with the  primary clarifier in the  
system (design No. 6 in Table 3.9) is shown by Table 4.2. Without the  primary clarifier in 
the system, a larger aeration tank and final clarifier are needed to achieve the  same ef luent  
water quality. However, the total sludge production is less because of the  absence of primary 
sludge. Therefore the  costs for sludge treatment and disposal are less. However, the  biologi- 
cal parameters used for design of the system without the primary clarifier are  likely to  be 
different from those of the  system with the  primary clarifier. This is a weakness of this 
analysis and further research is necessary to determine how the biological parameters are 
affected by the absence of the primary clarifier. For  the base design conditions, with the 
assumption t h a t  biological parameters are constant, provision of the  primary clarifier 
appears to be unjustified 3s far as the economic efficiency of the system is concerned. 
T o  explore further the role of the primary clarifier, the influent volatile biodegradable 
suspended solids concentration was increased to  200 mg/l while the  other parameters in the 
model remained unchanged. Five different starting points were used for the GRG2 optimiza- 
tion runs, and the  results are tabulated in T:rble 4.3. In contrast to the results when the 
base design corlditions were evaluated, the prinlary clarifier overflow ra te  is not a t  the 
upper bound of 144 meters/day in any of the  final solutions. This suggests tha t  the  pres- 
ence of this unit is cost-effective for these design conditions. The  final design obtained from 
start ing point No. .5 is shown in Figure 4.4; this design h s  the  lowest total system cost 
(545,000 dollars/ye3r) among the five final designs. 
O'OSI 
S'SZI 
O'OC 
0.1. I 
O'OSI 
Z'L91 
O'OC 
C'6C 
0'0'2 
I 'SZ 
O'OSI 
I." 
G aPI 
(spuo3as d3) am!L ~a2ndmo3 
lCUY 
I'F!?!U! 
(JL/$ cO1) 1503 ma?si~ l"10.L 
l"UY 
lqu! 
(l/sm) SSL 3uanB3 
I"UY 
["!?!U! 
(I/s~) 'a08 gUanw3 
I"UY 
l"!?!U! 
&m/Sy) uo!go~~ua3uo3 sp!los ayq 
CO'L CO'L ZO'L I"UY 
0'6 6'9 0'8 p!?!u! 
(J~/~~/SX) Pla!A Ja?l!d 
L'tC 9'1.C 6'f.t' IEuY 
0'81 0'9'2 O'PZ [a!?!u! 
(Lep/,m/Sy) ~a?saS!a uo Su!p.eo~ sp!~os 
6'ZI P'CI P'ZT IZUY 
0'01 0'05 031 I"!?!u! 
(shp) ~a?saS!a u! am!L uo!?ua?aa 
09 09 09 leuY 
sc sc sc lqu! 
(3 ) a~n?.e~aduraL uo!?sa%!a 
I .ZT O'LI C'ZT IQUY 
0.8 1 0.9'2 0'f.Z ["!?!u! 
(L~p/~m/Sy) Jauays!qL uo Su!poo~ sp!log 
S'P I 9'FI L'PI IZUY 
0's I O'OC O'SZ I'E!?!U! 
(%) 0!3"~ al3L3aa aoOpn~s 
L'P L'P 93 I"UY 
O'P 0'8 0'9 I'F!?!U! 
(~q) am!L uo!?ua?aH 3!lnc~pL~ 
80'L 80'E 80.2 lc"!l 
S'Z S'S 0-2 IZ!?!~! 
(sXcp) am!L a3uap!saU [la3 uzalq 
C 
" 
G T 
E~:ID 2u!s11 pau!c:qg uc!lnlos 
(3!un) ~I~"!J"A 
I ! I , :, !? t; i 
LANDF l LL 2 9 .  t 
i 2 3  
1 t3 
LEGEND : 
3: SLUDGE 
+: L IQUID  
Figure 4 .3  - Final Design for the \Yastewater Treainlent System Without a Pri~nary Clarifier 
Table 4.2 - Final Designs With and Without a Primary Clarifier in the System 
Variables (Units) With Primary Clarifier Without Primary Clarifier 
Primary Clarifier Surface Area (m2) 25 1 -- 
Mean Cell Residence Time (days) 2.10 2.08 
Aeration Tank Volume ( m 3  5637 7038 
Sludge Recycle Ratio (%) 12.8 14.7 
Final Clarifier Surface Area (m2) 68 7 717 
Thickener Influent Flowrate (m3/hr) 11.8 17.8 
Thickener Influent Solids Concentration (kg/m3) 21.3 12.0 
Thickener Surface Area (m2) 475 41 1 
Digestion Temperature ( C) 60 60 
Primary Digester Volume (my 1500 1170 
Retention Time in Digester (days) 14.0 15.4 
Vacuum Filter Surface Area (m2) 6.7 10.8 
Cake Solids Concentration (kg/mg 150 150 
Effluent BOD, (mg/l) 30.0 30.0 
Effluent TSS (mg/l) 30.0 30.0 
Total System Cost ( lo3 $/yr) 500.4 492.5 
T h e  same design conditions were then examined for a system without a primary 
cIarifier. Four start ing Ijoints were tested, and the  final designs were very similar (Table 
4.4). The  total  system would cost 556,300 dollars/year, which is slightly (2%) higher than  
t h a t  for the base system designed lor the same conditions. This design is shown in Figure 
4.5. A comparison or the  two designs is shown by Table 4.5. It is not surprising to  observe 
t h a t  the  primary clarifier is cost-effective when the influent wastewater contains high con- 
centration of suspended organic materials. This trend would be expected t o  apply to  even 
higher, or lower, influent suspended solids levels than those considered here. In general, 
depending on the  design conditions, the  observations t h a t  can be drawn from a wastewater 
t rea tment  system optimization study may be very different. 
4.3. Activated Sludge 
T h e  final designs for the base system are characterized by an emuent t h a t  just meets 
the assumed wat,er quality standards.  1-Iowever, it is possible t h a t  only one of the two con- 
T a b l e  4.3 - S u ~ n m a r y  of \Vastewater Treatment  System Design : 
Influent Volntilc Dioclegradnble Sol ids  = 200 m % / l  
Solution Obta ined Using GItC;:! 
Variables (Units) 
1 2 3 4 5 
Pr imary Clarifier Overflow Rate  (m/day)  
initial 36.0 24.0 32.0 36.0 24.0 
final 130.0 79.9 116.6 69.2 113.3 
Mean Cell Residence Time (days) 
initial 2.0 3.0 4.0 5.0 6.0 
final 2.38 2.41 2.30 2.42 2.39 
Hydraulic Retention Time (hr)  
initial 2.4 3.6 6.0 4.8 10.8 
final 4.3 4.2 4.3 4.1 4.3 
Sludge Recycle Rat io  (96) 
initial 15.0 30.0 25.0 25.0 10.0 
final 14.1 13.6 14.0 13.5 13.9 
Solids Loading on Thickener  (kg/m2/dzy) 
initial 12.0 36.0 40.0 24.0 12.0 
final 12.0 13.0 12.0 12.0 12.0 
Digestion Tempera tu re  ( C) 
initial 35.0 25.0 35.0 35.0 35.0 
final 60.0 60.0 60.0 60.0 60.0 
Retention Time in Digester (dzys) 
initial 15.0 20.0 15.0 15.0 15.0 
final , 14.7 17.1 14.4 16.0 15.1 
Solids Loading on Digester (kg/m2/day) 
initial 12.0 24.0 18.0 24.0 12.0 
final 48.0 48.0 48.0 48.0 48.0 
Filter Yield (kg/m2/hr) 
initial 13.0 7.8 12.0 8.0 10.0 
final 6.41 6.31 6.37 6.31 6.3 1 
Cake Solids Concenlration (kg/m3) 
initial 70.9 186.3 52.2 142.2 164.3 
final 12l.O 150.0 132.3 148.3 150.0 
Effluent BOD, (mg/l) 
initial 3 1.5 35.7 3.1.9 17.8 2-L.7 
final 30.0 30.0 30.0 30.0 30.0 
Effluent T S S  (rng/lj 
initial 21.7 50.7 59.5 23.4 41.1 
f ind  30.0 20.0 20.0 BO.O 30.0 
Tota l  System Cost  ( lo3 $ / ~ r )  
initial 788.4 774.3 709.9 768.7 779:l 
final 55.1.6 5.17.0 550.9 5.18.1 545.0 
Computer  Time (CP seconds). 536 88.273 666 570 525 
* Except  Tor s tar t ing  point No. 2, 311 computer  times reported on this tnble are rccordcd when 
the  optimization model and GIIC2 are run on 3 IIarris computer.  A subroutine cxlculating the  
analytical derivatives Tor all Tunctions in the model is incorporated in thrse  runs. 
ioot 
-, ILL'! , -
T a b l e  4.4 - T r e a t r n c n t  P l a n t  Dcsign Opt in i i za t ion  : I32sc S y s t e m  W i t l l o u t  a P r i r n a r y  Cl,\r if ier,  
I n l l u c n t  Vola t i le  G iodcgradnb le  S u s p e n d e d  Sol ids  Concc.nt rnt ion = 200 r n g j l  
Solution Obtained Using GItCi2 
Variables (Units) 
1 2 3 4 
Mean Cell Residence Time (days) 
in i t id  4.0 3.0 5.0 6.0 
final 2.27 2.27 2.27 2.57 
Hydraulic Retention Time (hr)  
initial 4.8 6.0 4.8 12.0 
final 5.8 5.8 5.8 5.8 
Sludge Recycle Rat io  (%) 
initial 15.0 10.0 50.0 30.0 
final 17.1 17.1 17.1 17.1 
Solids Loading on Thickener (kg/m"day) 
initial 12.0 2i.O 18.0 36.0 
final 12.0 12.0 12.0 12.0 
Digestion Temperature  ( C)  
initial 35 35 35 35 
final 60 60 60 60 
Retention Time in Digester (days) 
initial 15.0 20.0 25.0 10.0 
final 14.6 14.0 15.1 14.4 
Solids Loading on Digester (kg /myday)  
initial 12.0 24.0 18.0 30.0 
final 45.5 44.9 46.0 45.4 
Filter Yield (kg/m"hr) 
initial 10.0 7.8 8.5 7.4 
final 6.42 6.45 6.40 6.43 
Cake Solids Concentration (kg/mg 
initial 
final 
Emuen t  BOD, (mg/l) 
initial 
final 
Effluent T S S  (mg/l) 
initial 
final 
Totnl System Cost ( lo3 $/yr) 
initial 
final 
Computer  Time ( C P  seconds) 

Table 4.5 - Final Designs With and Without a Primary Clarifier in the System : 
Influent Volatile Biodegradable Suspended Solids Concentration = 200 mg/l  
Variables (Units)  Wi th  Pr imary Clarifier Wi thou t  Pr imarv Clarifier 
Pr imary Clarifier Surface A r e a  (m? 320 -- 
Mean Cell Residence T ime  (days) 2.39 2.27 
Aeration T a n k  Volume (m3) 6500 8778 
Sludge Recycle Ra t io  (%) 13.9 17.1 
Final clarifier Surface Area  (m2) 702 752 
Thickener  Influent Flowrate (m3/hr) 15.2 23.7 
Thickener  Influent Solids Concentration (kg/m3) 53.7 11.4 
Thickener Surface Area  (ml) 716 533 
Digestion Tempera tu re  ( C) 60 60 
Primary Digester Volume (m3) 2075 1639 
Retention T ime  in Digester (dxys) 15.1 14.0 
Vacuum Filter Surface Area  (m? 14.1 12.6 
Cake Solids Concentration (kg/m3) 150 150 
Effluent BOD5 (mg/l)  30.0 30.0 
Effluent T S S  (mg/l) 30.0 30.0 
Tota l  System Cost ( l o 3  $/yr) 545.0 556.3 
straints would be binding in the  final solution if a dilferent set of design conditions are  con- 
sidered. In the final solutions listed in Table 3.9, the sludge ages are about  2.2 days for the 
desien conditions assumed in Tables 5.6 to  2.8 since no provision for nitrification is con- 
sidered in the  model. T h e  sludge recycle ralios (10-13s) are lower than what is usually 
experienced in practice because lhe emuent suspended solids concentration increases with 
the  recycle rat io according to  Chnpmnn's model. Good slr~dge thickrning in thc final settling 
tank is also suggested a t  this low value of the sludge recycle ratio. 
Sludge sctt l ir~g characteristics could be atrccted by the sludge age. Bisogni and 
Lawrence (1071) showed t h a t  sludge llocculated and setlled better with longer sludge ages. 
This observation was questioned by Dick and IIasit (1081). Currently there is no consensus 
on how sludge age aflccts the  activated sludge settling properlics. If longer sludge ages d o  
enhance sludge thickening, then the  dcsign sludge age should perhaps be longer than t h a t  
obtained for the base system design. 
Increased organic loading to the wastewater treatment plant would be expected to  
have a direct effect on the design of the activated sludge process. T h e  influent soluble B O D ,  
concentration was increased to 200 mg/l and the model was optimized with GRG2 using five 
diBerent start ing points. T h e  results are summarized in Table 4.6. Although the initial 
designs are  quite diflerent, with sludge ages ranging from two t o  six days, the  final solutions 
obtained by GRG:! are very similar. T h e  system design obtained with start ing point No. 1 is 
shown in Figure 4.6. A comparison of this design with the final design (No. 6 in Table 3.9) 
obtained for the  base design conditions (influent soluble BOD:, = 100 mg/l) is shown by 
Table 4.7. It is observed that  the design of the primary clarifier is not  affected by changing 
the  influent soluble BOD,. This is consistent with the assumption made in the primary 
clarifier design tha t  the soluble B O D  is unaffected by this unit. T h e  design determined for 
the  high influent soluble B O D ,  condition has a slightly higher sludge age in order to  meet 
the same effluent water quality requirements. T h e  aeration tank is bigger, and the hLSS  
concentration is higher because of the higher organic loading. T h e  sludge production ra te  is 
high, resulting in higher costs for sludge treatment and disposal. 
4.4. Secondary Sedimentation 
The  clarification model describing the solids removal of the final settling tank in the  
activated sludge process plays a critical role in the design of wastewater treatment plants. 
Most previous researchers (see, for example, Middleton and Lawrence, 1976, Tyteca,  1981) 
assumrti t ha t  the final clarifier is 100% eficicnt in t.hc removnl of suspended solids. If the 
eflluent is assunred to  be free of s u s p e ~ ~ d e d  solids, then the system design model is subject 
only to  a restriction on the  B O D 6  concentratio:. 
This assumption can be expected t o  have significant impact on the entire t rea tment  
plant design. T h e  comprehensive sys t em model was modified to examine this issue; the  
water quality constraints are reduced t,o 
148 
T a b l e  1.6 - T r e a t m e n t  P l m t  Design Optimizat ion : Influent Soiuble BOD6 = '"30 rng/l  
Solrltion Obt7inetl Using GRG'? 
Vsriables (Units) 
1 5 3 4 5 
Primary Clarifier OverHow Rate jm/day) 
initial 
final 
hlean Cell Residence Time (days) 
initial 
final 
Hydraulic Retention Time (hr) 
initial 
final 
Sludge Recycle Rstio (%) 
initial 
final 
Solids Loading on Thickener (kg/m2/day) 
initial 
final 
Digestion Temperature ( C) 
initial 
final 
Retention Time in Digester (days) 
initial 
final 
Solids Losding on Digester (kg/m"day) 
initial 
final 
Filter Yield (kg/m2/hr) 
initial 
final 
Cske Solids Concentration (kg/m3) 
initial 
final 
Etlluent BOD, (mg/l) 
initial 
final 
Emuent TSS (mg/l) 
initid 
final 
Total Systen~ Cost ( l~"/yr)  
initial 
final 
Computer Time ( C P  seconds) 

Table 4.7 - Final Designs With DifIerent Influent Soluble BODS Concentration 
Influent Soluble BOD,  
Variables (Units) 
100 mq/ l  200 mg/1 
Primary Clarifier Overflow Rate  (mjday)  
Mean Cell Residence Time (days) 
Hydraulic Retention Time (hr)  
Aeration Tank  Volume (m3) 
MLSS Concentration (mg/l) 
Sludge Recycle Ratio (%) 
Final Clarifier Surface Area (m2) 
Thickener Influent Flowrate (m3/hr) 
Thickener Influent Solids Concentration (kg/m3) 
Mass of Sludge Processed (kg/hr)  
Solids Loading on Thickener (kg/m"day) 
Thickener Surface Area (m2) 
Digestion Temperature ( C )  
Retention Time in Digester (days) 
Primary Digester Volume (m3) 
Solids Loading on Digester (kg/m2/day) 
Filter Yield (kg/m"hr) 
Vacuum Filter Surface Area (m2) 
Cake Solids Concentration (kg/m3) 
E m r ~ e n t  BOD,  (mg/l) 
Emuent  TSS (mg/l) 
Total  Svstem Cost ( lo3  $/yr)  
St 5 B O D ,  standard (4.1) 
where S3 is the  soluble BOD,  concentration in the plant emurnt  as defined in Chapter 2 
Since the  total suspended solids concentration of the emucnt is assumed to be zero, no con- 
straint  is needed lor suspended solids. 
Optirnizatiori runs were lnnde with a t o t ~ l  (solu1)le) DOD5 s t a~ idnrd  of 15 :rncl 10 rng/l 
for the bnse design conditions except thc i~ifiucnt solr11)lc DO,!), concentration was clinnged 
from 100 to 200 mg/l. T h e  results o l  these two runs are summarized in Table 4.8. These 
final designs show that  the total system costs are much less than tha t  obtained originally 
(577,100 dollars/year in Table 4.6) even though the  BOD,  standards are much more 
stringent (30 mg/l  initially). If Chapman's model for clarification correctly calculates the  
I 'EL L'86 (spuo2as ~3)  am!^~aqndmo3 
8'SCS L'9GP It UY 
0'848 0'8S8 [r!'l!u! 
(lJC/$ c~~) Is03 ma9sLs 1VJ.L 
0'021 I'GCI IzUY 
6'IC G.IC I'q!U! 
(1/9m) SSL guanU13 
0'1s C'SL I= UY 
C'F2 C'b2 ['!'l!"! 
(1/9m) Sa~u qUarlW3 
L'OZI L'90 IzuY 
2'ZS 2.29 [t!'I!U! 
&m/9y) uo!grlgua2uo3 spqos ayq 
1 t'9 99.9 1"UY 
0'21 0'21 [=!?!u! 
(lV/:m/9?1) PIa!A laql!d 
0'8t 0'8P IrUY 
0'81 0'81 IF!g!U! 
(L~p/,m/By) ~aqsaS!a ho Bu!pcoq sp![os 
9'91 9.91 It UY 
0.91 0'9 I I"!'I!U! 
(sLap) ~agsa9!a u! am!L uo!guagax 
0'09 0'09 IFUY 
O'SC 0.SC [yp! 
(3 ) a~nq~~adma~ uoysZ!a 
P'9I 2'01 IruY 
O'Ot O'OP ['!'I!"! 
(L~p/~m/Sy) lauay2!qL uo Su!pzoq SP!IOS 
8'82 8'ZC IZUY 
O'SZ O'SZ ["!?!U! 
(%) o!qq a13L3ax a%pnls 
6.01 S'L It UY 
0'9 0'9 ["!g!U! 
(~q) am!L uo!guaqax 2!ln.e~pL~ 
LOT 8L'Z IEUY 
O'P O'P IE!?!U! 
(sLvp) am!L a2uap!sax 11" uzatq 
O'PPI ow1 1"UY 
O'ZS O'ZC ["!?!U! 
(Lzp/m) aqq n\oUlaAo lay!l~i3 L~zm!~d 
elfluent suspended solids concentration, t.lien the designs shown in Table 4.8 are in fact 
unacceptable because the actual B O D 5  conccntration wo~:ld be greater than 50 mg/l and the 
actual total suspended solids concentration greater than 120 mg/l; these concentrations are 
well beyond the  water quality restrictions. 
This example illustrates tha t  it is important ,  of course, for a comprehensive system 
model to  include complete performance relationships for a11 unit processes in the system. 
Performance relationships for some unit processes, however, may not be available or not be 
reliable. In such cases, making simplifying assumptions are crucial since an "optimal design" 
obtained is not likely to be optimal or even feasible when the process mechanisms are taken 
into account. This example also supports the view tha t  in general it is more important  to 
use such a systern model as a tool to identify the limitations of current process models and 
future research arezs, and to  analyze the trends for cost-effective process synthesis or design, 
rather than to  use such a model to obtain the "optimal systern design." 
4.5. S l u d g e  T h i c k e n i n g  
Sludge thickening in a wastewater treatrnent plant is provided to  reduce the  volume of 
sludges for processing and final disposal. Very large thickeners are specified by the solutions 
to  the base system model, and the digester inllrlcnts have coricentrations higher than 5';71 in 
all desigris in Table 3.9. LVith these high solids concrntrations, the costs of hentin5 t h r  diges- 
ter influent become outweighed by the benetits tha t  can be derived from the methane pro- 
duction in the digester. Therefore an rfficicntly drsigncd th icke~ir r  is the  key to  3 cost- 
cuective sludge treatrnent train. However, there should I)e n practical limit on thickener 
design beyond which the lirnitirig flux theory is no longer :~pplicable for predicting underflow 
solids conccntration. T h e  lower bound for the solids loatling of the gravity thickener in the 
model is 12 kg/m2/day which is lower than values usually observed in practice. The  model- 
ing study suggests tha t  the limitations of the limiting flux theory be investigated. A long 
detention time in the thickener may cause sludge degradation in the thickener and problems 
in sludge cransport. 
There are a number of possible schemes for sludge thickening other than tha t  assumed 
in the base flowchart. One such scheme has been analyzed using the system model. If the 
limiting flux theory is valid for primary sludge thickening as assumed, then recirculation of 
the waste activated sludge to the primary clarifier would appear to be very attractive. The  
separate thickener could then be eliminated from the system. and yet  a very concentrated 
sludge could be obtained from the primary settling tank and pumped directly to the diges- 
ter. This scheme is depicted in Figure 4.7. The  thick sludge would have a significant impact 
in reducing the  cost of sludge treatment and disposal. 
The  GRG optimization model was modified to represent the flowchart shown in Figure 
4.7. The  revised optilnization model has 51 variables, 43 equations, and three inequality 
constraints. A listing of the optimization model is in Appendix I. 
Results of optimizing the treatment system design using GRG2 are listed in Table 4.9. 
Five start ing points were used in this exercise. The  final solutions have objective function 
values ranging from 466,200 to 469,200 dollars/year, representing cost reductions of 6.2 to 
6.8% from the  cost of the base system designed for the same conditions (which has total sys- 
tem cost of about 500,400 dollars/year). T h e  final design obtained from start ing point No. 1 
in Table 4.9 is shown in Figure 4.8. 
Because of the use o i  the primary clarilier as a thickener, the f ind  soll~tions speciiy 
tha t  the size of this unit be from 400 t o  750 rn2, which are  sigr~ificnr~tly larger values t11:ln 
the  250 m2 obtained for the base system. In the design shown in Figure 4.8, the  primary 
sludge is about  7.5% (75.5 kg/m3) with 3 flowrate of 3.45 m3/hr. This sludge is 3 highly 
concentrated digester influent with a high organic content,  which helps to produce more 
methane gas a t  a moderate digester retention time (17.G days). A comparison of the  pri- 
Figure 1.7- Recircul:ition o f  IC'nste Activated Sludge to Primary C!nritier 
I  N F L U E N T  EFFLUE?Y'T 
I 
?R I MARY 
S E T T L  l NG 
SEC3NDAE ' f  
S E T T L  l  NG 
A E R A T  l O N  -+ 
I 
I 
v 
I 
I 
I 
7.7 
ANAEROB 1 C 
D I G E S T I O N  
(PR I M A R Y )  
- 
/ 
- 
ANAEROB l C 
D l  GEST I O N  
(SECONDARY)  
J 
L EGEI'IE : Ti 
F I L T R A T I O N  : S L U D G E  
+: L I Q L I I D  
L A N D F  l L L  
OSG'CL' 6CO'LC S91.'9P LOS'GC GC6'CZ (spuo2as d3) au!~ aqnduo3 
O'L9F P'L91 '9 0'891 C'991 lVUY 
L'CS9 F'OL9 Z f CL C CG9 I'S09 IC!I!U! 
(~d/$ '01) ?so3 lwsbs IVWL 
O'OC O'OC O'OC O'OC O'OC ICUY 
0 Z'OZ 1'9s 1'82 9'CC IC!l!u! 
(1/9u) SSL 3uanw3 
O'OC O'OC O'OC O'OC O'OC I'UY 
L'91 8'F I 8'82 8'LC 0'9Z IC!3!u! 
(I/S~) 'a08 quanu13 
O'OSI O'OSI O'OSI O'OSI O'OSI ICUY 
5'891 C.CSI F'191 1'191 I'b9I [C!?!u! 
6~/83) UO!3CJ'JUa2UO3 Sp!lOS ayE3 
OC'L 01'8 F9'8 8G'L 69'L lzUY 
0.61 S'P I 0.0; O'OC 0'01 I'!?!U! 
(~q/,u/B3) Pla!A Ja?l!d 
C'ZC 8'ZC 8'81 8'CZ S'9Z IcuY 
Z'L 8'P P'Z F'Z O'ZI IC!l!u! 
(d~p/,u/Sy) ~agsaP!a uo Bu!peol sp![os 
C'SI 
O'OC 
I'CZ 9'LI 
O'OZ O'SZ 
I'UY 
[qu! 
(sbep) ~a3saB!a u! au!L uo!guagaa 
IEUY 
I"!l!U! 
(3 ) a~nge~adma~ uo!gsa%!a 
I"UY 
lZ!?!U! 
(%) o!qe~ a13b3a~ aSpnls 
1"UY 
['!3!U! 
(~q) au!L uo!guagaH 2![nslpb~ 
I'UY 
IE!?!U! 
(sbcp) au!L a2uap:saH Ila3 uCalq 
I'UY 
IE!'l!U! 
(icp/m) 39x8 nio~~ao ~ay!~cl3 XJC~!J~ 
S'l I 
O'OC 
9'01 
O'OZ 
C'11 
O'OC 
F'ZI S'I I 
0.91 O'OZ 
P'C 
9'C 
S'C 
8'F 
C'C 
0'9 
SC'C 
S'P 
OC'Z 
0'4 
0C'Z LZ'Z 
S'Z O'C 
8'00 
O'OZ 1 
C'LS 
0'09 
18 L'OL 
0'9'2 O'ZL 

mary digester designs for the base system (design No. 6 in Table 3.9) and the  modified sys- 
tem is shown by Table 4.10. 
It is recognized t h a t  thickening characteristics of the combined waste activated sludge 
and the raw wastewater may be different from those of the raw influent alone. Also because 
the  waste activated sludge contains a high concentration of microbial mass, biological stabili- 
zation of soluble organics is possible in the primary clarifier. Experimental work on the use 
of the primary clarifier as a thickener is necessary to  verify the results from the  modeling 
study. 
Rimary sludge concentration has been modeled by many researchers as a constant. 
This modeling approach was examined by fixing the primary sludge concentration to 4% in 
the  optimization models. Table 4.11 summarizes the designs obtained from this approach 
and from using the  differential thickening technique for the base system. T h e  influent solu- 
ble BOD, is 200 mg/l in these runs. In general, the two solutions show the same characteris- 
tics for a cost-effective design. T h e  liquid subsystem designs appear to be similar regardless 
of the approach selected to model the primary sludge concentration. T h e  mass fractions of 
the  primary sludge are about the same in the  two designs, which results in very similar 
Table 4.10 - Comparison of Primary Digester Designs for the Base System 
and the System in Figure 4.7 
Wasted Activated Sludge 
Design Conditions Base System 
Returnrd to Primary Clarifier 
Inlluent Flowrnte (m3/lir) 
Influent Volatile Solids (kg/m3) 
In tluent Tota l  Solids (kg/rnZ) 
Digester Volume (m3) 
Digestion Temperature ("C) 
Solids Retention Time (days) 
Methane Production (m3/day) 
Heating Requirement (10' klVhr/~r) 
Net Value from Diccster Gas (10' k\Vhr/yr) 
Table 4.11 - Comparison of Optimal Designs by Diflerent Models to Determine 
Primary Sludge Concentration 
Varinbles (Units) Limitins Flux Constnnt (4%) 
Primary Clarifier Overflow Rate (m/day)  144 144 
Primary Sludge Concentration (%) 7.7 4.0 
Mean Cell Residence Time (days) 2.47 2.47 
Hydraulic Retention Time (h r )  5.1 5.1 
Sludge Recycle Ratio (%) 15.8 15.7 
Solids Loading on Thickener (kg/m2/day) 12.0 12.0 
Thickener Surface Area (m2) 620 621 
Digestion Temperature ( C )  60.0 60.0 
Primary Digester Volume (m3) 1970 1920 
Retention Time in Digester (days) 14.2 13.8 
Solids Loading on Digester (kg/m2/day) 48.0 48.0 
Filter Yield (kg/m2/hr)  6.31 6.31 
Cake Solids Concentration (kg/m3) 150.0 150.0 
Effluent BOD5 (mg/l) 30.0 30.0 
Effluent TSS (mg/l) 30.0 30.0 
Total  System Cost ( l o 3  $ / ~ r )  577.1 581.8 
Computer Time ( C P  seconds) 64.4 54.4 
Notes: 1) Start ing point No. 1 in Table 4.6 is used for these runs. 
2)  Influent Soluble BOD5 = 200 mg/l 
thickener sizing. However, because of the difierence in the digester influent flowrate and 
solids concentration due to the difierent modeling approaches for the primary sludge concen- 
trat ion,  the  primary digesters are designed differently in the two solutions in Table 4.11 
Therefore the total system costs in the two designs are slightly diflerent. 
A similar modification of the primary sludge concentration was also rnade in the model 
describing the wastewater treatment system with recirculation of the waste activated sludge 
to the primary clarifier (see Figure 4.7). Solutions were obtained for the base conditions in 
which the influent soluble BOD6 concentration is 100 mg/l. 'Three dillcrcnt start ing points 
were used to run GRG2. Results are tabulated in Table -1.12. 
It is interesting to note tha t  starting points No. 1 and No. 3, although very difierent, 
converge to exactly the same point in the optimization. This solution is displayed in Figure 
4.9. A comparison between this design and tha t  obtained by modeling the primary sludge 
Table 4.12 - Summary of System Dcs~gn Optimization : Waste ~?ctivlrted Sludge Returned to 
Primary Settling Tank ,  Primary Slud%e @ 476 
Solution Obtained Using CRC;? 
Variables (Units) 
1 'l 9 
Primary Clarifier Overflow Rnte  (m/day)  
initial 
final 
Mean Cell Residence Time (days) 
initial 
final 
Hydraulic Retent ion  Time (hr) 
initial 
final 
Sludge Recycle Rat io  (%) 
initial 
final 
Digestion Temperature  ( C )  
initial 
final 
Retent ion  T ime  in Digester (days) 
initial 
final 
Solids Loading on Digester (kg/m2/day) 
initial 
final 
Fil ter  Yield (kg/m2/hr) 
initial 
final 
Cake Solids Concentration (kg/m3) 
initial 
final 
Effluent BOD, (mg/l) 
initial 
final 
Effluent T S S  (mg/l) 
initial 
final 
Totxl  System Cost  ( l o 3  $/yr) 
initial 
Rnal 
Compute r  Time ( C P  seconds) 

concentration using the limiting flux theory (Solution No. 1 in Table 4.0) is shown in Table 
4.13. The  difference in total system cost is more pronounced in this case than in the prcvi- 
ous example, with the  limiting flux approach costing about 5% less than the approach which 
assumes tha t  the primary sludge concentration is independent of the primary clarifier sur- 
face area. T h e  major difference in the  system design is, as expected, in the primary clarifier. 
When the  limiting flux theory is used t o  calculate the primary sludge concentration, the  
underlying assumption is t h a t  the primary clarifier serves as a thickener as well. In this 
case, this use is necessary in the  most cost-efficient design since it reduces the  volume of the  
sludge t o  be processed. This is also the  reason why this thickening scheme, i.e., returning 
the  waste activated sludge to  the primary clarifier, is potentially attractive. On the  other 
hand, if the primary sludge is fixed a t  4%, then the  thickening function of the  primary 
clarifier is neglected. No matter  how small the primary clarifier is, the  thickened sludge 
from the  clarifier is always a t  the same concentration of 4%. This causes the optimization 
program to  select the  size of the  primary clarifier t h a t  is as small as possible. 
In summary,  modeling the  primary sludge concentration as a constant has little effect 
on the solution obtained for a cost-efficient wastewater treatment system design for the  base 
system; for this system, however, the thickening potential of the primary clarifier is limited 
because of the  sludge thickening scheme specified. In contrast ,  when a system flowchart is 
designed specifically to  take advantage of the thickening capability of the primary settling 
lank,  then this capability may be more irnportsnt. It is also noted t h a t  if the primary sludge 
concentration were modeled initially as a constant in the base system design, the final solu- 
tions obtained may have suggested designs with a good total  system cost, but  these solutions 
would not have suggested the  alternative sludge thickening scbeme of returning the  waste 
activated sludge to  the  primary clarifier. This insight was directly provided by the  model, 
however, when the primary sludge concentration was modeled using the  limiting flux theory. 
Table -1.13 - comparison of Designs by Dilferent Modeling Approaches 
on Primary Sludge Concentration : 
Waste Activated Sludgc Returned to Primary Clarifier 
Variahlrs ILJnits! Limitin: Flux Constant ( 4 5 )  
Primary Clarifier Surface Area (m2) 514 253 
Primary Sludge Concentration (%) 7.6  4 .O 
h4ean Cell Residence Time (days) 2.27 2.21 
Aeration Tank Volume (m3) 5115 541G 
Hydraulic Retention Time (hr) 3.4 3.6 
Sludge Recycle Ratio (%) 11.5 11.7 
Digester Influent Flowrate (mJ/hr) 3.15 6.62 
Digestion Temperature ( C )  60 60 
Primary Digester Volume (m3) 1456 1861 
Retention Time in Digester (days) 17.6 11.7 
Secondary Digester Volume (m3) 760 450 
Filter Yield (kg/m2/lrr) 7.69 6.31 
Vacuum Filter Surface Area (m2) 10.1 12.9 
Cake Solids Concentration (kg/m3) 150.0 150.0 
Effluent BOD, (mg/l) 30.0 30.0 
Effluent TSS (mg/l) 30.0 30.0 
Total  System Cost ( lo3  $/yr)  466.2 489.4 
This example has illustrated tha t  the comprehensive systcm modcl can be used to 
analyze cost-efficient process integration. Results presented here arc dcperidcnt on the set- 
tling properties of the primary, the activated, and the combined primary and activated 
sludges, as well as the limitations of all of the unit process models. Consequently it is the 
methodology of the analysis and the philosophy of using the optimizntion modcl for process 
analysis tha t  are  important. An optimization niodel enables the design engineer to invcsti- 
gate alternative flowcharts eficiently. Insights about the impact on the entire plant due  to 
design modification of 3 sinqltt unit process can be obtained. Such  information should be 
viewed as supplementing the traditional knowledge used by the design engineer (not as 
replacing any of it). 
4.8. Anaerobic Digestion 
The  final solutions obtained for the base system and a11 design conditions considered 
- 
suggest thermophilic digestion because the  digestion temperature is a t  its specified upper 
bound or 60 O C .  This upper bound cannot be relaxed because the  activities of the anaerobic 
microorganisms will decrease drastically and finally stop completely when the digestion tem- 
perat,ure goes higher than this temperature. Theimophilic digestion results in a high degree 
of organics stabilization and high methane production. which is given a cost credit in the 
model. T h e  solids concentrations of the digester influent in the final solutions are all higher 
than 5%. This high concentration results in low energy requirements for heating the 
influent. 
It is recognized tha t  the unit process model used in this analysis (equation (2.48)) is 
based on a number of assumptions and is developed from limited experimental da ta .  I t  
appears tha t  fine-tuning of tha t  model would be worthwhile to verify the benefits associated 
with a thermophilic digest,ion system. 
The  final solutions in Table 3.0 also call for the elimination of the secondary digester 
since the influent solids concentration to this unit is almost identical to  the underflow solids 
concentration a t  the design loading rate. Both the secondary digester and the vacuum filter 
are provided to  achieve the same purpose, sludge concentration. Because of the poor set- 
tling characteristics of the digested sludge, it is more economical t o  concentrate the  sludge 
by vacuum filter than by the secondary digester. It is interesting thxt this insight, wliich 
was obtained using the  rnodel for the example problem, is consistent with the  observations 
by Lawler and Singer (1084) who suggested the elimination of the  secondary digester in n 
t reatment plant  based on their survey of the  performance of the  secondary digester as a 
thickener a t  a number or existing plants. 
Eliminating the secondary digester from the  system layout may not be desirable in 
practice, however, since the secondary digester provides reliability to  the  system. Because or 
the reliability problems associated with operating an anaerobic digester, it may be desirable 
to  haye the secondary digester in the system. Cleaning the primary cell is also possible 
without the necessity of operational modifications if secondary digesters are  present. In 
addition, methane production is generally observed in the secondary digester, which contri- 
butes to  the net  energy production. Since these considerations are not captured in the  
mathematical model, it would be desirable to explore the role of the  secondary digester in 
more detail in an actual  design exercise. 
This example also brings up the  general question of the role of an optimization model. 
Planning and design of a wastewater treatment system in general is very complicated. Using 
mathematical models for design may not include all important  considerations in a realistic 
t rea tment  system design situation. For example, the system that  has the least system cost 
may not satisfy other design criteria such as  ease o t  operation or high degree of system relia- 
bility. Mathematical models should be used to generate alternative system designs tha t  are 
good with respect to  these important  design criteria. Traditional engineering design con- 
cepts can then be exercised to  determine the most adequate system design. 
Because of the  consideration given to the rising digester gas on the digested sludge set- 
tling characteristics, the  digested sludge settling velocity was assunied to  be only one-fourth 
of tha t  of a fully digested sludge in the calculation of the digested sludge solids concentra- 
tion (see Section 2.3.7). This factor discounts the digested sludge settling velocity fro111 what  
is predicted by the  limiting flus theory alone. For a tt~ermophilic digestion system, the  per- 
cent of organics stnbilization is very high in the primary digcstcr. Therefore the  eIlect of 
digester g m  on sludge settling in the secondary digester beconies less signiscant, and a larger 
factor is more appropriate. A factor of 0.90 was substituted for 0.25 in the secondary diges: 
ter design, and one optimization run was made tor the base system and design conditions. 
T h e  results are summarized in Table 4.14 and depicted in Figure 4.10. Also listed in Table 
4.14 tor compnrison is the  solution obtained tor the  base drsign conditions (design No. 6 in 
165 
Table 4.14 - Sensit.ivity of the  System Design to  the Digested Sludse Settling Characteristics 
Variables (TJnits) Initial ~ i n a l *  Base Design 
Primary Clarifier Overflow Rate (m/(lay) 72.0 144.0 144.0 
Xlean Cell Residence Tirne (days) 3.0 2.19 2.19 
Hydraulic Retention Time (hr) 3.6 3.8 3.7 
Sludge Recycle Ratio (%) 30.0 12.6 12.8 
Solids Loading on Thickener (kg/m"day) 36.0 12.0 12.6 
Digestion Temperature ( C) 25.0 60.0 60.0 
Retention Time in Digester (days) 20.0 14.0 13.9 
Solids Loading on Digester (kg/m"d a y )  24.0 94.0** 40.6 
Filter Yield (kg/m2/hr) 12.0 7.73 6.67 
Cake Solids Concentration (kg/m3) 196.9 150.0 150.0 
Eflluent BOD, (mg/l) 26.1 30.0 30.0 
Effluent TSS (mg/l) 36.8 30.0 30.0 
Total  System Cost ( lo3 $/yr) 644.6 484.9 500.4 
* Computer time for optimization : 67.034 CP seconds. 
** Upper bound of digester solids loading (48 kg/m2/day) is relaxed in this run. 
Table 3.9). When the digested sludge is assumed to have better settling properties, the total  
system cost is lowered to  484,900 dollars/year. The  solution specifies a small secondary 
digester surface area (22 m2) which would concentrate the digested sludge from 2.0 to  2.4% 
(20.2 to 24.5 kg/m3 in Figure 4.10). The  solids loading on the secondary digester, however, 
is extremely high a t  94 kg/m2/hr, and the secondary digester begins to  play a role in the 
overall wastewater treatment system. This suggests t h a t  the settling properties of the  dig- 
ested sludge have a direct eflect on the arrangement of the digestion system (i.e., should a 
secondary digester be included or not) i f  the  limiting flux theory is valid a t  the high solids 
loading. Since d a t a  in this area are lacking, laboratory analysis of digested sludge settling 
chnracteristics under various fermentation conditions sl~ould be performed to  identify the 
appropriate role of the secondary digester. 
4.7. Vacuum Filter 
The  solids cake concentrations in the final solutions are a t  the specified upper bound of 
15% for all conditions considered. As discussed in Section 2.5, this upper bound was arbi- 

trariiy set because tile model used for tlie vacuum lilter dus~gn does not prcdict a maxlmunl 
cake concelr tration that  cnn pract~ically be attained. Since the i ir~al  tlispos:~i of ?rwntered 
sludge is relatively expensive, and since the filter area requirement is insensitive to  the 
filtered cake concentration a t  high co~~cen t ra t ion  levels (see Figure 4.11), the cake concentra- 
tion was driven to its upper bound in the solutions obtained. 
The  limitation of the vacuum filter design model appears to  be that  it is only applica- 
ble within a limited range of design conditions. For example, the air drying mechanism is 
not considered in the  development of this design equation. This is an area where additional 
research is needed t o  refine the  present model for vacuum filter design. 
4.8. Design Under Uncertainty: A Multi-objective Approach 
As discussed in the  introduction of this chapter,  the  design of wastewater treatment 
plants involves many uncertainties. Parameter uncertainty in the  design of wastewater 
t rea tment  systems has been dealt with by Berthouex and Polkowski (1970), and Tarrcr  e l  a l .  
(1976). Key parameters were assumed to follow a certain statistical distribution, and the 
means and the standard deviations were taken into account in mathemnticnl ~rlodrls. Thcr r  
are three major difficulties with this approach: 1) The  statistical distributions of the design 
paralrleters are usually unknown and have to  be assumed, 2 )  the r c s u l t ~ ~ ~ g  111nt11rm:itlcnl 
modcl brcomrs very complicntcd, and 3) ~lncertaintiea on process perforrnnnrr n~o(lcls, rost 
information, and design conditions are not included. 
An alternative approacl~  to handling uncertainty in e ~ ~ g i ~ ~ e c r i r ~ g  tlc,sig~~ is ro pcrrorrn 
sensitivity analysis for model para~netcrs .  L'oelkcl (197s) pcrlorrl~cti w~r>itivily a11:iIysis of  
the parameters in his model and recorded the sensitivity of [.he overall systern design to  the 
unit changes of these parameters. The  major drawback o f  this approach is tha t  tlie optin~i-  
zation procedure may terminate a t  local optima because l l ~ e  rliodel is nonlinear. A distinct 
trend for the system cost as 3 function of the perturbed parameter may not be attained. 
C
ak
e 
C
on
ce
nt
ra
ti
on
, 
%
 
F
ig
ur
e 
-1
.1
1-
 V
ac
uu
m
 F
ilt
er
 S
ur
fa
ce
 A
re
a 
R
eq
ui
re
m
en
t 
vs
. 
So
lit
ls
 C
ak
e 
C
on
ce
nt
ra
ti
on
 
l'f 88 
0.0'2 
O'OC 
O'OSI 
9L.9 
6.8'2 
9'f.i 
03 
L'89L 
0.0'2 
0'0'2 
O'OSI 
Z8'9 
0'8'2 
L'CI 
09 
9 F'OOS 
0.0'2 0'0'2 
G'OC O'OC 
O'OCl O'OSI 
18'9 69'9 
E'8C C'OP 
(;.El Z'1.i 
09 09 
G'Zl O.:! O'ZI O'G1 S'ZI !,i~l)/~u1/3yj 1aua)[3!rl~ uo Surpcoy sp!ln~ 
I'CI Z'ZI C'EI l,'E I ?'Z I (s) O!~TU a!>K>a?~ aspn~s 
8'C 8.C 8'C 8'2 8'C (JY) am!& uo!qua~a~ >!lnc~pL~ 
61'Z 6 I I 8I'Z (sn'sp) am!& asuap!sa~ 1123 uratq 
0'ff.l O'Pf 1 0'1.1.1 0'11~1 O'i-f.1 [Kcp/m) alc~ mou~aho ~ay!~z.l~ d~rw!~d 
O'C q'E 0': S' I 0' 1 
10 jix\,~ Xjaj~~ alclrno~~j (sl!un) s31q=!Je~ 
sqlnsa~ a11~ .IIO!ICZ!UI!I~O JOJ pxn se,n ~3x3 pue 'pamnss~ a~a~ SUO!?!PUOJ oZ!sap aseq arl~ 
palc~ado aq plnoa ?! ?cq? 0s ma?sis aqj 01 .(?!acdea aJom ap!ilo~d 03 pasn SEA\ JO?aZJ dlaj~s 
aq? u! sa.~!?aafqo o.~i? aq 01 paulnssc aJaM dqajes puc qsoa 'aldmexa ail!?cJ?snl[! ue sv 
-aJU!UOn ?cql su%!sap ail!?cnJa?lr: duem a~c~aua9 09 pasn aq uca lapom uo!~ez!m!~do aqL 
.mqqo~d ail!laaJqo-!llnm e sc palapom aq nc3 ma3s.C~ ?uam 
-?Val? ~alc.+ia?sc?n E JO u%!sap aq? '333ds31 s!?? .dl!l!qc!la~ PUT: ?so3 s,ma?sds aql uaamqaq 
Boapel? e s?s!sa alaq? 'sp~om Jaqlo UI .?sea ma~sis lclo? aq? a?clcasa SJOJ~EJ i?ajns '~aila 
-MO~-I .u2!sap USISAS arll o?u! ?pn(l a(! 03 ,[auepunpal puc 6?!!!q!x31] duos S.+~OIIC JOJ~CJ s!rlL 
'1033CI d?a!es r: L!d(lc 01 s! .{?rl!c?~aaun u91sap tll!~i %u!leap JCJ dSa?cl?s uoulmoa y 
are surnrnarized in Table 4.15. It is interesting to noie tha t  the final designs exhibit similar 
values for thc decision variables. Tlic tradcofi between the design safety factor and the sys- 
tem cost is depicted in Figure 4.12. This curve is sligl~tly convex due to  t.he economies of 
scale in the design of wastewater treatment systems. 
T o  account for the design uncertainties mentioned above, the design engineer may 
select 3 safety factor greater than one based on the design Bowrate or influent pollutant con- 
centrations. This is similar to  design based on the maximum daily flow except t h a t  the  
peaking factor becomes the  second objective in the model. The  design made according to  
this approach is more realistic since design flows may be exceeded, and because there are 
uncertainties in the  model. With better knowledge about the design parameters or process 
performance models, a smaller safety factor may be used. 
4.9. Summary 
T h e  role of the  comprehensive system model developed in Chapter 3 as a tool for use 
in the analysis and design of secondary wastewater treatment systems is illustrated in this 
chapter.  Recognizing the limitations of a cost-minimization system model, the intent of this 
work has not been to  obtain the "least-cost design." Through tlie use of the model, poten- 
tially important  research arcas in treatment process design are identified from the  cost- 
cffect.iueness viewpoint. For example, the solids removal hrhavior of the primary clarifier a t  
overflow rates higher than usually recommended in design practice should be examined. 
The  importance of a model describing c1arific:ntion in the nc:tivntrtl slutlge final clarilicr is 
also illustrated. Sludge thickening a t  low solids lo:lding is crilical to the dcsign of the sludge 
processing train. Anaerobic digestion in the thcrmophilic range is another area tha t  should 
be investigated. T h e  settling cl~aractcristics of the digcsted slutlge de te rn~ ine  the role of the 
secondary digester in the overall t reatment system; correlations between the digested sludge 
settling properties and the degree of-organics stabilization should be studied. Refinements of 
Economlc Efficiency, 1-03 doIlars/year 
.~,)~)(IuI II:IIIYIJO .)II) jo IIO! ~u>!ld(lu ~ltlu~!s c .icl 1)au!clqo ,,uZ!sa~ lcrn!ldo aq?,, 
u\:rl.) .)!Js!~u~J JOIII 3'1 I)lno.\+ IIJI:uJ(I(~\: JCI 3d.i) S!II~ uo p~scq apcm ul-;!s~p c ~cq~ pa~aadxa 
S! ?I .[).))U.)S~J~ Sl ~d,iIJ.).l~(l~ O.\\J 5C .~J!I!({c![~J PUC ~U!JJP!SUO~ I~IJIS~S ?U31UlCdJj 131 
-l:.\i,))\C.\\ 1: JO ll~lSd1) 311) JOJ 1131:0J(1(1l! D!]S!I(~UI!S V '.i)!l!({~!1~1 PUC ?SO3 S,UIJ~S~S 3ql U3JM13q 
1103[)CJ') I: y JJJ~I~~ ~.)IIIS IIOIJI:J.)~)!:"KI~~IS~~ luc)~otlrn!uc s! uZ!sap puc 3u1~aporu ssa30~d 
I]! .ijn!r:]~~.)rl,l .I).)J.)I)!suoJ .)(I01 J.\CII 1%)~ 111a)s.i~ 3111 UCIII ~31110 s~.i!13arqo a3u!s a.i!13arqo 
..ion).; Su~laporr~ jcn!lcularllcru arl? UIOJJ pau!c?qo srlo!snl3 
-uo~ all] .ij!Jd.i Jdr{]Jnj ol .i~cs'sa3~u .)(I .icm y~o,\i ~I:JUJLU!J~~X~ 'sl!un ?ualu?caJi mca~?sdn 
JO uS!sdp aq] o) YIIIPJOJJ~ a311cq3 .[em uY!sap U! pasn s~alamc~cd aq? 's!sarl~uis ssa3 
-old JOJ paw y I~~OUI O!~UZ!ILI!~~O UF uaq.*i ?cq? paz!uSo3a~ aq plnorls ?! 'ia~a,iio~] .s!ssq? 
-u.<s sss~o~d JO quarrla~!nba~ c!.i!~luou ale q3!q,+\ y~o~ u%!sap puz suo!?c?ndmo3 u! s9u1,ics 
lc!lua~od s~uasa~da~ s!q, 'paz.i[zue aq uc3 s?~cq3.no~ rna?sbs ~nj%u!tteam ?sou aq? 'sassa3o~d 
?!un '-;uoi~c su0!]3clslu! aql ?uno33z o~u! %u!ye? k8 .p!z s!saqluis ssa3o~d c sc lapom m?lsiCs 
a.i!susqa~druo~ aq? jo ssaulnjasn aq? MO~S q3!q~i saldlucxa ale s?q%!su! asaqL ~Lllc3!uouo3a 
J.~!)JCJ~~C 3q.\em ~aua!f3!ql ,i?!.icl% c sc Jag!JclJ li~clu!~d aq? jo asn aq? uaq? '~c!?ua?od 
[["J SI! 01 a111as 01 pa.\iollc s! ~Zpnls L~cm!~d aq? JI .s~!~s!J~?~cJc~~ %u!l??as ood scq azpnls 
[)alsaS!p aql uaq.*i adi!?3aUa-?so3 aq ?ou Leu ~a?sa%p li~cpuo3as aqL .q%!q LJ~A ?ou s! uo!yc~? 
-uaJuon sp!los a[!lclo.i luanuu! aqj uaqM a.i!qaaja-?so3 aq ?ou Xcru J~IJ!JCI~ .i~cm!~d i? .uS!sap 
3-~~;s,iioU ssa3oad dh!?CAouu! h!$uap! 01 sdlaq oslc ~apolu lua,1shs aa!suaqa~druoa aqL 
CHAPTER 5 
SUMMARY AND FUTURE RESEARCH 
5.1. Introduction 
T h e  design of wastewater t rea tment  systems involves many tradeoffs because of the  
complex arrangement of the unit processes. With increasing understanding of the  funda- 
mentals of the wastewater treatment mechanisms, researchers have been developing 
mathematical models t h a t  can be used t o  describe the levels of performance of the  various 
unit processes. Use of these mathematical models for design allows engineers to  examine the  
tradeoffs in a wastewater treatment system in detail and to  strive for cost-effective system 
designs. 
There  are other uses of a comprehensive design model for a wastewater t rea tment  sys- 
tem in addition t o  obtaining cost-effective system designs. Limitations of process perfor- 
mance models and potential research areas can be identified. Important  insights about  pro- 
cess flowsheets can be gained from exercising such a model. Innovative water quality 
management strategies for a river basin can be better evaluated using a model for wastewa- 
ter treatment plants as the basis. Also, issues tha t  are important  in planning and design of 
wastewater t rea tment  systems but tha t  are  unmotielcd can br rvnlunted. 
Efficient mathematical programmin:: techniques are  essential if  a comprehensive system 
model is to  achieve extensive use. Because a system model is very complicated mathemati- 
cally, research must be done to  develop efficient optimization procedures. 
In this thesis, a complete model Tor use in the design of a secondary wastewater treat- 
ment system is developed. This model includes state-of-the-nrt process design models t o  
predict the  performance of the  treatment system. T h e  construction of the model is described 
in detail in Chapter 2, and is briefly summarized in Section 5.2. 
Chapter 3 discusses the use of two existing optimizat.ion algorithms and one new 
approach for solving the comprehensive system model developed in Chapter '2. Some key 
observations are summarized in Section 5.3. 
Recognizing the unmodeled issues and uncertainties involved in the  design of wastewa- 
ter treatment systems, the use of the comprehensive system model as a tool for the analysis 
of process performance is illustrated in Chapter 4. Conclusions from using the model as an 
analysis tool are summarized in Section 5.4. 
The  comprehensive system model developed in this research may serve as basis for 
additional research in the area of environmental systems analysis. Several areas in treat- 
ment process design and modeling were identified in Chapter 4 as potentially fruitful for 
achieving more cost-effective system designs. Sectiou 5.5 provides a summary of these possi- 
ble future research directions. 
5.2. Comprehensive System Design Model 
A typical secondary wastewater treatment system was selected for initial evaluation in 
this study.  This system includes primary sedimentation, aeration and secondary sedimenta- 
tion (activated sludge), gravity thickening of combined primnry and waste activated sludge, 
two-stage anaerobic digestion, vacuum filter dewatering, and final sludge disposal by snni- 
tary landfill. S u p e r ~ l a t n ~ ~ t s  gener:~ted in sludge processing are recyclrd to the Iread end ot  
the plant. 
Wastewater parnmeters represent the state of the wastewater or sludge during diflerent 
stages of the treatmcut process. These s ta te  variables include flowrate, soluble $BODS$ con- 
centration, and concentrations of active biomass, volntile biodegradable suspended solids, 
volatile inert susperlded solids, fixed suspended solids, and total suspended solids. Nine deci- 
sion varirrbles need t o  be specified in order to  define the system design completely. 
T h e  solids removal eficiency in the prlniary clarifier was modeled using the Voslrel-Sak 
(1968) equation. T h e  primary sludge concentration was calculated based on the limiting flux 
theory. T h e  Lawrence-McCarty (1970) model was selected for the design of the  activated 
sludge process. Clarification of the aeration tank effluent is critical in determining the 
efficiency of the  overall wastewater treatment.  This function of the  Enal clarifier was 
modeled based on an equation proposed by Chapman (1983). Thickening in the final 
clarifier and in the  gravity thickener was modeled using the differential thickening technique 
be Dick and Suidan (1975). Sludge stabilization in the primary anaerobic digester is a func- 
tion of digestion temperature and solids retention time. A mathematical model based on 
limited experimental d a t a  summarized by Wise (1980) was developed to  describe the  perfor- 
mance of the p r i m x i  digester. T h e  secondary digester was modeled as a gravity thickener, 
and the differential thickening technique was employed for design. Vacuum filter desi, gn was 
based on the  estimated filter yield. 
T o  estimate the  total system cost, cost information summarized by Patterson and 
Banker (1971) was used to  calculate the  costs of each unit process in the  system. Sludge 
disposal costs were estimated based on models developed by Dick e t  al. (1978), Rossman 
(1979), and USEPA Process Design Manual (1374). An analysis computer program was writ- 
ten t o  design the  wastewater treatment system for specified influent and design conditions. 
Unit processes were designed sequentially according t o  the system flowchart. T h e  steady- 
s ta te  design of the overall system was obtained tl~rouglr iterations because of the presence of 
the  recycle streams in the system. This program is useful for examining the system response 
corresponding to  different input and design conditions and for generating systenr designs 
tha t  can be used as initial solutions in an optimization procedure. 
5.3. Optimization Techniques for Wastewater Treatment System Model 
Three optiniization approaches were taken in this study to solve the compreh~nslve  
wastewater treatment model. Because the model is more complicated than previously stu- 
died ones, efficient optimization techniques are essential. 
The first technique examined was to formulate the system design problem as a non- 
linear program and to solve it directly using a generalized reduced gradient algorithm 
(GRGZ). The  resulting nonlinear program has 64 variables, 55 equations, and three inequal- 
ity constraints. Computing time for this model ranged from 51 to 105 central processing 
seconds on a CDC Cgber 175 computer. This performance can be considered to be a t  least 
comparable to previous studies tha t  solved less complicated wastewater treatment system 
models using other optimization techniques. Once the GRG:! model is formulated, i t  can be 
used repetitively to examine different influent or design conditions with minor adjustments 
of the  d a t a  file. This allows its use as a tool for process analysis. However, extensive revi- 
sion of the model is necessary i f  an alternative treatment flovchart is to be examined. 
The solutions obtained from using GRG:! depend on the various control parameters 
specified, the bounds on the variables, the initial solutions, and the n~rmerical characteristics 
of the model. A modified IISJ (Brill, 1070) approach was usrd to examine the quality of 
these solutions. This strategy explores the feasible design space using objective functions 
tha t  are formed based on the knowledge about the problcm. Numerical examples have 
shown that  this strateqy I~elpc*d to irr~prove the tot:~l systrln cost of thc solution obtnincd 
from solving the original rnodel directly using GRC:!. This str:ltc.qy can also b r  used to itlrn- 
tify designs tha t  are  similar in the total system cost, but  are different with respect to the 
sizes of the unit processes in the wastewater treatment system. This is particularly useful if 
there are unmodeled issues in the design of the treatment system. For the example problems, 
seven diffcrcnt systrnl designs were obtained using the proposed strategy (see Table 3.9). 
The  dilTcrences among these designs were not significant, however, because similar objective 
functions were used to generate these designs. 
Tlie system design can also be formulated as a generalized geometric program (GGP)  if 
one variable in the model is fixed and one equation is modified. An efficient algorithm 
(IGGP) for solving G G P  was used to solve the subproblems resulting from the specification 
of the  variable. These subproblems have 62 variables, 54 equality constraints, and three ine- 
quality constraints. The  computing time for solving one subproblem ranged from 2.5 to 5.7 
seconds. T o  obtain the optimal design for the original problem, different values of the fixed 
variable have to  be examined; a subproblem has to be solved for each value assumed. For 
the example problem, eleven subproblems were solved for a total computer time of about  50 
seconds on the  Cyber 175 computer. The  final solution obtained from this approach com- 
pared well with tha t  obtained from GRG:! as far as the characteristics of the cost-eflective 
designs. 
A unique approach was also developed for the identification of cost-effective designs. 
This approach decomposes the  overall system into a liquid subsystem and a sludge subsys- 
tem. T h e  liquid subsystem design was optimized using GRG:! for a specified set of recycle 
stream characteristics. T h e  output  from the  liquid subsystem, i.e., the combined primary 
and waste activated sludge, was treated as input to the sludge subsystem. T h e  design of the  
sludge subsystem was carried out  for the specified set of recycle stream characteristics. Two 
one-dimensional optimizations were embedded in the  sludge subsystem design. One advan- 
tage of this appronch is thnt  the overall system which contains nine degrees of freedom can 
be reduced to two sr~hproblems with four and two degrees of freedom, respectively. Optimi- 
zation techniques can be applied to solve these smaller problems more eficiently and Inore 
reliably. The  subsystem designs, however, must be coordinated to obtain the overall optinial 
design. This coordination involved determination of the values of three interacting vari- 
ables. A coarse grid enumeration technique was employed to  identify the set of interacting 
variables tha t  results in tlie least system cost. Several assumptions were used in this 
approach to reduce the number of the interacting variables so that  the coordination could 
he carrictl out. more efficiently. These assumplions were shown to be adeqr~nte  with three 
numerical examples. Total  computer time of about  100 seconds was necessary for the exam- 
ple problem tested. This computing time is comparable to those required in the pre,vious 
two approaches. Trends for cost-eflective designs were clearly identified using this approach. 
Another advantage of the decomposition approach is tha t  many alternative solutions 
can be obtained during the optimization process. These solutions are very different in their 
designs, bu t  the total system costs are similar. Therefore they can be evaluated with respect 
to unmodeled issues. 
5.4. Use of Modei for Process Analysis 
A mathematically optimal solution is the  result of optimizing the comprehensive systern 
model. This mathematically least-cost design is not expected to be the best final plan to be 
implemented in a realistic design situation because the design of wastewater treatment sys- 
tem typically involves other importan t but  unmodeled issues. IIowever, the characteristics of 
this solution provide useful insights about process research and design. This use o l  a 
comprehensive system model as an analysis and design tool is illustrated in Chapter 4. 
Several research areas in process modeling were identified by an examination of the 
solutions obtained from GIZG2. T h e  solids removal ellicicncy of the prirn:lry clarilier a t  high 
overflow rates, sludge thickening a t  low solids loadings, and sludge solids stabilization by 
thermophilic anaerobic digestion are examples o l  these potential rese:lrch areas. 
Information on process flowsheets was also obtained from the modcling study. T h e  use 
of the primary clarifier as a thickener was cost-eflcctive if primary sludge is allowed to  
thicken to  its lull potential. The  role of the primary clnrifier depends on the chnracteristics 
o l  the influent wastewater. The role of the secondary digester depends on the settling 
characteristics of the digested sludge. These rrsults of course depend heavily on the parame- 
ter values used. It is recognized that  parameter values used for desigu of some unit 
processes may be functions of the influent characteristics to these u n ~ t s .  Without such Infor- 
matlion, results obtained on process synthesis from the use of the  comprehensive system 
model shouid be examined carefully. Experimental evaluation may be necessary to confirm 
the  modeling results. 
Uncertainties in designing wastewater treatment systems have been dealt with by 
researchers using various approaches. Traditionally, engineers have employed peaking fac- 
tors to  design some units in a wastewater treatment system to provide a system with relia- 
bility. There  is a tradeoff between the system's cost and reliability, i.e., the niore reliable the 
system is, the more it costs. This problem can be considered as a two-objective problem, 
and noninferior designs can be generated. These designs can be evaluated based on other 
design criteria. 
5.5. Future Research 
Several potential research areas in process modeling and design have been suggested 
from the use of the  comprehensive system model. There  are other areas tha t  deserve future 
investigation: 
1) Optimization techniques: As mentioned above, one advantage of the decomposition 
approach is tha t  difTerent opt imi~at ion tecliniqucs can be used to solve difierent subsys- 
tem designs. Alternative optimization techniques for optimizing the  liquid subsystem 
and for coordination could be studied to irnprove the efficiency of this approach.  
There  are alternative strategies for defining the subsysterns and for implementation of 
the  decomposition approach. The  robustness of the decomposition approach,  i.e., the  
performance of this approach under diITerent influent conditions should be studied. 
T h e  applicability of the approach to other system flowcharts can also be investigated. 
This proposed work is potentially capable of refining the decomposition approach and 
making it a useful design and analysis tool 
2 )  Sensitivity analysis: Information on the effect of a particular pararneter in the  rnodcl 
on the  overall system design is nseful for systcm design and process analysis. Potential  
research areas can be identified where the  system model is very sensitive to  a particu- 
lar parameter. The  settling characteristics of the digested sludge serves as an csamplc 
t o  illustrate the importance of the sensitivity analysis. 
3) Reliability analysis: The  reliability of the systcm designed based on the optimization of 
a comprehensive model can be evaluated. Design safety factors on particular unit  
processes can be determined more rationally when dinerent influent conditions nre 
imposed on the system designed based on the average flow and are subject to  the con- 
s t ra in t  t ha t  the efRuent water quality standards have to  be met. This information 
helps to  establish guidelines for practical wastewater treatment system design. Consid- 
ering system cost and a flow safety factor as two objectives in wastewater t rea tment  
system design is an alternative approach of analyzing the system reliability. This has 
been illustrated using an example problem in Chapter 4. 
4) Model verification: Realistic plant operating d a t a  may be used in a given situation t o  
determine the  most appropriate process performance relationships. These models can 
thcn be used in a realistic design condition. If the facility already esists, thcn this 
information can be usctl in the comprehensive systcm model to  idcntify cost-cflcctive 
operation of a wnstewater treatnlent systrm. 
5) Water quality rnanngolncnt: Tlic lnodcl call be uscd to gcncr:lte inforlnntlon tha t  
relates the cost of a waste\vater treatment systcm to  its waste removal elficicncy. Sucli 
infornlation is useful in studies involving innovative water quality n~anngemcnt  strn- 
tegics. hlodificntions of the comprehensive system model may be necessary, however, 
for specific situations (for example, if multiple pollutants are to  be controlled). 
APPENDIX A 
COST FUNCTIONS OF UNIT PROCESSES 
Five sets of cost functions representing three sources of cost information were com- 
pared in this study.  Table A . l  summarizes the  cost functions studied and the sources of the  
information (see Section 2.4 for a discussion of this cost information). 
In Figures A.l t o  A.9, capital costs are expressed in 1971 dollars. The  USEPA National 
Average Wastewater Treatment  Plant  Index is used to  convert costs to  this common basis. 
Middleton and Lawrence, CAPDET, and Rossman all developed their cost functions 
based on the information furnished by Patterson and Banker. However, these functions 
vary considerably in the  degree of complexity. The  function tha t  is the  simplest among the  
three was selected for use in the  study if no significant difference is observed among the  
predictions of these three sets of functions. Cost functions incorporated into the comprehen- 
sive system model are summarized in Table 2.4. 
Table A.l  - Summary or Cost Information 
Cost Functions Source 
Smith (1368) Logan e l  a!. (1962) 
Swanson (1066) 
Middleton k Lawrence (1975) Patterson 6. Banker (1971) 
Dick e l  a!. (1378) Patterson 6. Banker (1971) 
Metcalf 6. Eddy, Inc. (1975) 
Ettlich (1377) 
CAPDET (1378) Pattcrson A l  Brnkcr  (1371) 
Rossman (1.379) Patterson IC. Banker (1371) 
Ettlich (13771 



Air Flow RaTe, m3/minute 
10' '103 1 o4  
Blower Capacity, rn3/minure 
Figure A.4- Cost Functions for Activated Sludge Aeration 

l o 2  
1 O2 10" i o4 
Firm Pumping C a p a c i t y ;  m3/hour 
1 0 3  
(J? 
-, 
-3  - 
0 - u 
.3 10' 
0 
4 
- 
t 
C/) 
0 
10' 
- 
u 
t . - 
Q 
C, 
0 
1 o0 
Figure A.6- Cost Functions for Iiecirculation Pumping 
. : . . . , , ,  . , , l l . l ,  , , . . , . ,  
Smirn  
- - ;\AiddieTon 
Click $ 1  (71. I -I 
Rossm a n 
/ 
- / :--< 
_----- 
r 
! . . , . . * ! I I I . , l  , 0 < a , . ,  
10' 1 02 1 o3 1 o4 
Firm Pumping C a p a c i t y ,  m3/hour 
vCj T c0 1 a0 T . . 10 1 
....... : : ... ill,, , , , 10 1 
/- 
/ 
0 
L1 
-c -. 
-t- 
'2 - 
- ' iCT C? 
0 
fl 
i 
- 
w 
0 
: ?(,? L. 
I 
Lv . 
uDUJsSO& - - - -- -. a 
13GdV3 0 -. 
.!L> !? XalC - :-: 
I. 
d 
1 ua]alpp!v\; - -. - -. 
I: Ul'urS - u, t- 
.., , . , . , . , . I.., I.. , . - vOT 
Figure A.8- Cost Functions tor .,\nnerobic Digester 
cn ~ m i t n  
c - - UiddleTon 
r - - - ,  - 3icK P! t71. - 
G CAPDET 
-0 . . - . . - - Rossman 
,? LO3 : 
0 
1 
4 
. 
+- 
I/) 
C 
102 : - 
- 
G 
+- 
. - 
E 
G 
0 
10' I I ! ! ! ! I  I . . . ! , , I  , . , . ,  . 
1 O2 1 o3 1 o4 1 O5 
Diges re r  Vo iu rne ,  m3 

APPENDIX B 
ESTIMATING OPERATION COST FOR SLUDGE LANDFILL 
T h e  following developnient is based on Figure 9-1 on Page 9-4 in the  USEPA Process 
Design Manual - Sludge Treatment  and Disposal. 
Let  1V, = wet tons of sludge landfilled per day,  
0"dC = annual operation cost for sludge landfill. 
According t o  Figure 9-1, 
Since the labor ra te  is 6.25 dollars/hr in Figure 9-1, the  annual manhours, O H R S ,  can 
be calculated as 
Using equation (2.77), 
APPENDIX C 
ANALYSIS PROGRAM FOR DESIGN OF 
WASTEWATER TREATMENT SYSTEMS 
, T h e  analysis program can be used to  determine a complete system design for the base 
wastewater treatment system (Figure 2.1) and two variations of the base system (Figures 4.2 
and 4.7). Two input d a t a  Gles are necessary to run this program. T h e  Grst file contains the 
parameters in the model, and the second the decision variables. Specifications of these two 
files are described below. 
Model parameters include the influent wastewater characteristics, effluent water quality 
standards,  and parameters for process design and economic analysis. T h e  input order of 
these parameters in the d a t a  file is shown in Table C.1. 
Table C . l  - Input Da ta  to  the Analysis Program : Model Parameters 
Card No. Comment 
1 Influent Characteristics 
2 Emuen t  Water Quality Standards 
2 3  Parameters 
T h e  influent characteristics are the design flowrate (m3/hr), the soluble BOD, concen- 
tration (mg/l), and the concentrations of active biomass, volatile biodegradable solids, vola- 
tile inert solids, and fixed solids (a11 in mg/l). The  second card specifies, in order,  the 
emuent BOD, and the total suspended solids standards (both in mg/l). Table C.2 lists the  
parameters used for process design and cost calculations according to  their input order. 
Free format input is used. An example input file looks like this: 
T h e  decision variables selected in this study were summarized in Table 2.5. T h e  values 
of these variables are specified in the second input d a t a  Ele to run the analysis program. 
Table C.3 summarizes the information requirements of this file. 
An example input file containing the decision variables is shown below: 
INITIAL DESIGN FOR BASE SYSTEM 
0 
0 1 0  
1.50000 
2.00000 .150000 
0.100000 
1 .booooo 
30.0000 15.0000 
0.5000000 
10.00000 
Three files are produced from running the analysis program. The  first file contains the 
detailcd design information for the specified flowchart and the values of the decision vari- 
ables. The  itemized costs for the unit processes included in the flowchart are summarized in 
a second output  file. The  third file has the values of the variables tha t  are in the GRG 
optimization model. 
The  analysis program is listed on the next few pages. 
Table C.2 - Summary of Parameters in the System Model 
-- 
Names ilrnitsl Vallle Index 
Economic Data: 
Capital Recovery Factor 
Base (1971) Cost Index 
Cost Index for 1980 
Operating/XIaintenance Wages (dollars/hr) 
Land Cost, CL (dollars/acre) 
Electricity Cost (dollars/kWhr) 
Pumping Head, 1-1 (meters) 
Pumping Efficiency, E 
P 
Primary Sedimentation: 
Consbant in Voshel-Sak %,lodel, o, 
Constant in Voshel-Sak Pclodel, v 2  
Constant in Voshel-Sak hlodel, L!, 
Sludge Settling Characteristics: 
ThickeningConstant,  a, 
Thickening Constant,  a, 
Thickening Constant,  a2 
Thickening Constant,  n, 
Thickening Constant,  n, 
Activated Sludge Kinetics: 
Growth Yield Coeficient, y (g cell/g BOD6) 
Half-Velocity Constant,  K, (g  BOD^/^^) 
Maximum Specific LTt.ilization Cocfl., k (day-') 
Endogencous Decny Coelficicnt, b (dny-') 
Fraction of cells Degradable, f d  
Conversion (g BODL/g cell) 
Conversion (g BODL/g BOD,) 
Secondary Sed irncnt:ltion: 
Constant in C l ~ a p r r ~ a n  h l o d ~ l ,  c ,  
Constant in Chapman hlodcl, c 2  
Constant  in Chapman l lodcl ,  c ,  
Aeration: 
Alpha Factor in Aeration 
Beta Factor in Aeration 
DO Concentration in :\ernton Tank .  DO (-g/rr13) 
Table C.2 (continued) 
DO Saturation Concentration, C, (g/m3) 
Temperature of hlised Liquor, TL (OC) 
Oxygen Transfer Efficiency, O T E  
Density of Air, pair (kg/m3) 
Weight Fraction of Oxygen in Air, y 
Temperature Coefficient 
Mixing Requirement, q (m3 air/m3/min) 
Gravity Thickening: 
TSS of Thickener Supernatant,  1\!,,, (kg/m3) 0.2 48 
Anaerobic Digestion: 
Coeff. for Digestion Rate Model 
CoeB. for Digestion Rate  Model 
Temperature of Digester Influent, To (OC) 
Methane Production (m3/kg BODL) 
Average Ambient Temperature,  T ,  (OC) 
Efficiency of Heat Exchanger, e 
Heat Conduction Coefficient, U (W/~"OC)  
Outside Surface Area and Volume Ratio for Digester, a 
Worth of Digester Gas (dollars/therm) 
Soluble BOD:, in Digester Supernatant,  S12 (g/m3) 
Factor Accounting For Effect of Rising G3s 
on Thickening in Secondary Digester, 6 
Thickening Constant for Digested Sludge, ad  
Thickening Constant for Digested Sludge, nd 
TSS of Digester Supernatant,  Mt13 (kg/m3) 
Height of Digester (m) 
Vacuum Filtration: 
Coefi. for Calculating Filtcr Yield 
Form Time per Cycle Time, x 
Pressure Applied on Vacun~n  Filter, P (Nt /m2)  
Viscosity of Filtrate, p (Nt-sec/rn2) 
Cycle Time, 1 ,  (min) 
Specific Resistance of Sludge, r, (m/kg)  
TSS of Filtrate, hfl16 (kg/m3) 
Unit Conversion Factor 
Table  C.3 - Input  Da ta  bo the  Analysis Program : Decision Variables 
Card  KO. ( 'ornmcnls 
1 Title 
2 O u t p u t  pr in t  level. 
=O : only the  final results a rc  printed 
=1 : design of every iteration is printed 
3 Process flowchart, 
0. 1. 0. : Figure 1.1 
1. 1. 0. : Figure 4.2 
0. 0. 1. : Figure 4.7 
4 Pr imary  clarifier overflow rate (m/hr) ,  delete this card 
if primary clarifier is not  in the  system (Figure 4.2) 
5 Sludge age, ec (days), Activated sludge recycle ratio 
6 Hydraulic retention time (days) 
7 Gravity thickener solids loading (kg/m2/hr) ,  delete this card 
if waste activated sludge is recycled to primary settling tank (Figure 4.7) 
8 Digestion temperature (OC), Solids retention time, e, (days)  
9 Secondary digester solids loading (kg/m"hr) 
10 Vacuum filter filter yield (kg/m2/hr)  
Se
p 
16
 
13
:2
5 
1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 1
 
P
R
O
G
R
A
M
 M
A
I
N
 (
PA
R.
 D
E
C
V
A
R
.
 0U
TP
UT
.D
ET
AI
L.
 C
OS
T.
GR
GD
AT
A.
RC
YC
LE
. 
+ 
'
W
E
~
=
P
A
R
,
 
T
A
P
E
~
Z
D
E
C
V
A
R
.
 
T
~
P
E
~
-
D
E
T
A
I
L
,
 
+ 
W
E
B
-
 G
H
G
D
A
T
A
,
 T
P
P
E
9
=
C
O
S
T
,
W
E
7
=
R
C
Y
C
L
E
)
 
CO
MM
ON
/S
TA
TE
/'
VI
N,
VC
II
T,
VS
ID
E,
AR
Y1
,A
RY
2,
IT
E 
CO
MM
ON
/P
AR
VA
R 
N
 . V
 . X
 
C
O
M
M
O
N
;'
C
O
N
T
~
?L
;;
~
R
I~
~
T
, 
B
l
,
 B2
.8
3 
CO
MM
ON
.'
DP
ST
/O
R,
IU
NI
Tl
 
CO
MT
.O
N;
'D
AS
,/
SR
T,
HI
IT
,A
SF
tR
, Il
lN
IT
2.
 B
OD
ST
D.
 T
ss
ST
D 
C
O
m
l
O
N
/
B
L
E
m
;
A
C
,
 N
C
 
CO
MM
CN
,/
DG
T.
'S
LG
T.
 
I
W
I
 T
3
 
CO
MM
ON
/D
PA
I.
U?
D/
SR
TD
, 
T
E
.
9
 
CO
MM
CN
/D
SA
ND
,!
SL
SA
ND
. 
I  
UN
IT
^ 
CO
I4
MO
N.
/D
M,
/Y
 
I
 EL
D 
R
E
A
L
 V
IN
(7
) 
,V
OU
T 
(7
) 
,
V
S
I
C
E
 (7
) 
,U
(1
00
) 
,V
(2
0)
 ,
X(
10
0)
 
R
E
A
L
 A
RY
l 
7
 
A
R
Y
2
 
7
 
R
E
A
L
 V
OL
D 
17
1 
TE
ST
 1
71
 ,
 I
N
F
L
O
W
 (7
) 
IN
TE
GE
R 
L
P
R
I
N
T
 
R
E
A
L
 N
C 
. 
C
H
A
R
A
C
T
E
R
*
 1
 T
I
T
L
E
 (
GO
) 
C
 
RE
AD
(4
,'
 
(I
NF
LO
W(
I)
,I
=1
,6
) 
I
N
F
L
O
W
 (
7 
=I
NF
LO
W(
3)
 +
I
N
F
L
O
W
 (4
) t
IN
FL
OW
(5
) 
+I
NF
LO
W(
6)
 
RE
AD
 [
4
,
 *I BODS
T
D
,
 T
S
S
S
T
D
 
R
E
A
D
 
4
,
 * 
(U
(1
).
 
I
=
l
,
 80
) 
- L. 
R
E
A
D
 (
5.
90
) 
T
I
T
L
E
 
9
0
 
F
O
R
M
A
T
 (
BO
Al
) 
RE
AD
 1
5.
 *
l 
L
P
R
I
N
T
 
R
E
A
D
(
S
;
*
~
B
~
,
B
~
,
B
~
 
I
F
(
B
l
.
E
Q
.
1
.
0
)
 G
O
T
0
 1
1
 
R
E
A
D
 
5
 
1
1
 
RE
AD
 I
5:
:I
g:
T.
AS
RR
 
L
. 
W
R
I
T
E
 (
6.
99
) 
9
9
 
F
O
W
A
T
(
2
X
.
1
0
4
 (
I
*
'
)
)
 
S
e
p
 1
6
 1
3
:
2
5
 1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 2
 
W
R
I
T
E
 (
6
,
1
0
0
)
 T
I
T
L
E
 
1
0
0
 
F
O
R
M
A
T
 (/
, 
15
X.
 8
0
A
1
,
 /)
 
W
R
I
T
E
 (
6.
99
) 
C
 
I
T
E
=
O
 
D
O
 
2
0
 I
=1
.7
 
V
I
N
 (I
) 
=
o
.
 0
 
V
O
L
D
 (
I)
 =
I
N
F
L
O
W
 (I
) 
2
0
 
C
O
N
T
I
N
U
E
 
L.
 3
2
 
C
A
L
L
 M
B
 (
VI
N,
IN
FL
OW
) 
I
F
(
I
T
E
.
E
Q
.
0
)
 G
O
T
0
 2
6
 
D
O
 2
1
 
I
=
1
.
7
 
T
E
S
T
 (
I)
 - (VI
N 
(I
 -
V
O
D
 
(I
) 
) 
I
N
 (I
) 
I
F
 (A
B
s 
(T
Es
T(
1)
 
.G
T.
l.
E-
6f
"T
iI
EN
 
I
F
(
I
T
E
.
E
Q
.
4
0
 1 TH
E
N
 
P
R
I
N
T
 *
. 
'
M
A
X
I
M
U
M
 N
U
M
B
E
R
 
OF
 
I
T
E
R
A
T
I
O
N
 
14
01
 
+ 
R
E
A
C
H
E
D
.
F
C
R
 R
E
C
Y
C
L
E
 
S
T
R
E
A
M
 M
A
S
S
 
B
A
L
A
IJ
~E
''
 
S
T
O
P
 
E
L
S
E
 
-
 I
T
E
=
I
T
E
+
l
 
C
A
L
L
 M
P
Y
 (V
IN
, V
OL
D)
 
GO
 
T
O
 
2
7
 
E
N
D
I
F
 
E
N
D
I
F
 
C
O
N
T
I
N
U
E
 
L
P
R
I
N
T
=
L
P
R
I
N
T
+
l
 
IF
 I
L
P
R
I
N
T
.
 E
O
.
 1
1
 T
HE
N 
~
T
E
=
I
T
E
+
~
-
 
' 
G
O
 
T
O
 
2
8
 
E
L
S
E
 
G
O
 
T
O
 4
0
 
E
N
D
I
F
 
I
T
E
=
I
T
E
+
l
 
FO
.P
MA
T 
(E
14
.6
) 
W
R
I
T
E
(
~
,
I
I
O
)
 I
T
E
 
F
O
R
M
A
T
 (
//
/,
 Z
O
X
,
 '
I
T
E
R
A
T
I
O
N
'
,
 IS
,/
//
) 
C
A
L
L
 B
R
A
N
C
H
 (
Bl
.V
IN
.A
RY
1)
 
I
F
(
B
~
.
E
Q
.
I
.
O
)
 TH
EN
 
C
A
L
L
 A
S 
D
O
 5
1
 I
=1
.7
 
A
R
Y
1
 (
I)
 =
O
.
O
 
V
S
I
D
E
 (
I)
 =
O
.
 0
 
C
O
N
T
I
N
U
E
 
V
O
U
T
 (
1)
 =
O
 .O
 
G
O
T
0
 5
2
 
E
m
I
F
 
C
A
L
L
 P
E
T
 
C
A
L
L
 K
B
 (
AR
Y 1
,
 VO
UT
) 
C
A
L
L
 A
S
 
-
 
~
p
 
IF
 (
B
3
.
 E
Q
.
 1
.
0
 .
A
N
D
.
 B
2
.
 E
Q
.
0
 .O
) 
T
H
E
N
 
D
O
 6
1
 I
=
3
,
7
 
VI
N(
I)
=V
IN
(I
)*
l.
E-
3 
Ss
p 
16
 1
3
:
2
5
 1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 3
 
So
l'
 
I
b
 
1
3
:
2
5
 1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 4
 
6
 1
 
C
O
N
T
I
N
U
E
 
G
O
T
0
 3
3
 
EN
DI
F 
CA
LL
 B
R
A
N
C
H
 B
2
,
V
S
I
D
E
.
V
O
U
T
)
 
CA
LL
 B
R
A
N
M
[
B
3
,
V
I
N
,
A
R
Y
l
)
 
5a
 
CA
LL
 
S
L
M
I
X
 
CA
LL
 G
T
 
CA
LL
 U
J
P
Y
 (
VO
UT
, V
IN
j 
33
 
C
A
L
L
P
A
N
D
 
CA
LL
 C
O
P
Y
 (
VO
UT
, V
IN
) 
CA
LL
 s
mn
 
CA
LL
 M
B 
(A
RY
1,
 VS
ID
E 
C
A
L
L
 V
F 
CA
LL
 M
B 
(A
RY
1,
 VS
ID
E 
C
 
D
O
 3
5
 
I
=
3
,
7
 
VI
N(
1)
 =
VI
N(
I)
 *
l
.
E
3
 
35
 
C
O
N
T
I
N
U
E
 
c~
 
G
O
 
TO
 
3
1
 
C
 
4
0
 
C
A
L
L
 O
BJ
 
C
 
IF
 (
8
1
.
 EQ
. 
1
.
0
.
 O
R
.
 B
3
.
 EQ
. 
1
 .
O)
 T
H
E
N
 
W
A
R
-
5
1
 
EL
SE
 
W
A
R
=
6
4
 
EN
D 
IF
 
-
 
-
-
-
 
WR
IT
E 
(8
,1
20
) 
(K
,X
(K
) 
,
K
=
l
.
N
V
A
R
)
 
1
2
0
 F
O
R
H
A
T
(
3
X
,
I
3
,
4
X
,
E
2
0
.
l
O
)
 
C
 
ST
OP
 
EN
D 
S
U
B
R
O
U
T
I
N
E
 P
S
T
 
C
O
M
.
I
O
N
/
S
T
A
T
E
/
V
I
N
,
V
O
U
T
,
V
S
I
D
E
,
A
R
Y
~
,
A
R
Y
~
,
I
T
E
 
C
O
m
O
N
/
P
A
R
V
A
R
/
U
,
V
.
X
 
CO
MM
CN
/C
ON
TR
L/
LP
RI
IJ
T.
 8
1
.
 BZ
.B
3 
. 
. 
C
O
~
O
N
~
D
P
S
T
~
O
R
,
 
IU
NI
 TI
. 
R
E
A
L
 V
IN
(7
) 
,
V
O
U
T
 (7
) 
,
V
S
I
C
E
 (7
) 
,A
RY
1(
7)
 ,
A
R
Y
2
 (7
) 
,U
(1
00
) 
,V
(2
0)
 
,X
(1
00
) 
R
E
A
L
 W
1
 
- L 
IF
 (
VI
N 
(1
) 
. E
Q.
 0
 .O
) 
R
E
T
U
R
N
 
c L. 
XP
l=
l.
E3
*V
(6
) 
/V
IN
(7
) 
C
 
C
 U
S
E
 N
E
W
T
O
N
'
S
 K
E
T
H
O
D
 
TO
 
S
O
L
V
E
 F
O
R
 P
R
I
M
A
R
Y
 S
L
U
D
G
E
 F
L
O
W
R
A
T
E
:
 
C
 
N
=
 1
 
V
S
I
D
E
 (
l)
=l
.E
-3
*V
IW
(l
) 
2
1
 
V
O
U
T
 (
1)
 =
V
I
N
 (
1)
 -
V
S
I
D
E
 (1
) 
Fz
VI
N(
1)
 -
V
O
U
T
 1
) 
*
R
1
-
K
P
l
*
V
S
I
D
E
 (1
 *
* (
(V
(5
) 
-l
.)
/V
(5
))
 
+ 
* (
VO
UT
 (1
) 
*
U
 (
16
) 
/O
R,
 **
 (1
 .
/V
 (
5
)
 1 
IF
 (
AB
S 
(F
) 
.
L
E
.
 l
.
E
-
6
)
 C
O
T
0
 2
2
 
F
P
R
I
M
E
-
R
1
-
-
K
P
1
*
 
(U
 (
16
) 
*
V
O
U
T
 (1
) 
/O
R/
'V
SI
DE
 (1
) 
) 
**
 (1
. /
V 
(5
) 
) 
+ 
* (
1.
 -
V
I
N
 (1
) 
/V
 (
5)
 /
VO
UT
 (
1)
 ) 
V
S
I
D
E
 (
1)
 =
V
S
I
D
E
 (1
) 
-
F
/
F
P
R
I
M
E
 
N
=
N
+
l
 
IF
(N
.G
E.
50
) 
T
H
E
N
 
P
R
I
N
T
 *
,'
MN
(I
WJ
M 
NU
MB
FR
 
OF
 
I
T
E
R
A
T
I
O
N
 R
E
A
C
I
E
D
 I
N
 P
R
I
M
A
h
Y
 
+ 
S
E
T
T
L
I
N
G
 T
A
N
K
 D
E
S
I
G
N
 
S
T
O
P
 
2
2
 
IF
(V
SI
DE
I(
l)
.L
T.
O.
) 
TH
EN
 
P
R
I
N
T
 *
, 
F
A
I
L
E
D
 T
O 
F
I
N
D
 A
 F
Y
I
B
L
E
 S
O
L
U
T
I
O
N
 I
N
 
+
P
R
I
M
A
R
Y
 S
E
T
T
L
I
N
G
 T
AN
K 
D
E
S
I
G
N
 
S
T
O
P
 
D
O
 1
 I
=
3
,
6
 
V
O
U
T
 (
I)
 =
VI
N(
I)
 *
R
1
 
V
S
I
D
E
 (
I)
 =
VI
N(
I)
 *
R
A
T
I
O
 
1
 
C
O
N
T
I
N
U
E
 
C
 
IF
 (
L
P
R
I
N
T
.
L
T
.
 1)
 G
O
T
0
 1
0
0
 
W
R
I
T
E
 1
6.
13
1 
0
R
*
2
4
.
 .
A
P
S
T
.
R
*
1
0
0
.
 
1
3
 
TOR
 MA
^ (i
x,
' 
*
*
P
R
I
M
A
R
Y
 S
E
T
T
L
I
N
G
 y
 D
E
S
I
Y
-
-
 I
,/
/;
 
+ 
O
V
E
R
F
L
O
W
 
R
A
T
E
 
=
 
,
F
1
2
.
5
,
 
M/
DA
Y,
 
,/
, 
+
' 
S
U
R
F
A
C
E
 
A
R
E
A
 
='
.F
12
.5
.'
 
SO
 M
a
.
/
.
 
-
 
-
-
-
-
-
 
+
I
 
S
O
L
I
D
S
 R
E
M
O
V
A
L
 
=
' 
..
 ,
 
W
R
I
T
E
 (
6.
14
) 
:S
(C
,/
CU
 M
) 
',
3X
,'
p;
IA
/C
/C
U M)
 '
,
3
X
,
 
,
3
X
a
1
M
I
(
G
,
/
C
U
 M)
 
,S
X,
'M
T(
G/
'C
U 
Ed)'
) 
F
O
R
M
A
T
 l
2X
. 
' I
h
F
L
U
E
N
T
'
 .
3
X
.
F
1
2
.
5
.
5
 f l
X
.
F
l
2
.
5
1
 .
lX
.F
13
.5
1 
F
O
R
M
A
T
 2
x1
 '
E
F
F
L
W
N
T
~
;
~
X
;
F
~
~
.
~
;
~
(
~
X
;
F
~
~
.
~
~
 
;
l
X
;
~
1
3
.
5
1
 
F
O
R
M
A
T
I
2
X
.
 '
U
N
D
E
R
F
L
O
W
'
,
2
X
.
F
l
2
.
5
,
5
(
l
X
,
F
1
1
.
5
)
,
 l
X
.
F
l
3
.
5
)
 
X
 
1)
 =
V
I
N
 (1
) 
/
6
0
.
0
 
X
 
1
1
 
V
O
U
T
 (
1)
 
6
0
.
 
x 
I 121 1
v
s
I
D
E
 
S
e
p
 
1
6
 
13
:2
5 
1
9
8
4
 
D
E
S
I
G
N
 
P
a
g
e
 
5
 
X
 
6
 
=
V
I
N
 6
 
X
 [
PI
 =
V
I
N
 [
21
 
I
F
(
B
3
.
N
E
.
1
,
)
T
H
E
N
 
X(
64
) 
:-
VS
ID
E (
7)
 *
l
.
E
-
.
5
 
E
L
S
E
 
x-
56
 =
V
S
I
D
E
 
7
 
*
l
.
E
-
5
 
XI
51
1 
=
V
S
I
D
E
 1
61
 *
l
 .
E
-
 3
 
E
N
D
I
F
 
C
 1
0
0
 
R
E
T
V
R
N
 
E
N
D
 
C
 
S
U
B
R
O
U
T
I
N
E
 A
S
 
C
O
M
M
O
N
/
S
T
A
T
E
/
V
I
N
,
V
O
U
T
,
V
S
I
D
E
.
A
R
Y
1
,
A
R
Y
2
,
I
T
E
 
C
O
M
M
O
N
/
P
A
R
V
A
R
/
U
,
V
,
X
 
CO
MM
ON
/C
ON
TR
L/
LP
RI
NT
.B
l.
B2
.B
3 
C
O
M
M
O
N
)
D
A
S
/
S
R
~
,
H
R
T
.
A
S
R
R
;
 I
U
T
J
I
T
~
,
 
B
O
D
S
T
D
,
 T
S
S
S
T
D
 
R
E
A
L
 
V
I
N
 (
7)
 ,
V
O
U
T
 (7
) 
,
V
S
I
D
E
 7
 
,
A
R
Y
1
(
7
)
 ,
M
Y
2
 (7
) 
,U
(1
00
) 
R
E
A
L
 V
 (
20
) 
,
X
 (
1
0
0
)
 . SN
 (
3)
 ,
 F 
(3
1 
R
E
A
L
 N
u
 
C
 
C
 C
 A
E
R
A
T
I
O
N
:
 
- L 
IF
 (
I
U
N
I
T
2
.
 E
Q
.
0
 .A
N
D
. I
T
E
 . E
Q
.
 1)
 
H
R
T
=
H
R
T
/
2
4
.
 
C
 
.
 -
 
IF
 (
A
F
w
 
. L
T
.
 u 
(4
5)
 ) 
TI
IE
N 
P
R
I
N
T
 
*
,
'
M
I
X
I
N
G
 
R
E
Q
U
I
R
E
M
E
N
T
 
C
O
N
T
R
O
L
S
 O
X
Y
G
E
N
 D
E
M
A
N
D
n
 
E
N
D
I
F
 
C
 
I
F
 (
L
P
R
I
N
T
.
 L
T
.
 1
) 
G
O
T
0
 
1
5
0
 
r
X
R
*
l
.
E
2
,
V
A
T
,
H
R
T
h
2
4
.
,
0
R
M
T
,
A
F
R
 
W
R
I
T
E
1
6
,
l
O
O
)
 
SR
T,
A,
 
l
o
o
 
S
O
~
Y
A
~
(
I
/
,
~
X
,
'
*
*
A
C
T
I
V
A
T
S
D
 
S
L
U
D
G
~
:
 S
Y
S
T
E
~
 DE
SI
GN
--
',
//
, 
+ 
SL
LQ
GE
 
AG
E 
=
 
.F
12
.5
, 
C
A
Y
S
,
 
,/
, 
+'
 
S
L
U
D
G
E
 R
E
C
Y
C
L
E
 
='
,F
12
.5
,'
 
PE
RC
EN
T,
',
//
, 
+
2
X
.
'
f
A
\
.
 
A
E
R
A
T
I
O
N
 
T
l.
N
K
--
I.
//
. 
+'
 
R
E
T
E
N
T
I
O
N
 
T
I
M
E
 
='
,F
12
.5
,'
 
H
O
U
R
S;
",
/, 
+
' 
O
X
Y
G
E
N
 
R
E
Q
U
I
R
E
E
N
T
=
:
,
F
1
2
.
5
.
'
 
KG
/D
, 
,/
, 
t
 ' 
A
I
R
 
F
L
O
W
R
A
T
E
 
=
 
.F
12
.5
.'
 
C
U
 
M/
MI
N.
'.
/\
 
.
r
,
 
W
R
I
T
E
 (
6
,
1
1
0
)
 
1
1
0
 
F
O
R
M
A
T
 (
15
X.
 '
Q 
(
N
 M,
"H
R)
 ' ,
4
X
,
 '
S 
(
G
/
N
 M
) 
' ,
3
X
,
 '
M
A
(
G
/
N
 
M)
 ' 
,
3
X
,
 
S
s
p
 
1
6
 
1
3
:
2
5
 
1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 6
 
+
'
l
m
(
G
j
N
 
W
R
I
T
E
 
6.
12
0 M)
 i j3x
, 
AR
Yl
(1
) 
'M
I 
(
G
/
N
 
,
1
=
1
,
7
1
 
M
 
' ,
3
X
,
 '
MF
 (
G
/
N
 M
) 
' ,
5
X
,
 '
MT
(C
/C
U 
M)
 '
) 
W
R
I
T
E
 
6
,
1
3
0
 
V
I
N
 (
I)
, 
I
=
1
,
7
)
 
1
2
0
 
F
O
R
M
A
T
 
2X
, 
'
I
M
L
U
E
N
T
1
,
 3
X
,
F
1
2
.
5
,
5
 
l
X
,
F
1
1
.
5
 
,
 lX
.F
l3
.5
 
1
3
0
 
F
O
M
T
(
2
X
.
 '
E
F
F
L
U
E
N
T
'
,
 3
X
.
F
l
2
.
5
.
5
~
l
X
.
F
l
2
.
5
~
 ,
l
X
,
F
1
3
.
5
1
 
D
O
 i
s
5
 
r=
i,
i'
 
x 
(I
) =
m
y
1
 (I
) 
1
5
5
 
C
O
N
T
I
N
U
E
 
C
 
C
 
S
E
C
O
N
D
A
R
Y
 
S
E
T
T
L
I
N
G
:
 
C
 1
6
0
 
Y
Y
=
V
I
N
 15
1 
/
V
I
N
 1
31
 
Z
Z
=
V
I
N
 6
 
/
V
I
N
 3
 
X
X
=
V
I
N
 
7
 
/
V
I
N
 
3
 
C
 
Q
2
=
A
R
Y
1
(
1
)
 ' 
~
 
x
A
2
=
k
R
Y
1
(
3
)
 
C
 C 
S
E
T
T
I
N
G
 U
P 
TH
E 
C
O
E
F
F
I
C
I
E
N
T
S
 
F
O
R
 
S
I
M
U
L
T
A
N
E
O
U
S
 
E
Q
U
A
T
I
O
N
S
:
 
N
W
=
U
 1
20
1 
m
l
=
d
R
y
i
 (
3)
 *
~
.
o
E
-
3
 
A
l
2
=
-
1
.
0
/
X
x
*
l
.
O
E
-
3
 
m
3
=
V
I
N
(
l
)
 /
X
X
*
l
.
O
E
-
3
 
R
H
S
l
=
 
V
I
N
 (
3)
 *
V
A
T
/
S
R
T
/
2
4
.
O
+
Q
2
*
X
A
Z
+
A
S
R
R
*
Q
2
 *
M
Y
1
 (3
) 
) 
*
l
 
.
~
2
l
=
v
1
7
)
 
R
H
S
2
-
A
R
Y
l
(
7
)
 *
l
.
O
E
-
3
 
A
3
1
=
U
(
3
2
)
 *
Q
2
*
 (
1
.
 O
t
A
S
R
R
)
 
(-
1.
0)
 
A
3
2
~
1
.
0
 
R
H
S
3
=
-
U
(
3
0
)
 t
U(
31
) 
*
V
I
N
 (
7)
 
- C; C 
P
R
O
V
I
D
I
N
G
 
S
T
A
R
T
I
N
G
 V
A
L
U
E
S
 F
O
R
 
V
A
R
I
A
B
L
E
S
:
 
I
A
R
E
A
=
l
 
N
=
3
 
C
 
C
A
L
L
 F
U
N
C
 (
N,
 S
N,
F 
,
N
W
,
A
l
1
,
A
l
2
,
A
1
3
,
~
2
1
,
A
3
1
.
~
3
2
,
 
R
H
s
~
,
R
H
s
~
,
R
H
s
~
)
 
- L 
C
A
L
L
 
Q
U
A
S
I
 (
N,
 S
N
,
F
,
N
W
,
~
l
,
A
l
2
,
A
1
3
,
~
1
,
A
3
1
,
A
3
2
 
,l
U!
Sl
, 
tR
HS
2.
RH
S3
, 
I
T
E
Q
N
)
 
C
 
I
F
f
I
T
E
O
N
.
G
E
.
5
0
)
 T
H
E
N
 
IF
 (
I
A
R
~
A
.
G
T
.
 
2
0
)
 
TX
EN
 
P
R
l
N
T
 
*, 
'H
AX
II
4I
.N
 N
U
M
B
E
R
 
F)
F 
IT
ER
AT
IO
IJ
S 
RE
kC
Ii
ED
 
I
N
 
+
 
A
C
T
I
V
A
T
E
D
 
S
L
U
D
G
E
 
D
E
S
I
G
N
 
S
T
O
P
 
E
L
S
E
 
I
A
R
E
A
=
I
A
R
E
A
+
l
 
G
O
T
0
 
1
8
0
 
E
N
D
I
F
 
E
N
D
I
F
 
C
 
S
e
p
 1
6
 1
3
:
2
5
 1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 7
 
S
e
p
 1
6
 1
3
:
2
5
 1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 8
 
IF
(S
N(
1)
 
;
L
E
.
O
.
O
.
O
R
.
S
N
(
2
)
 .
L
E
.
O
.
O
.
O
R
.
S
N
(
3
)
 .
LE
.O
.O
) 
T
H
E
N
 
P
R
I
N
T
 *
, 
F
A
I
L
E
D
 T
O
 F
I
N
D
,
A
 F
E
A
S
I
B
L
E
 S
O
L
U
T
I
O
N
 I
N
 
+
A
C
T
I
V
A
T
E
D
 S
L
U
D
G
E
 D
E
S
I
G
N
 
ST
OP
 
EN
DI
F 
- 
X
 
1
9
 =
Z
Z
 
X
 1
2-
71
 =
AE
'R
/6
0.
 
E
L
S
E
 
I.
 
A
R
Y
l
 
1
 =
S
N
 
1
 
V
O
U
T
 [
7{
 =
S
N
 [2
{ 
M
-
S
N
 (3
) 
- 
C
 
C
 A
C
T
I
V
A
T
E
D
 
S
L
U
D
G
E
 S
E
P
A
R
A
T
I
O
N
:
 
C
 - L 700
 
V
O
U
T
 (
1)
 =
A
S
R
R
h
Q
2
 
V
I
N
 (
1)
 =A
RY
1(
1)
 -
V
O
U
T
 (1
) 
C
 
L
 
IF
 (
E
F
F
B
O
D
.
 G
T
.
 B
O
D
S
T
D
)
 
TH
EN
 
P
R
I
N
T
 *
,
'
W
I
N
G
-
B
O
D
S
 S
T
A
N
D
A
R
D
 V
I
O
L
A
T
E
D
1
 
E
M
I
I
F
 
A
R
Y
l
 
I
 =
k
~
1
 
I
 
*
l
.
O
E
-
3
 
V
O
U
T
 [
I{
 =
M
Y
1
 [I
{ 
V
I
N
 (
1)
 =
M
Y
1
 (1
) 
IF
(E
FF
TS
S 
.?
T.
 T
S
S
S
T
D
)
 
T
H
E
N
 
P
R
I
N
T
 
*, 
W
A
R
N
I
N
G
-
T
S
S
 S
T
A
N
D
A
R
D
 V
I
O
L
A
T
E
D
'
 
E
N
D
I
F
 
W
R
I
T
E
(
6
.
2
0
0
1
A
F
.
O
F
R
A
T
E
.
S
L
F
S
T
.
E
F
F
B
O
D
.
E
F
F
T
S
S
 
. ,
 
60
 
C
O
N
~
I
~
E
 
vo
ur
 (
2)
 :=
AR
Y1
(2
) 
V
I
N
 (
2)
 :
M
Y
1
 
(2
) 
C
 
I
F
 (
L
P
R
I
N
T
.
 L
T
.
 1)
 
C
O
 
T
O
 2
0
0
0
0
 
W
R
I
T
E
 (
6
,
8
0
0
)
 
8
0
0
 
F
O
R
M
A
T
 (/
, 
2X
. 
' (
C)
 . 
A
C
T
I
V
A
T
E
D
 
S
L
U
D
G
E
 S
E
P
A
R
A
T
I
O
N
-
 - 
' . j
)
 
W
R
I
T
E
 (
6.
90
01
 
t
 ' 
:
S
U
R
F
A
C
E
 '
A
~
E
A
 
=
'
,
F
1
2
.
5
,
 
S
Q
 M
,
 I
,
/
,
 
t
 ' 
O
V
E
R
F
L
O
W
 R
A
T
E
 
=
'
,
F
1
2
.
5
,
'
 M
/
D
A
Y
,
'
,
/
,
 
+I
 
S
O
L
I
D
S
 ~
ar
n~
rr
; =
'
.
~
'
1
2
.
5
.
'
 K
G
I
H
R
I
S
O
 M
.'
./
. 
. 
.
,
.
 
+I
 
E
F
F
L
U
E
N
T
 B
O
D
S
 
=
 : 1~
1
2
.
5
;
 
I
 
GI
.~
)C
U'
 M: 
I
 
,
 
+'
 
E
F
F
L
U
E
N
T
 T
S
S
 
=
 
,
F
1
2
.
5
,
 ' 
C;
I.
l/
CU
 M
.
 ';{ 
g
o
o
 
F
O
R
M
A
?
 (
i~
x,
 
'9
 (C
U 
MI
HR
) 
,
4
x
,
 @
S
J
C
/
C
U
 M
) 
I
,
 2x
. 
I
I
I
A
(
~
G
/
C
U
 M)
 I
,
 2x
. 
+ 
'M
D 
(K
G/
CU
 M
) 
,
2
X
,
 '
MI
 (
KG
/C
U 
M)
 
,
2
X
,
 'M
E 
(K
G/
CU
 M
) 
,
 
+
4
X
,
 'M
T(
KG
/C
U 
M)
 '
) 
W
R
I
T
E
 (
6
.
9
1
0
1
 (
A
R
Y
l
l
I
l
.
 I=
1.
7)
 
W
R
I
T
E
 (
6,
30
0)
 
F
O
R
M
A
T
(
l
5
X
.
 :
Q(
CU
 
M'
HR
) 
'
,
4
X
,
 :S
(G
/C
U 
M)
 '
,
3
X
,
 '
p
(
G
/
C
U
 
M)
 '
,
3
X
,
 
t1
MD
'(
G/
C7
J 
M)
 
,
3
X
,
'
M
I
(
G
/
C
U
 
t4
) 
,3
X,
'M
Z(
G/
CU
 
M)
 
,S
X,
'M
T(
G/
CU
 
M)
 
W
R
I
T
E
f
6
.
4
0
0
1
 (
V
I
N
f
I
)
 ,
I
=
1
,
7
)
 
W
R
I
T
E
 1
6:
 9
20
1 
~
V
O
U
T
 (1
1 
;1
=1
: 
71
 
W
R
I
T
E
 
6
 5
0
0
 
VO
'J
T 
I 
W
R
I
T
E
 1
6:
 6
00
1 
(
A
R
T
1
 [I
{ 
::I;:
 
:{
 
F
O
R
M
A
T
 (
2
X
.
 '
I
N
F
L
U
E
N
T
'
 .
3
X
.
F
l
2
.
5
.
5
(
1
X
.
F
1
2
.
5
1
.
1
X
.
F
1
3
.
5
1
 
I
F
(
B
l
.
N
E
.
1
.
0
)
 
T
H
E
N
 
X
 
2
1
 =
VI
N(
l)
/Q
2*
1.
E2
 
X
 
2
2
 =
>.
SR
9t
X(
21
) 
*
1
.
E
-
2
 
X
 1 28 I
 =VIN
(I
I 
X
 (
29
) =
V
I
N
 (
7)
 
G
O
T
0
 2
0
0
0
0
 
E
L
S
E
 
X
 
16
 =
VI
N(
l)
 /
Q
2
*
1
.
E
2
 
X
[
l
7
{
=
A
S
R
R
+
X
(
1
6
)
*
1
.
E
-
2
 
Ss
p 
1
6
 1
3:
25
 
1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 9
 
S
e
p
 1
6
 1
3:
25
 
1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 1
0
 
C
A
L
L
 M
A
T
V
E
C
(
N
,
H
,
Y
,
H
Y
 
C
 
C
O
M
P
U
T
E
 T
RA
?i
SP
OS
E (
S 
(l
*N
j)
 
l
 
H(
N*
N)
 
Y
 (
N*
l)
 
: 
S
H
Y
=
O
.
 0
 
2
0
0
0
0
 R
E
T
U
R
N
 
EN
D 
C
 
D
O
 3
5
 I
=
l
,
N
 
SI
fl
=S
Ki
+S
 (I
) 
*
H
Y
 (I
) 
C
O
N
T
I
N
U
E
 
C
O
M
P
U
T
E
 T
R
A
N
S
P
O
S
E
 (
S 
(1
*N
) 
U
P
D
A
T
E
 : 
D
O
 4
0
 I
=
l
,
N
 
D
O
 4
0
 
J
=
l
.
N
 
S
U
B
R
O
U
T
I
N
E
 O
U
A
S
I
 (
N.
X.
 F.
NC
,A
ll
.F
d2
.A
l3
 .
AZ
l.
A3
1.
 
- 
A
~
~
;
~
S
~
;
R
H
S
Z
.
R
H
S
~
,
I
T
E
 
- 
'D
IM
EN
SI
ON
 
F
 
3)
 ,F
;Y(
II)
 
,H
 (
3.
3)
 ,
HY
(3
) 
,
S
 (3
1 
,S
H(
3)
 
D
I
M
E
N
S
I
O
N
 U
I3
.3
) 
,X
(3
) 
,Y
(3
) 
R
E
A
L
 N
C
 
4
0
 
C
O
N
T
I
N
U
E
 
- 
TI
AT
E 
H
 (
I,
 J)
 :
 
D
O
 
1
0
 I
=
l
.
N
 
C
 
C
O
N
T
I
N
U
E
 I
T
E
R
A
T
I
O
N
S
:
 
' 
EZ
SE
 ' 
H(
I,
J)
=O
.O
 
EN
DI
F 
C
O
N
T
I
N
U
E
 
1
0
0
 
R
E
T
U
R
N
 
EN
D 
C
 
C
 
S
U
B
R
O
U
T
I
N
E
 
'M
AT
VE
C'
 P
E
R
F
O
R
M
S
 T
H
E
 P
O
S
T
-
M
U
L
T
I
P
L
I
C
A
T
I
O
N
 O
F 
C
 
A
 M
A
T
R
I
X
 
(N
*N
) 
B
Y
 A
 V
E
C
T
O
R
 
(N
tl
) 
C
 
L
 
C
 C
O
M
P
U
T
E
 X
'
 (
I)
 
(T
HE
 N
EW
 
S
O
L
U
T
I
O
N
)
 
: 
1
5
 
C
A
L
L
M
A
T
V
E
C
(
N
,
H
,
F
,
S
)
 
D
O
 
1
6
 I
=
l
,
N
 
s 
(I
) =
-
S
 (I
) 
1
6
 
C
O
N
T
I
N
U
E
 
C
 
- 
S
U
B
R
O
U
T
I
N
E
 M
A
T
V
E
C
 (
N,
A,
 B
,
 C
 
D
I
M
E
N
S
I
O
N
 A
(3
.3
) 
,B
 (
3)
 ,
C(
3{
 
c
 
c 
TE
ST
 F
O
R
 
C
O
N
V
E
R
G
E
N
C
E
:
 
~d
 i
 J
=
~
,
N
 
C(
I)
=C
(I
) 
tA
(1
,J
) 
*B
(J
) 
2
 
C
O
N
T
I
N
U
E
 
1
 
C
O
N
T
I
N
U
E
 
D
O
 
2
0
 I
=
l
,
N
 
IF
 (
I
.
 EQ
. 
2)
 T
H
E
N
 
IF
 f
AB
S 
IS
 f
II
 I
 .
L
E
 
TH
EN
 
T
H
E
N
 
N
S
 ~
O
P
-
N
S
~
O
P
~
 
1
 
EN
DI
F 
EL
SE
 
IF
 (
AB
S 
(S
 (
I)
 ) 
. L
E 
N
S
T
O
P
=
N
S
T
O
P
 +
1
 
Eh
DI
F 
EN
DI
F 
R
E
T
U
R
N
 
EN
D 
C
 
C
 
S
U
B
R
O
U
T
I
N
E
 V
E
N
T
 P
E
R
F
O
R
M
S
 T
HE
 
P
R
E
-
M
U
L
T
I
P
L
I
C
A
T
I
O
N
 O
F 
C
 
A
 M
A
T
R
I
X
 
(N
*N
) 
B
Y
 A
 
VE
CT
OR
 
(l
*l
J)
 
c
 - 
S
U
B
R
O
U
T
I
N
E
 V
EI
3M
AT
 (
N
,
X
,
Y
,
 Z
 
- 
D
I
M
E
N
S
I
O
N
 X
 (
3)
 ,
Y
 (3
,3
) 
, Z
 (3
1 
-
-
 
-
 
-
-
 
C
O
N
T
I
N
U
E
 
c
 
U
P
D
A
T
E
 X
 (
II
 :
 
D
O
 2
<
 i
=
1
,
~
 
x 
(I
) =
x (
I)
 t
s
 (
I)
 
2
5
 
C
O
N
T
I
N
U
E
 
C
 
Z
 (J
) 
=
Z
 (J
) 
+
X
 (I
) 
*
Y
 (I
, J
) 
2
 
C
O
N
T
I
N
U
E
 
1
 
C
O
N
T
I
N
U
E
 
R
E
T
U
R
N
 
C
 C
O
M
P
U
T
E
 Y
 (
I)
 :
 
C.
UL
 
F
U
N
C
 (
N
,
X
.
F
N
E
W
,
t
i
C
,
A
l
1
.
A
1
2
,
A
l
3
,
A
2
1
,
A
3
1
,
 
tA
32
.R
HS
l.
RI
IS
2.
TU
IS
3)
 
D
O
 3
0
 I
=
l
.
N
 
EN
D 
C
 
SU
I?
RO
UT
IN
E 
F
U
N
C
~
,
X
,
F
,
N
C
,
A
~
~
,
A
~
~
,
A
~
~
,
A
~
~
,
A
~
~
,
A
~
~
,
 
+
W
I
S
l
,
 R
H
S
2
,
 RI
IS
3)
 
R
E
A
L
 N
C
 
-
 .
 
.
 - 
-
 
-
 . -
 
Y
 I
 
F
N
E
W
 I
 
F
 (
I)
 
F
 I
11
 :
FN
Ew
II
I 
- 
' 
D
I
M
E
N
S
I
O
N
 X
 (
3)
 ,
F 
(3
) 
c
 
,
 
. 
3
0
 
~
~
N
T
I
N
U
E
 
C
 
C
 U
P
D
A
T
E
 H
 (
I,
 J)
 :
 
C
 
C
O
M
P
U
T
E
 H
 (
I,
 J)
 *
Y
 (J
) 
: 
S
s
p
 1
6
 1
3
:
2
5
 1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 1
1
 
S
e
p
 1
6
 1
3
:
2
5
 1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 1
2
 
L
. 
S
U
B
R
O
U
T
I
N
E
 S
L
G
M
I
X
 
C
O
~
O
N
/
'
S
T
A
T
E
/
V
I
N
.
V
O
U
T
,
V
S
I
D
E
,
A
R
Y
l
,
A
i
l
Y
2
.
I
T
E
 
C
O
M
M
O
N
 /P
.W
VA
R 
,'U
 .
 V .
 X 
,
 
. 
R
V
J
.
 N
C
 
C
 
D
O
 
1
 1
1
-
3
.
7
 
V
O
U
T
 (
I)
 =
VO
UT
(I
) 
'1 
.
E
-
3
 
V
S
I
D
E
 (
I)
 :V
SI
DE
 
(I
) 
'1
. 
E
-
3
 
1
 
C
O
N
T
I
N
U
E
 
C
 
IF
 (
V
O
U
T
 (1
) 
. E
Q
.
 0
.
0
)
 T
II
EN
 
D
O
 1
1
 I
-
2
,
7
 
V
O
U
T
(
I
)
=
O
.
O
 
1
1
 
C
O
N
T
I
h
v
E
 
G
O
T
0
 1
3
 
E
N
D
I
F
 
C
 
IF
 (
VI
N 
(1
) 
. E
Q
 . 0
 . 0
)
 
T
H
E
N
 
D
O
 
1
2
 I
=
2
.
7
 
V
I
N
 (
I)
 -
0
.
0
 
1
2
 
C
O
N
T
I
N
U
E
 
E
r
n
I
F
 
C
 1
3
 
D
O
 
2
 I
=
1
,
7
 
TE
MP
 (
I)
 -
V
I
N
 (
I)
 
2
 
C
O
N
T
I
N
U
E
 
- L C 
T
H
I
C
K
E
N
I
N
G
 C
Ii
AR
AC
TE
RI
ST
IC
S 
OF
 
C
C
M
B
I
M
D
 S
L
U
D
G
E
:
 
P
R
I
S
L
C
-
V
O
U
T
 (1
) 
'V
OU
T 
(7
) 
F
P
 P
R
I
S
L
G
I
 P
RI
SL
Cv
'I
Ek
P 
(1
) 
*
T
E
M
P
 (7
) 
) 
A
C
-
U
(
l
7
l
 -
U
 11
81
 *
F
P
h
*
U
1
1
9
1
 
L
 
V
I
N
 (
1)
 -
-
V
O
U
T
 (1
) 
t 
T
E
M
P
 (
1)
 
D
O
 
1
0
 1
~
2
.
7
 
V
I
N
 (
I)
 = 
(T
E:
.P
 (
I)
 *
T
E
M
P
 (
1)
 t
V
O
U
T
 (
I)
 *
V
O
U
T
 (1
) 
)
P
I
N
 (
1)
 
1
0
 
CO
NT
II
vV
E 
C
 
IF
 (
L
P
R
I
N
T
 . L
T
 .
l)
 C
3
T
3
 1
0
0
0
 
W
R
I
T
E
 (
6
,
1
0
0
)
 
1
0
0
 
F
O
R
M
A
T
I
/
/
.
 2X
. 
' *
*S
LI
ID
GE
 .
@L
EN
DI
NG
--
',
 /)
 
WR
IT
E 
(6
',
1i
o)
 
1
1
0
 
F
O
W
i
T
(
I
5
X
.
 '
?(
Ci
J 
H
s
M
)
 
',
d
.X
, 
'S
,(
G/
CU
 
M)
 '
,
2
X
,
 '
MA
(f
C/
CU
 
M)
 '
,
2
X
.
 
+ 
'
M
D
 I
KG
.<
CU
 MI
 
,
2
X
,
 ' M
I 
(K
C;
 CU
 
M)
 
,
2
X
,
 'M
F
 (
KC
/C
U 
M)
 
,
4
X
,
 
t
'
M
T
 K
G 
C
U
 M
 
'I
 
M
I
~
E
 6
,
1
2
0
 
?O
UT
 
I
 
,I
:1
,7
 
L'
RI
TE
 1
6,
13
0]
 I
T
E
W
 I
1
{
,
1
=
1
,
7
I
 
W
R
I
T
E
 
6
,
1
4
0
 
VI
N 
(I
).
 
1
~
1
.
7
)
 
1
2
0
 
F
O
R
M
A
T
 2
X
,
 '
P
R
I
M
A
R
Y
'
 ,
4
X
,
F
1
2
.
5
,
5
 (
1
X
.
F
l
2
.
5
)
 ,
1
X
,
F
1
3
.
5
)
 
1
3
0
 
F
O
R
M
A
T
 2
X
,
'
A
C
T
I
V
A
T
E
D
:
,
2
X
,
F
1
2
.
5
,
5
 
1
X
.
F
l
2
.
5
 
,
1
X
,
F
1
3
.
5
 
1
4
0
 
F
O
R
M
A
T
 2
X.
 '
C
O
M
B
I
N
E
D
 
,
2
X
,
F
1
2
.
5
,
5
[
1
X
,
F
l
2
.
5
~
 
,
L
X
,
P
1
3
.
5
~
 
C
 
I 
IF
(B
l.
NE
.1
.0
) 
TH
EN
 
Xf
30
I 
=
V
I
N
f
1
1
 
X
 (
24
) 
=
V
I
N
 (7
) 
EN
DI
F 
1
0
0
0
 
R
E
T
U
R
N
 
E
N
D
 
L
 
S
U
B
R
O
U
T
I
N
E
 G
T
 
C
O
~
O
N
/
S
T
A
T
E
/
V
I
N
,
V
O
U
T
,
V
S
I
D
E
,
A
R
Y
~
,
A
R
Y
~
,
I
T
E
 
C
O
r
n
O
N
/
P
b
R
V
A
R
/
U
.
 V
.
 X
 
CO
~W
ON
)C
ON
TR
L)
LP
R~
NT
, 
~
1
,
 
B
2
,
 B
3
 
CO
MM
ON
/D
GT
,'
SL
GT
,I
UN
IT
3 
C
O
M
M
O
N
,
/
B
L
E
N
D
/
A
C
,
 
N
C
 
R
E
A
L
 V
IN
(7
) 
,
V
O
U
T
 (7
) 
,
V
S
I
D
E
 (7
) 
,A
RY
1(
7)
 ,
A
R
Y
2
 (7
) 
.U
(l
OC
) 
, 
+v
 (2
0)
 ,
 x 
(1
00
) 
R
E
A
L
 N
C
,
K
C
 
1
0
 
C
 
0
 
L
 
K
C
=
 (
A
C
*
 (
N
C
-
1
 .O
) )
 *
* (
l.
O/
NC
) 
*
N
C
,
/
 (
N
C
-
1
 .O
) 
V
O
U
T
 (
7)
 =
S
L
G
T
*
 (K
C/
SL
CT
)*
 
(N
C/
 (
N
C
-
1
.
0
)
 ) 
- L 
IF
 (
VO
UT
(7
1 
.L
T.
VI
N[
7)
 1 
T
H
E
N
 
SL
CT
-K
C:
:N
C/
VI
N 
(7
) 
&
* 
(
N
C
-
1
.
0
)
 
P
R
I
N
T
 
*, 
T
H
I
C
K
E
N
E
R
 D
E
S
I
G
N
 I
N
F
E
A
S
I
B
L
E
-
-
I
N
F
L
U
E
N
T
 
+
S
O
L
I
D
S
 C
O
N
C
E
N
T
R
A
T
I
O
N
 G
R
E
A
T
E
R
 
T
H
A
N
 U
N
D
E
P
S
L
O
W
 
S
O
L
I
D
S
 
+ 
C
O
N
C
E
N
T
W
,
T
I
O
N
 F
O
R
 
TH
E 
S
O
L
I
D
S
 L
O
M
I
N
C
 S
P
E
C
I
F
I
E
D
.
 -
-
-
-
 
t
 
C
H
A
N
G
E
 S
L
U
D
G
E
 T
H
I
C
K
f
N
I
N
C
 S
FI
IE
ME
, 
OR
 
I
J
S
E
,
S
L
U
C
G
 
tE
 
L
O
A
D
I
N
G
 L
E
S
S
 T
i
 
. S
L
C
T
.
 
K
C
/
S
0
 M
/
H
R
 
S
T
O
P
 
E
N
D
I
F
 
-
V
I
N
 (1
) 
*
A
R
Y
2
 (7
) )
 ,/ 
(
V
O
U
T
 (7
) 
-
M
Y
2
 (7
) 
) 
R
-
V
G
U
T
 (7
) /
V
I
N
 (
7)
 
Z
S
T
A
R
-
A
R
Y
2
 (7
1 
/
V
I
N
 (
7)
 
. 
. 
D
O
 1
0
 1
=
3
,
6
 .
 
1
0
 
C
O
N
T
I
N
U
E
 
L
 
IF
 (
L
P
R
I
N
T
.
 L
T
.
 1)
 
G
O
T
0
 1
0
0
0
 
WR
IT
E(
6.
10
0)
 
S
L
C
T
*
2
4
.
 ,
A
G
,
P
S
R
*
l
.
E
2
 
1
0
0
 
F
O
R
M
A
T
f
/
/
.
2
X
.
'
*
*
G
R
A
V
I
T
Y
 T
H
I
C
K
E
N
E
R
 D
E
S
I
G
N
-
-
'
.
/
/
.
 
nrrr bWN 
000 
++ ++ 
WHHH. 
uuu-unu- -mmm- ,-mmm 
u. WHHII R- 
-N x 11 11 r - I! I! . x. rp. ' . 1. 1- . 4 
r1r.I.I- 
NrN- 
N. x - NN In' .In . . ' In 
In. In .-E !J'!J' - In- W-W N\ - - xn . . . 
- d 'um - mro 1. 1 
rqr 6s Ez NPN A - PI. 
. N R r - In. In 
- In- ?E ?: . cr. 2.- .-. 
F5;F 1- 1 xF a 'A 
rqr 
wrw - X W. ' R 
In. In 
-C"- 
3- -0 $ggmr <<x. - rrou-N WC~Z 
ZZ-H 
mozm 
WWH 11 R- 
x.x;.r ?.- ILII I!>II - - 
ZJZJL2 9e LLk L 
moo 
SLY mro c 
urn 
I1 + In 4\D 
m NY 
$5 i *nz ' In- 
* 
; " 2 
n 
m 
0 '
iU 
. , 
C"!" 
InIn 
-55 
11 
rr 
NN 
. . InIn 
-. . 
FF -1 
wr WW 
. . 
666 NNN 
... 
PC"? - - - 
E25 
!.$ g z*u 
5 - 
6 6 6. NNN 
. . . 
"C"P --- 
22: 
x.m. 
. -. -? 
>>-- 
> 
Inm 
-9 
Y 
EOZ & 
H 
v 
2 F2 -mo 
zg C, I, 4 
- <- GF i- 
MrU 
Ez < Zidz" 
zG=i '5%- 
2 mzm 
Ul- Z 
u4 m- 
%J 
xi mr HW 
9- 
3 F 
m 
u 
w P 
m 
I 
I 
m 
XXX 
3- HPPW 
-I= 
2s* u- rn 
- \ 
3 
5 - 4 
- 
S
e
p
 
1
6
 
1
3
:
2
5
 
1
9
8
4
 
D
E
S
I
G
N
 
P
a
g
e
 
1
7
 
V
O
U
T
 (
I)
 =
V
I
N
 (
I
)
 *
R
 
V
S
I
D
E
 (
I)
 -V
I
N
 (
I)
 *
R
A
T
I
O
 
1
0
 
C
O
N
T
I
N
U
E
 
IF
 (
L
P
R
I
N
T
 . L
T
 .
l
)
 G
O
T
0
 
1
0
0
0
 
W
R
I
T
E
 (
6
,
1
0
0
)
 Y
I
E
L
D
,
A
V
,
P
S
R
*
l
.
E
2
 
F
O
R
M
A
T
 (
/
I
,
 2
X
,
 '
*
*
V
A
C
U
U
M
 F
I
L
T
E
R
 
D
F
S
I
G
N
-
-
'
,
/
/
.
 
t
 
F
I
L
T
E
R
 
Y
I
E
L
D
 
=
 
,
F
1
2
.
5
,
 
K
G
/
S
Q
,
M
/
H
R
,
'
,
/
,
 
+'
 
S
U
R
F
A
C
E
 
A
R
E
A
 
=
'
,
F
1
2
.
5
,
'
 
S
Q
 
M
,
 
,/
, 
+'
 
S
O
L
I
D
S
 
R
E
C
O
V
E
R
Y
 
='
.F
12
.5
.'
 
P
E
R
C
E
N
T
.
'
,
/
)
 
-.
 . 
W
R
I
T
E
 (
6
,
1
1
0
)
 
F
O
R
M
A
T
 (
1
5
X
.
 '
Q 
(
C
U
 M
; 
H
R
)
 ' 
,
4
X
,
 '
S 
(
G
/
C
U
 M
) 
' ,
2
X
,
 '
M
A
(
K
G
/
C
U
 M
) 
' ,
 2X
,
 
+'
MD
 f
K
G
/
C
U
 M
I 
' .
2
X
.
 '
M
I
 f
K
G
/
N
 M
1 
' .
2X
. 
FO
R 
MA
^ 
2
~
,
'
~
~
~
~
~
~
~
'
;
3
~
,
~
1
2
~
5
,
5
(
l
X
,
F
1
2
.
5
)
 
,
l
X
,
F
1
3
.
5
)
 
F
O
R
M
A
T
 
2X
. 
'
U
N
D
E
R
F
L
O
W
'
 ,
2
X
,
 F
1
2
.
5
.
5
 
(
l
X
.
F
l
2
.
5
)
 ,
 l
X
,
 F
1
3
.
5
)
 
F
O
R
M
A
T
 I 2X. 
'
S
U
P
E
R
N
A
T
A
N
T
'
,
F
1
2
.
5
,
5
(
l
X
,
F
1
2
.
5
)
 ,
l
X
,
F
1
3
.
5
,
/
/
/
/
/
)
 
L
 
IF
 
B
l
.
N
E
.
1
.
O
)
T
H
E
N
 
I
F
[
B
3
.
N
E
.
l
.
)
 
T
H
E
N
 
X
 (
5
8
)
 =
V
S
I
D
E
 (
1
)
 
1
0
3
0
 
R
E
T
U
R
N
 
E
M
)
 
- L 
S
U
B
R
O
U
T
I
N
E
 
B
R
P
A
M
 (
F.
A.
B)
 
R
E
A
L
 
A
 (
7
)
 ,
 B 
(7
) 
C
 - 
D
O
 
1
 
I
-
2
,
7
 
B
 (
I
)
 =A
 (
I
)
 
1
 
CO
Ii
TI
NU
E 
C
 
R
E
T
U
R
N
 
E
I
D
 
C
 
S
e
p
 
1
6
 
1
3
:
2
5
 
1
9
8
4
 
D
E
S
I
G
N
 
P
a
g
e
 
1
8
 
C
 
C
 
S
U
B
R
O
U
T
I
N
E
 
M
B
 (
A
,
 B)
 
R
E
A
L
,
 A
 (
7
)
 . B (
7
)
 
c
 - 
D
=
A
 (
1
)
 +
B
 (
1)
 
D
O
 
1
 
I
=
2
,
6
 
A
(
1
)
 =
 (
A
(
1
)
 *
A
(
I
)
 +
B
(
1
)
 *
B
 (
I)
 ) 
/D
 
1
 
C
O
N
T
I
N
U
E
 
(3
) 
+
A
 (
4
)
 +
A
 (
5
)
 +
A
(
6
)
 
rn
 
L
 
R
E
T
U
R
N
 
E
N
D
 
S
U
B
R
O
U
T
I
N
E
 
C
O
P
Y
 (
A
,
 B)
 
R
E
A
L
 A
(
7
)
 .
B(
7)
 
C
 
D
O
 
1
 
I
=
1
,
7
 
B
(
1
)
 =
A
(
I
)
 
1
 
C
O
N
T
I
N
U
E
 
C
 
R
E
T
U
R
N
 
E
N
D
 
C
 
S
W
R
O
U
T
I
N
E
 
O
B
J
 
C
O
M
M
O
N
/
P
A
R
V
A
R
/
'
U
,
V
,
X
 
C
O
M
M
c
j
N
/
C
o
N
T
R
L
/
L
P
R
I
N
T
,
B
l
,
B
2
,
B
3
 
R
E
A
L
 
U
 (
1
0
0
)
 ,
 V 
(
2
0
)
 , X
 (
1
0
0
)
 
R
E
A
L
 
EE
IE
TB
EN
 
rn
 
L
 
W
R
I
T
E
 (
9.
81
) 
8
1
 
FO
RM
AT
(/
//
//
,2
X,
'S
UM
MA
RY
 
O
F
 
C
O
S
T
 E
S
T
I
M
A
T
E
S
:
'
,
/
/
/
)
 
W
R
I
T
E
 (
9.
98
) 
9
8
 
~
0
R
M
A
f
(
1
2
6
.
(
'
*
'
)
 ,
//
) 
W
R
I
T
E
 (
9
,
1
0
0
0
0
)
 
1
0
0
0
0
 F
O
R
M
A
T
 (
3
7
X
.
 '
C
A
P
I
T
A
L
'
,
 I
O
X
,
 '
O
P
E
R
A
T
I
O
N
'
,
 8
X.
 '
M
A
I
N
T
E
W
2
J
C
E
'
.
 
1
 
9X
,'
MA
TE
RI
AL
a.
13
X,
'P
OW
ER
'I
 
.
 
.
 
W
R
I
T
E
 (
9
,
1
0
0
0
1
)
 
1
0
0
0
1
 F
O
R
M
A
T
 (3
4.
7.
. 
'
D
O
L
L
A
R
S
/
Y
E
A
R
'
.
 5
X
,
 4
 (
'
D
O
L
m
S
/
Y
E
A
R
1
,
 7X
),
 /;) 
W
R
I
T
E
 (
9.
98
) 
- L 
I
F
(
B
l
.
N
E
.
1
.
0
)
 
T
H
E
N
 
A
P
S
T
=
l
.
 E
2
*
X
 (
9
)
 
P
S
F
=
X
 (
1
2
)
 
nn nnn nnn nnn 
mmnmonm 
ssmrm"Ir 
mmmnm 
-l-lmmmmm 
nl"I'd 'dm 
I1 11. 
r, !J's m a. 
P 4P 
0, 6g 
g ?P *- 
I1 . I1 . 11 11 11 LP UP.. N 
ou OHNW4 0' WW4 
mm . r4wa .JW LnLn *. 
*P m*m* 
0. . m mm In- -m Ln 
S
o
p
 
1
6
 
1
3
:
2
5
 
1
9
8
4
 
D
E
S
I
G
N
 
P
a
g
e
 2
1
 
L
 
C
C
S
A
N
D
=
2
3
2
3
.
*
V
S
A
N
D
*
*
.
5
9
 
IF
 (
V
S
A
N
D
 . G
E
 .
5
6
7
8
.
 ) 
T
H
E
N
 
C
O
S
A
N
D
=
1
.
2
9
*
V
S
A
N
D
*
*
.
8
3
 
E
L
S
E
 
I
F
(
V
S
A
N
D
.
G
E
.
1
9
6
8
.
)
 
TH
EN
 
C
O
S
A
N
D
=
1
4
.
*
V
S
A
N
D
*
*
.
5
5
 
E
L
S
E
 
C
O
S
A
t
0
=
1
9
2
.
 '
VS
AN
D*
' 
.
2
 
O
4
S
A
N
D
=
1
1
3
.
 ''
.'
SA
ND
**
. 
21
 
E
N
D
I
F
 
I
F
 (
V
S
A
N
D
.
G
E
.
 2
8
3
9
.
)
 
T
K
E
N
 
C
S
S
A
N
D
=
1
4
.
4
*
V
S
A
N
D
*
*
.
6
6
 
E
L
S
E
 
C
S
S
A
N
D
=
1
4
2
.
*
V
S
A
N
D
'
*
.
3
7
 
'
E
N
D
I
F
 
- L C 
V
A
C
U
U
M
 
F
I
L
T
E
R
:
 
EL
SE
 
- 
I
F
 (
Q
1
6
X
1
6
 .
G
E
 .
l
o
3
 .)
 
TH
EN
 
C?
-l
VF
=2
O.
'Q
16
X1
6*
*.
63
 
E
L
S
E
 
- 
E
N
D
I
F
 
E
N
D
I
F
 
C
 c 
R
E
C
I
R
C
U
L
A
T
I
O
N
 
P
U
M
P
I
N
G
:
 
L
 
C
C
R
P
=
2
7
7
9
.
*
Q
C
Y
C
L
E
*
*
.
5
3
 
C
O
W
=
.
 3
3
3
*
Q
C
Y
C
L
E
 
W
=
.
 
2
3
7
5
*
Q
C
Y
C
L
E
 
I
F
 (
Q
C
Y
C
L
E
 . L
T
 .
1
5
8
.
 ) 
E
f
E
N
 
C
S
W
=
3
0
0
.
 
E
L
S
E
 
-
-
-
-
 
I
F
(
Q
C
Y
C
L
E
.
L
T
.
6
3
1
.
)
 
T
H
E
N
 
C
S
P
.
P
=
4
0
.
5
7
*
Q
C
Y
C
L
E
'
*
.
5
2
 
- 
E
L
S
E
 
I
F
 (
Q
C
Y
C
L
E
 . L
T
 .
1
5
8
0
.
 ) 
T
H
E
N
 
C
S
W
=
5
.
9
7
*
Q
C
Y
C
L
E
*
*
.
8
7
 
E
L
S
E
 
C
S
R
P
=
2
.
5
4
0
'
Q
C
Y
C
L
E
 
E
h
D
I
F
 
E
F
D
I
F
 
S
e
p
 
1
6
 
1
3
:
2
5
 
1
9
8
4
 
D
E
S
I
G
N
 
P
a
g
e
 
2
2
 
L
 
T
O
~
=
C
C
P
S
T
+
C
C
P
S
P
+
C
C
A
T
t
C
(
3
D
A
A
+
C
C
F
S
T
+
C
C
K
S
P
~
C
C
R
P
 
t
 
tC
C
G
T
t~
A
N
D
tC
C
S
A
N
D
tC
C
V
F
tC
C
S
D
 
t
 
+
C
O
P
S
T
+
~
S
T
~
U
)
P
S
P
+
W
S
P
~
C
C
I
D
A
A
+
U
~
~
+
~
F
S
T
 
t
 
+
O
F
S
T
+
 C
O
R
S
P
t
~
S
P
t
C
O
G
T
t
 
C
M
C
T 
t
 
+
C
O
P
A
N
D
+
 W
A
N
D
+
 CO
SE
UT
D 
tC
2:
SA
.m
 
t
 
tC
O
V
F
tC
M
V
F
tC
O
M
S
D
tC
O
B
P
t~
P
 
t
 
t
C
S
P
S
T
t
C
S
P
S
P
t
C
S
F
S
T
+
C
S
R
S
P
+
C
S
S
T
+
C
S
P
F
~
J
D
+
C
S
S
A
N
D
+
C
S
W
 
t
 
t
c
s
w
 
S
s
p
 
1
6
 1
3
:
2
5
 
1
9
8
4
 
D
E
S
I
G
N
 P
a
g
e
 2
3
 
.
,
-
-
.
-
 
-
-
~
 
~
~
 
.
-
 
j 
I 
W
R
I
T
E
 
9
,
1
0
0
9
 C
C
V
F
,
C
C
V
F
,
U
~
'
+
~
.
C
S
V
E
.
 . 
W
R
I
T
E
 
9
,
1
0
1
3
 C
C
R
P
,
C
3
I
i
P
,
~
G
P
,
C
S
R
P
,
C
F
W
 
W
R
I
T
E
 
9
,
1
0
1
0
 C
C
S
D
,
 C
O
M
S
D
 
W
R
I
T
E
 
9
,
1
0
1
1
 N
E
T
B
E
N
 
W
R
I
T
E
 
9
.
9
8
1
 
F
O
R
M
A
T
 5
X
,
'
P
R
I
W
Y
 S
E
T
T
L
I
N
G
 T
A
N
K
'
,
l
O
X
.
F
B
.
O
,
3
 
1
0
X
.
F
B
.
0
 
/ 
F
O
R
M
A
T
 ISX. 
'
P
R
I
W
Y
 S
L
U
D
G
E
 P
U
M
P
I
N
G
1
 ,
9
X
.
F
8
.
0
,
4
l
l
O
X
,
F
8
.
0
]
 :/I 
-
 
-
 
-
-
 
F
O
R
M
A
T
 1
5x
1 
'A
ER
AT
IO
ti
 T
A
N
K
'
 ,
1
8
X
,
 E
8
 .
O
,
 /)
 
5
X
.
 '
D
I
F
F
U
S
E
D
 A
IR
 
M
R
A
T
I
O
N
'
 ,
 f
O
X
.
F
B
.
O
.
2
 (
10
X.
FB
 .
O)
 ,/
) 
5
X
.
 ' S
E
C
O
h
i
A
R
Y
 S
E
T
T
L
I
N
G
 T
A
N
K
 
,
8
X
,
F
8
 .
0
,
3
 (
1
0
X
,
F
8
 .O
) 
, 
) 
5X
. 
*
R
E
C
Y
C
L
E
 S
L
U
D
G
E
 P
U
H
P
I
N
G
'
,
 9
X
.
E
B
.
O
.
I
 (
l
O
X
,
E
B
.
O
)
,
 /(
 
5x
. 
'
c
m
v
~
n
 
T
H
I
C
K
E
N
E
R
 
. ~
~
x
,
F
B
.
o
,
 
3 
(
~
o
x
,
F
~
.
o
)
 
.I
)
 
S
X
,
'
P
R
I
M
A
R
Y
 
A
N
A
E
R
O
B
I
C
 D
I
G
E
S
T
E
R
'
,
S
X
.
F
B
.
O
,
 
+
3
(
1
0
X
,
F
B
.
O
)
 ,/
) 
FO
RM
AT
(S
X.
'S
EC
ON
DA
il
Y 
A
N
A
E
R
O
B
I
C
 D
I
G
E
S
T
E
R
'
,
 
-
.
 
+
~
x
,
F
~
.
o
,
~
(
~
o
x
,
F
~
.
o
)
,
 
')
 
I
L
T
E
R
'
,
l
~
X
.
F
8
.
~
.
3
(
l
O
X
,
F
B
.
O
)
~
/
)
 
S
T
R
m
 P
U
M
P
I
N
G
 
.
9
X
,
 
U
D
G
E
 D
I
S
P
O
S
A
L
'
 ,
l
O
X
,
F
8
.
O
.
l
O
X
,
F
8
.
O
.
/
)
 
OF
 
tE
T
 E
N
E
R
G
Y
 F
R
O
M
 E
T
Ii
A
N
E
 
t
=
 
' 
F
8
.
O
.
'
 D
O
L
L
A
R
 
+s
,&
R.
 
' 
/
j
)
 
1
0
1
2
 
F
O
F
T
(
/
/
i
2
0
X
,
'
T
O
T
A
L
 S
Y
S
T
E
M
 C
O
S
T
 
+
=
 
,
F
8
.
0
,
 
DO
LL
AR
S/
-.
 
')
 
C
 
R
E
T
U
R
N
 
EN
D 
APPENDIX D 
GRG MODEL FOR BASE SYSTEM DESIGN OPTIMIZATION 
T h e  GRG optimization model for the  base treatment system (Figure 2.1) has 64 vari- 
ables and 59 functions (constraints plus objective function). The  file containing all functions 
in the  model is listed as GCObIP8 on the followiug pages. A list of the variables in the 
model is provided in Table D.1. The  reader is refered to  Chapter 2 for the notation used in 
this table. 
Table D . l  - Summary of Model Variables : Base System 
Varisble Index Unit Meaning 
1 m3/min Q 1/60 
2 d m 3  1 
3 d m 3  M4 1 
4 d m 3  Md 1 
5 g/m3 M, 1 
6 .  g/m3 4 1 
7 d m 3  Mt 1 
8 m3/hr P 
9 1 OOmZ Ap/lOO 
10 -- Mt 3 J 4  1 
11 m3/min QJ60 
12 m3/hr Q s 
13 days 0 c  
14 days 0 
15 1000m3 v/lO00 
16 kg/m3 nia 
17 d l " 3  S3 
18 -- hi, 3 / l i 1 4  3 
10 -- 1Cl13/1\la3 
20 r 
2 1 -- 100 w 
22 -- r S w  
23 . d m 3  hi4 4 
24 kg/m3 hi, 6 
25 100rn2 A1/lOO 
26 g/m3 s 
27 m3/sec Q J G O  
Table D.1 (continued) 
Vnrinblc Index Unit L,l.lrariino, 
rn3/hr 
rn3/hr 
kg/m3 
kg/m3 
kg/rn3 
-- 
"C 
days 
1000rn3 
day-' 
106kH'hr/year 
kg/rn3 
kg/m3 
rn3/hr 
1 0 ~ k l V h t / ~ e a r  
kg/rn2/hr 
100rn' 
rn3/hr 
rn3/hr 
kg/rn3 
-- 
T h e  constraints in the  GRG model and their corresponding equation numbers (see 
Chap,tcr 2 )  are summarized in Table D.2. It is convenient to  define some "secondary 
vsriables" in constructing the GRG model to  avoid repetitive computation. -4s shown in 
Tablc D.2, several secondary variables (variable No.23, 38, 39, 40, 46, :ind 55) are  defined by 
the constraints which are  not described bu t  are  derived from design equations presented in 
Chapter 2 .  
Table D.2 - Description of the  Constraints in the GRG Model 
Constraint  No. in GRG Model Corresponding Equation No. from Chapter 2 
definition of X(29)' 
2.42 
2.44 
2.45 
2.11 
definition of ~ ( 3 9 ) '  
definition of X(.IO)' 
definition of ~ ( 3 8 ) '  
2.48 
definition of S(.IB)* 
2.58 
2.49 
2.52 
2.54 - 2.56 
2.53 & 2.57 
2.60 
2.59 
2.58 
2.61 
Table D.2 (continued) 
~ o n s t r m \ ! o .  in CiRG kyodel Correspondiri~ Eq~lntion No. from i:hnpcer 2 
40 definition of ~ ( 5 5 ) .  
4 1 2.67 
42 5.68 
43 2.64 & 2.65 
4 4 2.66 
45 2.7 1 
46 2.72 
47 2.73 
48 5.74 
49 2.75 
50 2.76 
5 1 2.77 
52 2.40 
53 2.38 
54 2.39 
55 2.10 
5 6 5.59 
57 2.30 
58 2.56 
: S denotes the variables in the GRG model. See Table D.1. 
The  initial solution to  the model and the control parameters for the  optimizaticn (see 
Section 3.2.1) are specified in another input da ta  file. .4n example is of this file is also listed 
in this Appenuis under the  name GRGDXTA. The  user's manual for GRG2 should be con- 
sulted for the  details. 
A
u
g
 
2
2
 1
6
:
1
4
 
1
9
8
4
 
C
C
O
M
P
8
 P
a
g
e
 1
 
P
R
O
G
R
A
M
 
H
A
T
N
(
I
N
P
U
T
,
P
A
R
,
 O
U
T
P
U
T
,
L
A
S
T
V
A
R
,
 T
A
P
E
7
,
 W
E
B
,
 
+ 
T
A
P
E
5
=
I
N
P
U
T
,
 T
A
P
E
6
=
O
U
T
P
U
T
,
 T
A
P
E
4
=
L
A
S
T
V
A
R
,
 
+ 
T
A
P
E
9
=
P
A
R
)
 
D
I
M
E
N
S
I
O
N
 
Z
f
2
O
O
O
O
I
 
C
O
r
n
O
N
 
Z
 
D
A
T
A
 N
C
O
R
E
/
2
0
0
0
0
/
 
C
A
L
L
 
C
R
G
 (
Z,
NC
OR
E)
 
E
N
D
 
L
 
C
 
S
U
B
R
O
U
T
I
N
E
 C
C
O
M
P
:
 
C
 
S
U
B
R
O
U
T
I
N
E
 G
C
O
M
P
 I
G.
 XI
 
5
0
 
E
P
B
N
D
=
l
.
E
-
6
 
D
O
 
1
0
0
 I
=
1
,
6
4
 
IF
 (
X 
(I
) 
. L
T
 . E
P
B
N
D
)
 
T
H
E
N
 
D
O
 
2
0
0
 5
~
1
.
5
9
 
C
(
J
)
 =
1
.
~
3
0
.
 
2
0
0
 
C
O
N
T
I
N
U
E
 
R
E
T
U
R
N
 
E
N
D
I
F
 
1
0
0
 
C
O
N
T
I
N
U
E
 
L
 
C
 
P
R
I
M
A
R
Y
 S
E
T
T
L
I
N
G
 
TA
N
K
 D
E
S
I
G
X
:
 
- L C 
A
C
T
I
V
A
T
E
D
 
S
L
U
D
G
E
 D
E
S
I
S
N
:
 
C
 
*X
(2
3)
+ 
+ + 
X(
10
))
 
A
u
g
 
22
 
1
6
:
1
4
 
1
9
8
4
 
C
C
O
M
P
8
 P
a
g
e
 2
 
G
 
6
 
=
X
 
1
4
 
- 
(
l
.
E
3
*
X
(
1
5
)
)
/
(
6
O
.
*
X
(
1
1
)
)
/
2
4
.
 
G
 1
71
 =
X
 1
17
1 
-
U
 (
2
4
)
 * (
1.
 +
U
 (
2
6
)
 *
X
 (
1
3
)
 ) /
 (
X
 (
1
3
)
 * (
U 
(
2
3
)
 *
U
 (2
5)
 
+ 
-
U
(
2
6
)
)
 -
1.
) 
G(
8)
 =
X
 (
1
4
)
 
(
l
.
E
3
*
X
(
1
6
)
 ) 
/X
 (
13
) -
U
 (
2
3
)
 *
X
(
2
6
)
 :
 (1
.
 tU
(2
6)
 
t
 
X
(
1
3
)
 
+ 
+
U
 (
80
) 
*
U
 (
2
8
1
 *
V
 (
9)
 
+ 
(
1
.
 E
3
*
X
 (
1
5
)
 
(
l
.
E
3
*
X
(
1
6
)
 ) 
,3
: 
(
1
3
)
 
G
 (
16
) =
X
 (
26
) 
+
X
(
1
7
1
 -
X
 (
2)
 -
V
 (8
) 
*
X
 (
4)
 *
X
 (
10
) 
C
 
C
 
S
L
U
D
G
E
 M
I
X
I
N
G
:
 
- c G
R
A
V
I
T
Y
 T
H
I
C
K
E
N
E
R
 
D
E
S
I
G
N
:
 
C
 
C
 
C
 
P
R
I
M
A
R
Y
 D
I
G
E
S
T
E
R
 
D
E
S
I
G
N
:
 
C
 
G
 (
29
) =
X
 (
44
) 
-
U
(
5
3
)
 *
E
X
P
 (
A
L
O
G
 (
1
0
 .)
 *
l
o
.
 /
3
.
 * (
U
 (
54
) -
 
+ + + 
C
 
C
 
S
E
C
O
N
D
A
R
Y
 D
I
G
E
S
T
E
R
 
D
E
S
I
G
N
:
 
C
 
noon -PPPP 
PWPJP 
-
- - Vlm Vl aw N 
-- I1 I/ ,I XXXX 
-mmNm WNWI- -
I I *I 
CCX- 
-r 
NI-N. 
04OM 
-N 
* 9- * 
mc x 
F; -z -m P 
cy : NX * 
b-- X -01 - 
I4 It 11 11 
XXXX 
-mmmm 4mww -
- - - *I- mmn. 
oomm . . OW 
A
u
g
 
2
2
 
1
6
:
 1
4
 1
9
8
4
 
C
C
O
M
P
8
 
P
a
g
e
 5
 
C
 
C
 R
E
C
I
R
C
U
L
A
T
I
O
N
 
P
U
M
P
I
N
G
:
 
-.
 
I
F
(
Q
c
I
c
L
E
.
L
?
.
~
~
~
.
)
 
T
H
E
N
 
c
s
R
P
=
3
0
0
.
 
E
L
S
E
 
--
- 
-
 
I
F
 (
Q
C
Y
C
L
E
.
L
T
.
6
3
1
.
)
 
T
H
E
N
 
C
S
R
P
=
4
0
.
5
7
*
Q
C
Y
C
L
E
*
*
.
5
2
 
- 
E
L
S
E
 
I
F
 (
Q
C
I
C
L
E
 . L
T
.
 1
5
8
0
.
 ) 
T
H
E
N
 
C
S
R
P
=
5
.
9
7
*
O
C
Y
C
L
E
*
*
.
8
7
 
I.
 
C4
%T
=8
24
. 
1
.
 E2
" 
(
3
4
)
 ) 
".
 
7
7
 
I
F
(
(
l
.
E
2
*
X
[
3
4
)
)
 .
G
E
.
2
7
9
.
)
 T
H
E
N
 
C
O
G
T
=
1
7
.
1
5
*
 f
l
.
E
2
*
X
1
3
4
~
1
*
*
0
.
6
 
. 
..
 
E
L
S
E
 
C
O
G
T
=
9
2
.
4
5
*
(
1
.
E
2
*
X
(
3
4
 )
*
*
.
3
 
C?
-I
GT
-1
06
. 
(
1
 E2
.X
 
(3
%)
 1 **
 .I
4
 
E
N
D
I
F
 
C
S
G
T
=
8
.
6
2
*
 (
1
 .
E
Z
*
X
(
3
4
)
)
t
*
.
 7
6
 
C
 c 
P
R
I
M
A
R
Y
 D
I
G
E
S
T
E
R
:
 
- L 
C
B
A
N
D
z
2
3
2
3
.
 
(
l
.
E
3
*
X
(
4
3
)
 
**
 .5
9
 
I
F
(
(
l
E
3
*
X
(
4
3
)
)
 
.
G
E
.
1
6
7
8
1
 T
H
E
N
 
C
O
P
A
N
D
=
1
.
2
9
*
 1
1.
E3
'X
 
14
3)
 1 
*'
.E
l3
 
C
M
P
A
N
D
=
.
8
3
*
 (
i
.
~
3
*
~
(
4
3
)
 
I;*
 .
8
2
 
E
L
S
E
 
I
F
(
(
l
.
E
3
*
X
(
4
3
)
)
 .
G
E
.
1
9
6
8
.
)
 T
H
E
N
 
C
O
P
A
N
D
=
1
4
.
*
 
1
 
E
3
*
X
 4
3
 
W
A
N
D
-
8
.
5
*
 !l
:E
3*
X1
4;
! 
1 ::
:;;
 
,
 
..
 
E
L
S
E
 
C
G
P
A
N
D
=
1
9
2
.
*
 
1
 
E
3
*
X
 4
3
 
*' 
2
 
C
M
P
A
N
D
=
1
1
3
.
 * [
l
:
E
3
*
X
[
4
3
1
{
 *
*
:
2
1
 
E
N
D
I
F
 
E
N
D
I
F
 
I
F
(
(
l
.
E
3
*
X
(
4
3
)
)
 .
G
E
.
2
8
3
9
.
)
 T
H
E
N
 
C
S
P
A
N
D
=
1
4
.
4
*
 (
1
.
 E
3
*
X
(
4
3
)
 )
 * 
* .
6
6
 
E
L
S
E
 
~
~
~
%
D
=
1
1
1
1
4
2
.
 
(l
.E
3'
X(
43
))
 
**
 .3
7
 
E
N
D
I
F
 
C
 
C
 
S
E
C
O
N
D
A
R
Y
 
D
I
G
E
S
T
E
R
:
 
- 
A
u
g
 
2
2
 
1
6
:
1
4
 
1
9
8
4
 
C
C
O
M
P
8
 P
a
g
e
 
6
 
c
C
s
A
N
D
=
2
3
2
3
.
*
v
s
A
N
D
*
*
.
5
9
 
I
F
 (
V
S
A
N
D
.
 G
E
 ,
5
6
7
8
.
 ) 
T
H
E
N
 
C
O
S
A
N
D
=
l
.
 2
9
*
V
S
A
N
D
*
*
 .
8
3
 
E
L
S
E
 
I
F
 (
V
S
A
N
D
.
G
E
.
1
9
6
8
.
)
 T
H
E
N
 
C
O
s
A
N
D
=
1
4
.
*
v
s
A
N
D
*
*
.
5
5
 
C
M
S
A
N
D
=
8
.
5
*
V
S
A
N
D
*
 
.
5
5
 
E
L
S
E
 
EN
DI
F 
I
F
(
V
S
A
N
D
.
G
E
.
2
8
3
9
.
)
 
T
H
E
N
 
C
S
S
A
N
D
=
1
4
.
4
*
V
S
A
N
D
*
*
.
6
6
 
E
L
S
E
 
C
S
S
A
N
D
=
1
4
2
.
*
V
S
A
N
D
*
*
.
3
7
 
E
N
D
I
F
 
C
 
C
 
V
A
C
U
U
M
 
F
I
L
T
E
R
 :
 
- L 
Q
1
6
X
1
6
=
X
 (
5
9
)
 *
X
 (
6
0
)
 
C
C
V
F
=
2
9
1
8
0
.
 *
X
(
5
7
)
 *
*
.
7
1
 
C
S
V
F
=
2
3
0
.
*
Q
1
6
X
1
6
*
*
.
7
1
+
1
8
2
.
*
Q
1
6
X
1
6
*
*
.
8
6
 
C
O
V
F
=
1
0
7
.
5
5
*
Q
1
6
X
1
6
*
*
.
5
8
 
I
F
 (
Q
1
6
X
1
6
.
 G
E
 ,
5
1
9
.
 ) 
T
H
E
N
 
E
-
=
5
.
5
7
i
Q
1
6
X
1
6
*
*
.
8
4
 
I
F
 (
Q
1
6
X
1
6
.
 G
E
 .
1
0
3
.
 ) 
T
H
E
N
 
C
M
V
F
=
2
0
.
*
Q
1
6
X
1
6
*
*
.
6
3
 
E
L
S
E
 
+
 
t
u
(
1
j
 *
l 
+
 
3
.
6
~
3
/
1
.
'
0
$
5
~
~
(
4
9
)
 ' 
' 
' 
' 
' 
* 
' 
R
E
T
U
R
N
 
E
N
D
 
- L C S
U
B
R
O
U
T
I
N
E
 R
E
P
O
R
T
 
n
 
L
 
S
U
E
R
O
U
T
I
N
E
 
R
E
P
O
R
T
 (
G.
X.
H.
N.
 
C
O
N
,
 V
A
R
,
 X
O
)
 
D
I
M
E
N
S
I
O
N
 
X
 (
N
)
 .G
 (
M
)
 ,
C
O
N
 (
M
)
 ,
V
A
R
 (
N
)
 ,
 xo
 (
N)
 
C
O
M
M
O
N
/
I
N
I
T
B
K
,
/
I
N
I
T
 
IF
 (
I
N
I
T
.
 EQ
 .
I)
 R
E
T
U
R
N
 
W
R
I
T
E
 (
4.
10
) 
(
I
,
X
(
I
)
 ,
 I=
l
,
N
)
 
1
0
 
F
O
R
M
A
T
(
3
X
.
 1
3
,
4
X
,
E
2
0
.
 1
0
)
 
R
E
T
U
R
N
 
A
u
g
 
29
 
1
4
:
5
4
 1
9
8
4
 
C
R
G
D
A
T
A
 
P
a
g
a
 
1
 
A
u
g
 
2
9
 
1
4
:
5
4
 
1
9
8
4
 
C
R
O
A
T
A
 P
a
g
e
 
2
 
6
4
 
5
9
 
N
A
M
E 
E
X
A
M
P
L
E
 
D
A
T
A
 P
I
L
E
 
F
O
R
 
G
R
C
2
 
R
O
U
 
1
.
 O
G
C
O
E
 - 1
 
E
N
D
 
IN
1 
S
E
P
A
R
A
T
E
 
1
 
6
2
 
.
5
2
9
4
4
5
7
5
7
6
E
+
0
2
 
6
3
 
.
2
5
7
4
0
4
1
6
9
2
E
1
0
1
 
6
4
 
.
7
7
3
6
8
0
9
8
4
4
E
1
0
0
 
E
N
D
 
R
O
W
 
E
 
1
 
5
5
 
L
 
5
6
 
5
8
 
E
N
D
 
P
R
I
 
I
P
R
 
1
 
E
N
D
 
L
I
M
 
N
S
T
 
3
 
E
N
D
 
E
P
S
 
E
P
N
 
1
.
O
O
O
O
E
-
4
 
E
P
I
 
1
.
0
0
0
0
E
-
2
 
E
P
T
 
--
- 
1
.
0
0
0
0
E
 -
4
 
M
E
T
 
F
D
C
 
:
:
A
 
M
I
N
 
E
N
D
 
G
O
 
217 
AFPENDIX E 
IGGP MODEL FOR BASE SYSTEIi4 DESIGN 
T h e  IGGP model contains 62 variables, 57 constraints, and 90 parameters. Variables 
No. 1 to 60 are defined the  same as in the  GRG model (Table D. l  in Appendix D). Variable 
No. 61 is the  total  recycle stream Bowrate in m3/hr, or 
X(61) = (21, + Ql3  + Q15 
Variable No. 62 is the  primary sludge concentration in 100 kg/rn3 (.41t$100). 
Parameters in the G G P  model are the same as tha t  in the GRG model. Exceptions are 
listed in Table E.1. 
Table E.l - Parameters tha t  are Unique in the IGGP Model 
Parameter  Index Meaning in G G P  Model 
1 C, 
(See equation (2.2.5)) 
1440 y a ( P  C, -DO)(OTE)p,,, 
51 - 54 Paranieters in equation (3.7) 
81 657.3(*)l~ (See equation (2.62)) 
CLr, I ,  
82 Influent flowrate to plant ,  m3/hr 
83 Inliucnt soluble BOD,, g/m3 
84 Influent active biomass, f i lm9 
85 Influent volatile degradable solids, g /m2 
86 Influent volatile inert solids, g/nl" 
87 Influent fixed solids, g/m3 
88 BOD$ s tandard ,  g/m3 
89 Total  suspended solids standard,  g/m3 
90 hlass fraction of the primary sludqe, f, 
If the value of f ,  is changed, then parameter No. 46 in the C G P  model, which 
corresponds to this f , ,  needs to be calculated using equations (2.38) a n J  (2.39) for at and n,. 
Exponents in constraint No. 25 which represents thickening of the combined primary and 
activated sludge aiso have to be modified since this t-qurt~on is: 
The listing of the IGGP model is on the next few pages. 
A
u
g
 
2
3
 
2
2
:
 1
9
 
1
9
8
4
 
S
U
M
 P
a
g
a
 1
 
A
u
g
 
2
3
 
2
2
:
1
9
 
1
9
8
4
 
S
U
M
 P
a
g
e
 2
 
I
 G
C
P
 
I
N
T
E
R
A
C
T
I
V
E
 
G
E
N
E
R
A
L
I
Z
E
D
 
G
E
O
M
E
T
R
I
C
 
P
R
O
G
R
A
M
M
I
N
G
 
84
,'
08
/ 
0
4
.
 
1
0
.
3
3
.
0
8
.
 
S
E
S
S
I
O
N
 
T
I
T
L
E
 
: 
I
G
G
P
 M
O
D
E
L
 
F
O
R
 W
T
E
W
A
T
E
R
 
T
R
E
A
R
i
E
N
T
 
P
L
A
N
T
 D
E
S
I
G
N
 
7
)
 :
 E
Q
U
A
L
I
T
Y
-
 -
A
S
3
 
G(
 
+ 
1
.
P
2
3
P
2
4
-
-
1
.
P
2
5
X
1
3
X
l
7
 
- 
1
.
P
2
4
-
-
 1
 .
P
2
6
X
1
3
X
1
7
 
- 
1
.
P
2
4
-
-
1
.
X
1
7
 -
 
1
.
 
- 
1
.
P
2
6
X
1
3
 
-C
O
M
M
A
M
)-
->
 
R
E
P
D
 
R
E
A
D
I
N
G
 
D
A
T
A
 
F
I
L
E
:
 
U
P
D
A
T
E
D
 
M
O
D
E
L
 
-C
O
M
M
A
N
D
--
, 
C
H
E
 
O
B
J
 
-c
G
M
M
A
M
)-
->
 
L
 
A
L
L
 
G(
 
9
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
A
S
5
 
+ 
1
.
P
2
7
 
+ 
1
.
?
2
6
-
-
1
.
X
1
3
-
-
l
.
X
1
8
 
+ 
.
1
E
-
0
2
P
2
6
-
-
 
l
.
X
3
X
l
O
X
1
4
^
-
1
.
X
1
6
-
-
 l
.X
l.
8 
- 
1
.
 
- 
O
B
J
E
C
T
I
V
E
 :
 d 
+ 
2
0
5
7
1
.
P
l
P
2
'
-
1
.
P
3
X
9
-
 
.
7
7
 
+ 
36
8.
P4
X9
' 
.3
 
+ 
' 
2
0
2
.
P
4
x
9
-
 
.
1
4
 
r 
2
8
5
.
4
P
2
-
-
l
.
P
3
X
3
'
 
.
7
6
 
G
 (
 
1
0
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
A
S
6
 
+ 
, 
1
.
 
- 
l
.
X
3
X
6
^
-
1
.
X
1
9
 
- 
1
0
0
0
.X
6
--
1
.X
1
0
--
1
.X
1
3
"-
1
.X
1
4
X
1
6
X
1
9
 
1
1
)
 :
 
E
Q
U
A
L
I
T
Y
-
-
A
S
7
 
G
(
+
 
1
.
 
+
 
1
.
X
2
0
 
- 
1
.
X
1
3
-
-
1
.
X
1
4
 
- 
h
) 
. l
E
-
O
2
X
3
X
l
O
X
1
6
-
-
 1.
 
- 
1
 
.
X
1
6
-
-
 1
 .
X
2
S
X
2
4
 
t-' \D
 
G(
 
12
) 
: 
E
Q
U
A
L
I
T
Y
-
 -
A
S
8
 
+ 
1
.
 
+ 
1
.
X
1
8
 
+ 
1
.
X
1
9
 
- 
1.
24
P2
2X
ll
'-
 
.
4
2
1
1
0
6
X
2
2
-
-
.
4
2
1
1
0
6
X
2
4
 
-1
.X
25
' 
,
4
2
1
1
0
6
 
G(
 
1
3
)
 :
 E
Q
U
A
L
I
T
Y
-
 -
A
S
9
 
+ 
1
.
 
- 
1
.
X
2
O
X
2
2
-
-
1
.
 
- 
.
1
E
-
O
l
X
2
1
X
2
2
-
-
1
.
 
G
I
 
14
1 
: 
E
O
U
A
L
I
T
Y
-
-
A
S
1
0
 
-C
O
M
M
A
N
D
--
.>
 
C
H
E
 A
L
L
 
G
(
 
1)
 :
 
E
Q
U
A
L
I
T
Y
-
-
P
S
T
l
 
t
 
1
.
 
- 
1
.
P
l
l
X
7
-
 
.2
7X
8'
-.
22
 
- 
l
.
X
l
0
 
G
 (
 
2)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
P
S
T
2
 
+ 
1
.
 
- 
.6
X8
'-
1 
X
9
-
-
1
.
X
l
l
 
3)
 :
 
E
Q
U
A
L
I
T
f
 - 
-
P
S
T
3
 
'(t
 
6
0
.
X
l
l
 
+ 
1
.
X
1
2
 
- 
6
0
.
X
1
 
G
(
 
4
)
 :
 
E
Q
U
A
L
I
T
Y
-
-
P
S
T
4
 
+
 
.
6
E
-
O
3
X
7
X
l
O
X
l
l
 
3 
1
.
X
1
2
X
6
2
 
- 
.
6
E
-
O
3
X
l
X
7
 
C(
 
5
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
A
S
1
 
A
u
g
 
23
 
2
2
:
1
9
 
1
9
8
4
 
S
U
M
 
P
a
g
e
 
3
 
A
u
g
 
2
3
 
2
2
:
1
9
 
1
9
8
4
 
S
U
M
 
P
a
g
e
 
4
 
C
 (
 
2
1
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
M
I
X
5
 
+ 
1
.
 
+
 
1
.
X
1
8
 
+ 
1
.
X
1
9
 
- 
1.
X2
4'
-1
.X
29
 
C
 ( 
2
2
)
 :
 E
Q
U
A
L
I
T
Y
-
 -
C
T
1
 
+
 
1
.
X
3
3
X
3
4
 
- 
.
l
E
-
O
1
X
3
6
X
3
7
 
C
 (
 
2
4
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
C
T
3
 
t
 
1
.
P
4
8
X
3
5
 
+
 
1
.
X
3
6
X
3
7
 
- 
1
.
X
3
0
X
3
2
 
C
 (
 
2
7
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
C
T
6
 
+
 
1
.
P
4
8
X
1
2
X
6
2
 
- 
l
E
-
0
4
X
7
X
3
0
X
3
2
X
4
0
 
C
 (
 
2
9
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
P
m
1
 
+
 
1
.
X
4
4
 
t 
1
.
P
5
i
X
4
1
 
- 
1
.
P
5
1
 
- 
1
.
P
5
3
X
4
1
'
 
2
.
 
- 
1
.
P
5
4
Y
.
4
1
 '
 3
.
 
C
 (
 
3
3
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
P
A
N
D
S
 
+ 
1
.
 
+
 
1
.
P
2
8
-
-
1
.
P
5
6
-
-
1
.
X
3
6
-
-
1
.
X
4
7
X
~
~
1
.
X
4
8
 
- 
1
.
X
4
6
X
4
7
'
-
1
.
 
- 
.
l
E
-
0
2
P
2
8
-
-
1
.
P
2
9
X
3
l
X
4
7
-
-
1
.
 
C
 ( 
3
4
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
P
A
W
6
 
+
 
1
.
 
t
 
1
.
X
4
5
X
4
g
A
-
1
.
 
- 
.
8
7
1
1
3
3
E
-
O
U
(
4
8
X
4
9
'
-
1
.
 
C
(
 
3
9
)
 :
 
E
Q
U
A
L
I
T
Y
-
.
 
+
 
1
.
X
3
6
X
3
8
 
C
 (
 
4
1
)
 :
 E
Q
U
A
L
I
T
Y
-
 -
M
1
 
+ 
1.
 
- 
1.
X5
3'
-1
.X
58
 
- 
1.
X5
3'
-1
.X
59
 
C
 (
 
4
2
)
 :
 E
Q
U
A
L
I
T
Y
-
 -
M
2
 
+ 
1
.
 
- 
l
.
P
7
9
X
5
3
^
-
1
.
X
5
4
'
-
l
.
X
5
8
 
- 
l
.
X
5
3
'
-
1
.
X
5
4
^
-
1
.
X
5
9
X
6
0
 
C
 ( 
4
3
)
 :
 E
Q
U
A
L
I
T
Y
-
 -
M
3
 
+ 
1
.
 
- 
l
.
P
8
1
X
5
6
^
-
1
.
X
5
8
'
-
.
5
X
5
9
^
 
.5
X6
0'
 
.
5
 
C
 ( 
4
4
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
M
I
 
+
 
1.
 
- 
l
.
X
5
6
'
-
1
.
X
5
7
^
-
1
.
X
5
9
X
6
0
 
G
 (
 
4
5
)
 :
 E
Q
U
A
L
I
T
Y
-
 -
R
E
C
Y
C
L
E
 
+ 
1
.
 
- 
1.
X3
5X
61
'-
1.
 
- 
l.
X5
2X
61
'-
1.
 
- 
1
.
X
5
8
X
6
1
-
-
1
.
 
C
 (
 
4
6
)
 :
 E
Q
U
A
L
I
T
Y
-
 -M
i3
1 
+ 
6
0
.
X
1
 
- 
1
.
P
8
2
 
- 
1
.
X
6
1
 
C(
 
4
8
)
 :
 E
Q
U
A
L
I
T
Y
-
-
M
E
3
3
 
+ 
1
.
 
- 
.
1
6
6
6
6
7
E
-
0
1
P
8
2
P
8
4
X
1
-
-
1
.
X
3
3
-
1
.
 
- 
.
1
6
6
6
6
7
E
-
0
1
x
1
-
-
1
.
X
3
'
-
1
.
 
X
3
5
X
3
9
 
- 
.
1
6
6
6
6
7
E
-
0
1
X
l
'
-
1
.
X
3
5
X
4
0
 
C
 (
 
4
9
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -
K
B
4
 
+ 
1
.
 
- 
.
1
6
6
6
6
7
E
-
O
l
P
8
2
P
8
5
X
l
^
-
l
.
X
4
-
-
1
.
 
.
1
6
6
6
6
7
E
-
O
l
X
1
'
-
1
.
X
3
5
X
4
0
 
C
 (
 
5
1
)
 :
 
E
Q
U
A
L
I
T
Y
-
 -M
E3
6 
+
 
1
.
 
+ 
16
.6
66
7P
70
Xl
'-
l,
X6
'-
1.
X5
2X
55
 
t 
A
u
q
 
23
 
2
2
:
1
9
 
1
9
8
4
 
S
U
M
 P
a
g
e
 
5
 
A
u
g
 
2
3
 
2
2
:
1
9
 
1
9
8
4
 
S
U
M
 P
a
g
e
 6
 
C
 ( 
5
4
)
 :
 E
Q
U
A
L
I
T
Y
-
 -
D
E
F
N
 O
F
 
F
P
 
+ 
1.
 
- 
1
.
P
9
0
 
- 
.l
E
-O
lP
9
0
X
1
2
^
-1
.X
2
8
X
2
9
X
6
2
'-
1
. 
C
 (-
 
5
5
)
 :
 
B
O
D
 
S
T
A
N
D
A
R
D
 
+ 
1
.
X
1
7
 
+
 
l
.
P
2
7
P
2
8
P
2
9
'
-
1
.
X
2
3
 
- 
1
.
P
8
8
 
C(
 
5
6
)
 :
 
T
S
S
 
S
T
A
N
D
A
R
D
 
t
 
1
.
X
2
3
 
+ 
1
.
X
1
8
X
2
3
 
+
 
1
.
X
1
9
X
2
3
 
- 
1
.
P
8
9
 
C
 ( 
5
7
)
 :
 M
I
X
I
N
G
 
R
E
Q
U
I
R
E
M
E
N
T
 
+ 
1
.
P
4
5
 
- 
.
6
E
-
O
l
X
1
5
-
-
1
.
X
2
7
 
O
B
J
E
C
T
I
V
E
 
V
A
L
U
E
:
 
6
7
5
2
6
3
.
 
-
 - 
L
O
W
E
R
 
O
P
E
R
A
T
I
N
G
 
P
R
E
V
.
 
U
P
P
E
R
 
V
A
R
I
A
B
L
E
 
B
O
U
N
D
 
P
T
.
 
O
P
.
P
T
.
 
B
O
U
N
D
 
NA
ME
 
.
.
-
-
-
.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
.
-
-
-
-
-
-
-
-
-
.
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
 
X
I
 
'1
1 
2
5
.
0
0
0
0
 
2
5
.
1
5
8
9
 
2
5
.
1
5
0
8
 
3
0
.
0
0
3
0
 
X
(
 
1
)
 
5
0
.
 O
O
C
O
 
.
1
0
0
0
0
0
E
-
0
3
 
.
4
0
0
0
0
0
 
P
A
R
A
M
E
T
E
R
 
V
A
L
U
E
 
NA
ME
 
..
..
..
..
..
..
..
..
..
..
..
..
..
..
..
..
 
io
o 
. o
so
 
1
0
0
.
0
0
0
 
3
0
0
.
0
0
0
 
6
.
0
0
0
0
0
 
3
0
.
 O
C
O
O
 
2
.
0
0
0
0
0
 
2
.
0
0
0
0
0
 
1
.
0
0
0
0
0
 
5
.
0
0
0
0
0
 
1
.
5
0
0
0
0
 
3
0
.
0
0
3
0
 
2
0
.
0
0
3
0
 
1
0
0
.
0
0
0
 
2
0
0
.
0
3
0
 
1
0
.
0
0
0
0
 
1
0
0
.
0
0
0
 
1
0
0
 .
o
o
o
 
1
0
0
.
0
0
0
 
1
0
0
.
 O
C
O
 
1
C
O
.
 G
3
0
 
2
.
0
0
0
3
3
 
1
0
0
.
0
5
0
 
1
0
0
.
0
0
0
 
1
0
0
.
 O
G
O
 
nnnn 
-: 8 . uum~rmrrr. u. m. m. mmraww. m. . . . N. r. I-. w. . . . . . . . a. r. r. war POOOTO. OW r. r. muwm. O. ~NOI-I-I-r. P. ~OWOPI-mm~-I-NI-. w. w. mo.. 
:Z m. OOOOPOOOO~WW~W. ~;D~moooootnoo~~ m. N~POOOO~OOWNO. I-VI I P 40000. 0. Oa0000000~ mooo. 0. 00000000000t~OWm0000NONN00040 
awwrld rooooooo rooooooow~ooomooooooooooooommm~ooooa~~~~~~~~ 
-I. moooooooowooo~oooo. OO~OOOOOOOOOOOOOOOOOOI-~OOOOO~OOOOOOOO 
II IIIIU 1 moooooooowoooooooomoooooooooooooooooooooooooooooo~~~~~~~ I 
Ill I 
m m m mmmm mmmmmm 
... I
'+I + + + + #,,,++ Y '? rrrr oooorr r o '? 
4I-I-4 1 t; 8 ++PI- mwwrrr I- r *oar I < B 
romw I 
4omci. F ao4m 8 
corn4 l s mmmm 1 
mmmm 1 
r3lO.Qlo 1 
CCCC 1 
CCCF : 8 HHHH l 2722; I I! 
rrr c 
4NN 
m5ug 
gszz OHHVI 
IS$& +I HH Z 
POTU 
ZEgU 
O'ZXO 
pn H - m VIP 
?J 2E 
IIIIIII I,, I 
. PO.. . . . . . . . . 
,,I,,, I I I,! I I, I I, 
wr. ~~~~NL~L~WCLC'~~CI~C~WC~~~C'~~CL~L'NCW'NWI~CLW'NC~'N;D'NCWC'~C'~~ m. ~NI-OWOW~~OI-~~~I-O~W~O~WPI-PI-OPOI-PI-OP~WO~WI-~WI-~WOLI~OPL 
wmmm~mm1-~m1-OLO~a0~m0oo~~m~~00mm~m~0m~mmro1-~m~~m~PmO~4 
~WO~~WW~~WWO~L~~~O~I-OOON~NW~O~~~NPOW~~~~N~~~~~~~O~OW~ 
m~~~mmm~~~~~am~m~~~moo~~mam~omm~m~oo~m~aa~o~ommo~*~omm 
~ONI-NP~P~OLO~N~~WOO~OOON~OPWON~PWOOO~~~OW~~~~PWI-~~~~O 
m mmmmmmmmmmmmnmmm mmmmmmmmmmmm mmmmmmmmmmmmmmmmmmm 
II,IIII I,,II,I,I I I I I I I III 
&&~&~&~~&&~&&~&& &&&&ooI-0000 0000000000000000000 ~WWPLPLWNLWPWLN~ WWWLWWPP~WLN NWWPWWLWWWWPLWWWL~P 
mmmm 
r3r3lOlo 
CCCC 
EEmm 
2222 I I I I 
I, I 
:i3&i3 
S4mm 
Z 
rl 
mmmm 
lor3r3lo 
Egg 
2222 I4II 
4, I 
?ski3 AWNF 
mmmm 
lolor3cl 
&&EE 2222 
I I, I 
II I 
%is Q&WN 
2 P 
m 
mmmm 
Ioor3Io 
EZEE 
caaq I,I IIII s""" 
,-ZZZ 
222 
mmmm 
lor3aIo 
CCCC 
FCFS 
8587 , I I I VIVIww 
zzz2 
222% 
mmmmmmm 
r3r3r3lor3r3~ 
~CCCCCC 
PC~FF~F CIHHHUHU 
22227y2 I,!, 
mmmm 
r3mlOtcJ 
EEE 
7qq1 , , I I nnnn 
HUH+? 
WPWN 
mmmm 
r3r3lON 
EZ? HHHH 
?772 
PXXX 
mLW 
mmmm 
r3lolor3 
sggz 
a:: , I ,, 
iiii xxrr 
NrNP 
mmmm 
IoIoIoro 
E?? HHHH 
2222 I I I I 
ikkk I-am4 0 
mmmmmm 
Ior3r3tOr310 
CCCCCC 
FFCFFg HHHHHH 
22222q I,,,,. 
kikkii ~~PWNP 
zzz 
A
ug
 
23
 2
2:
19
 
1
9
8
4
 
S
U
M
 P
a
g
e
 9
 
M
AX
TR
M
 
7
0
 
M
A
X
I
M
U
M
 N
O.
 
OF
 
C
H
A
R
A
C
T
E
R
S
 P
E
R
 T
ER
M.
 
P
 
5
 
NU
I4
BE
R 
C
E
 L
P 
C
O
L
U
M
N
S
 P
R
I
C
E
D
.
 
FA
CT
OR
 
4
.
0
 
F
A
C
T
O
R
I
Z
A
T
I
O
N
 F
R
E
O
U
E
N
C
Y
/
N
V
A
R
 
CN
CP
 
2
5
 
D
E
F
A
U
L
T
 M
A
X
. 
NO
..
 6
~ 
C
U
T
T
I
N
G
 P
L
A
N
E
S
.
 
I
 N
C
P 
2
 5
 
C
U
T
T
I
N
G
 P
L
A
N
E
 
I
N
C
R
E
M
E
N
T
.
 
TP
AC
E 
0
 
TO
 
T
E
R
M
I
N
T
L
 
G
W
D
 
N
O
 
E
X
T
R
A
 E
E
A
S
I
B
I
L
I
T
X
 C
H
E
C
K
.
 
SY
ST
EM
 
0
 
C
U
R
R
E
N
T
 S
U
B
S
Y
S
T
E
M
 
LI
ST
 
1
 
1
 : E
G
'll
i 
0
 : S
U
M
 O
N
L
Y
 
B
I
G
=
 1
0
0
.
 
S
M
A
L
L
=
 -
1
0
0
.
 
ME
TH
OD
 
= 
S
A
F
E
 
A
U
T
O
B
O
U
N
D
 =
 
1
 
1
-
T
R
U
E
,
O
=
E
A
L
S
E
 
-
C
o
r
n
-
-
>
 E
X
I
T
 
C
P
 
TI
ME
 =
 
1
.
1
6
9
 S
E
C
.
 
APPENGIX F 
GRG PdODEL FOR LIQUID SUBSYSTEM OPTIMIZATION 
T h e  liquid subsystem to be optimized is shown in Figure 3.8. T h e  GRG model describ- 
ing the design of this subsystem has 21 variables and 21 functions. The  wastewater pararne- 
ters a t  control point No.1 (see Figure 3.8) are  input t o  the program. The  variables in this 
model is given in Table F . l ,  followed by the listing of the program t h a t  defined the model. 
Another program is used to  generate the initial solution needed for the GRG run.  This 
program is listed under the name DGSIGN11. A file specifying the  decision variables is 
needed to run DESIGN11. Input requirements of this file are summarized in Table F.2. 
Table F.1 - Summary of Model Variables: Liquid Subsystem 
Variable Index Unit  Mesnine; 
days 
days 
1000m3 
kg/m7 
g/m3 
Table F.2 - Input Da ta  to the Analysis Program : Liquid Subsystem 
Card No. Comments  
1 Title 
2 Primary clarifier overflow rate (m/hr)  
3 Sludge sge (days),  Activated sludge recycle ratio 
4 Hydrsulic retention time (days) 
A
u
g
 
2
2
 1
6:
21
 
1
9
8
4
 
G
M
M
P
l
l
 P
a
g
e
 1
 
A
u
g
 
2
2
 1
6:
21
 
1
9
8
4
 
G
M
M
P
l
l
 P
a
g
e
 2
 
P
R
O
G
R
A
M
 M
AI
N(
IN
PU
T,
 P
M
1
,
 O
U
T
P
U
T
,
 L
A
S
T
1
1
,
 TA
PE
7.
 W
E
B
,
 
t
 
T
A
P
E
5
=
I
N
P
U
T
,
 T
A
P
E
~
z
O
U
T
P
U
T
,
 
T
A
P
E
9
=
P
A
R
1
,
 
t
 
TA
PE
3;
LA
ST
ll
) 
D
I
M
E
N
S
I
O
N
 2
 (9
00
0)
 
C
O
M
M
O
N
 Z
 
D
A
T
A
 N
CO
RE
/9
00
0/
 
C
A
L
L
 C
R
G
 (
2
,
 NC
OR
E)
 
Eh
D 
C
 
C
 
S
U
B
R
O
U
T
I
N
E
 G
C
O
M
P
:
 
L
 
S
U
B
R
O
U
T
I
N
E
 G
CO
M
P 
(G
,X
) 
CO
PW
ON
,/
 IN
IT
BK
/I
NI
T 
C
 
CO
MM
ON
,:
BO
ND
RY
 1
01
. S
1.
 X
Al
. 
XD
1.
 X
I 
1.
 E
l
.
 X
T
1
 
D
I
M
E
N
S
I
O
N
 ~
(
z
i
i
,
x
(
2
1
)
 
. 
R
E
A
L
 
I
N
F
 (
6)
 ,
 ST
D 
(2
) 
, U
 (
80
) 
, V
 (
20
) 
IF
 I
IN
IT
. E
O
.
 OI
 
C
O
T
0
 5
3
 
E
P
B
N
D
=
l
.
E
-
6
 
D
O
 
1
0
0
 I
=
1
,
2
1
 
IF
 (
X 
(I
) 
. L
T
.
 EP
BN
D)
 
D
O
 2
0
0
 J
:1
,2
1 
G
 (
J)
 =
I
.
 E
3
0
 
W)
NT
IN
uE
 
R
E
 T
U
R
N
 
T
H
E
N
 
EN
D 
IF
 
1
0
0
 
C
G
N
T
I
N
U
E
 
C
 
C
 P
R
I
M
A
R
Y
 S
E
T
T
L
I
N
G
 T
A
N
K
 
D
E
S
I
G
N
:
 
- 
C
 
C
 A
C
T
I
V
A
T
E
D
 
S
L
U
D
G
E
 D
E
S
I
G
N
:
 
c
 - C T
H
I
C
K
E
N
I
N
G
 M
O
D
E
L
 F
OR
 
P
R
I
M
A
R
Y
 S
E
D
I
M
E
N
T
A
T
I
O
N
:
 
C
 
G(
17
)=
X(
21
) 
-V
(6
) 
* (
(l
.E
2*
X(
2)
) 
*U
(1
6)
/X
(5
))
 
**
 (l
./
V(
5)
) 
'1
.E
-2
 
C
 
C
 
C
 E
F
F
L
U
E
N
T
 W
AT
ER
 
Q
U
A
L
I
T
Y
 S
TA
ND
AR
DS
: 
,. L C C 
M
I
X
I
N
G
 R
E
Q
U
I
R
E
M
E
N
T
 I
N
 A
E
R
A
T
I
O
N
 T
AN
K:
 
c
 - 
G(
20
)=
(U
(4
5)
 
- 
(6
0.
'X
(2
0)
)/
(1
.E
3*
X(
8)
))
 
*
l
.
E
2
 
C
 
C
 O
B
J
E
C
T
I
V
E
 F
U
N
C
T
I
O
N
:
 
L
 
C
 P
R
I
M
A
R
Y
 S
E
T
T
L
I
N
G
 T
AN
K:
 
C
 
C
C
P
S
T
=
8
2
4
.
 ' (
l.
E2
*X
(2
))
 
**
* .
7
7
 
IF
 (
(1
. 
E
2
*
X
 (2
) 
) 
.
G
E
.
 2
7
9
 
TH
EN
 
C
O
P
S
T
=
1
7
.
1
5
*
 (1
.E
Z1
X(
2 
b
*
O
.
6
 
CI
IP
ST
i9
. 
E
L
S
E
 
23
' 
(l
.E
2'
X(
2)
i"
O.
6 
C
O
P
S
T
=
9
2
.
4
5
*
 (l
.E
2*
X(
2 
) 
**
 .3
 
~
s
T
=
l
O
6
.
 
E
N
D
I
F
 
* (
l.
E2
'X
(2
)1
 
*
*
.
I
4
 
-
.
 .-
 .
 - 
CS
PS
T-
8.
62
' 
(l
.E
2'
X(
2)
) 
*
V
6
 
C
 
C
 P
R
I
M
A
R
Y
 S
L
U
D
G
E
 P
U
M
P
I
N
G
:
 
C
 
C
C
P
S
P
=
1
6
0
4
2
.
 *
X
 (5
) 
.
5
3
 
CO
PS
P=
37
4.
'X
f5
1 
*'
.4
1 

A
u
g
 
2
3
 2
1
:
5
3
 1
9
8
4
 
D
E
S
I
G
N
1
1
 P
a
g
e
 2
 
A
u
g
 
2
3
 2
1
:
5
3
 1
9
8
4
 
D
E
S
I
G
N
1
1
 P
a
g
e
 1
 
C
O
M
M
O
N
/
P
A
R
V
A
~
/
U
,
 
V
,
 x 
C
O
M
M
O
N
,
~
D
P
S
T
/
'
O
R
,
I
U
N
I
T
l
 
R
E
A
L
 V
I
N
 (
7)
 ,
VO
UT
(7
) 
,
V
S
I
D
E
 (
7)
 ,
M
Y
1
 (7
) 
,U
 (
10
0)
 ,
V 
(2
0)
 ,
X
 (
30
) 
R
E
A
L
 K
P
1
 
C
O
M
M
O
N
 D
A
S
 :
S
R
T
;
H
R
T
,
A
S
K
R
,
 IL
T
I
T
2
,
B
O
D
S
T
D
.
T
S
S
S
T
D
 
R
E
A
L
 V
I
N
 (
7)
 ,
V
O
U
T
 (7
) 
,
 V
S
I
D
E
 (
7)
 ,
U
 (1
00
) 
,V
(2
0)
 ,
X
 (
30
) 
R
E
A
L
 A
RY
l(
7)
 ,
 IN
F
L
O
W
 (
7)
 
R
E
A
L
 N
2
 
CH
AR
AC
TE
R*
 
1
 T
I
T
L
E
 (a
o)
 
m
 
C 
U
S
E
 N
E
W
T
O
N
'
S
 
M
E
T
H
O
D
 
T
O
 S
O
L
V
E
 F
O
R
 P
R
I
M
A
R
Y
 S
Li
TD
GE
 
F
L
O
W
R
A
T
E
:
 
C
 
L
 
R
E
A
D
 4
,
~
1
N
F
L
O
W
(
I
)
,
I
~
1
,
6
)
 
R
E
A
D
 4
 
* 
B
O
D
S
T
D
,
T
S
S
S
T
D
 
R
E
A
D
l
4
:
*
/
 (
U(
1)
 ,
1
=
1
,
8
0
)
 
C
 
N
-
1
 
V
S
I
D
E
 (
1)
 =
l.
E-
3'
VI
N(
l)
 
V
O
U
T
 (
1)
 =V
IN
(l
) 
-
V
S
I
D
E
 (1
) 
F
=
V
I
N
 (1
) 
-
V
O
U
T
 (1
) 
*
R
1
-
K
P
l
*
V
S
I
D
E
 (1
1 
**
((
V(
5)
 
-l
.)
/V
(5
))
 
V
S
I
D
E
 (
1)
 ) 
**
 (1
. /
V
 
(5
) 
) 
C
 
R
E
A
D
 (
5.
90
) 
T
I
T
L
E
 
9
0
 
F
O
R
M
A
T
 f
8O
Al
l 
+
 
(v
~u
? (1
) 
*
U
 (l
k)
 /
OR
) 
**
 (1
. /
V 
(
5
)
 ) 
IF
 (
AB
S 
(F
) 
. L
E
.
 1
.
 E
-
6
)
 G
O
T
0
 2
2
 
F
P
R
I
M
E
-
R
1
-
K
P
l
*
 (U
 (
16
) '
VO
UT
 
(1
) /
OR
 
+ 
(
1
.
 -
V
I
N
 I1
1 
/V
(5
1 
N
O
U
T
 (1
1 
I 
.
.
 
. 
N
=
N
+
l
 ' 
. 
N
 
I
E
(
N
.
G
E
.
5
0
)
 
T
H
E
N
 
N
 
P
R
I
N
T
 *
, '
M
P
X
I
M
U
M
 N
U
M
B
E
R
 
OF
 
I
T
E
R
A
T
I
O
N
 R
E
A
C
H
E
D
 
I
N
 
Or
, 
+
P
R
I
M
A
R
Y
 S
E
T
T
L
I
N
G
 T
AN
K 
D
E
S
I
G
N
 
S
T
O
P
 
E
N
D
I
F
 
G
O
T
0
 2
1 
IF
 (
VS
ID
E 
(1
) 
.L
T.
O.
) 
T
H
E
N
 
P
R
I
N
T
 
*
,
'
F
A
I
L
E
D
 T
O
 F
I
N
D
 A
 
F
T
I
B
L
E
 S
O
L
U
T
I
O
N
 I
N
 
+
P
R
I
M
A
R
Y
 S
E
T
T
L
I
N
G
 T
Jd
N
 
D
E
S
I
G
N
 
S
T
O
P
 
E
N
D
I
F
 
v 
(9
1
 =
U
 (3
9
) 
/1
41
0:
 ,'u
 
(3
6)
 '
(U
 
+ 
/
U
4
2
/
U
4
3
/
~
(
4
4
j
*
*
 
V
 (
10
) =
U
 l
2e
l 
*
U
 15
61
 
V
O
U
T
 (
71
 =
V
I
N
 (
71
 *
R
1
 
W
S
T
-
V
O
U
T
 (
1
)
 O
R 
V
S
I
D
E
 (
7)
 =V
(6
{ 
(
V
S
I
D
E
(
l
)
/
U
(
1
6
6
6
6
)
/
A
P
S
T
)
 
**
 (l
./
V(
S)
) 
*
l
.
E
3
 
V
O
U
T
 (
2)
 =
V
I
N
 (2( 
V
O
U
T
 (
I j
 =V
IN
(I
) 
*
R
I
 
V
S
I
D
E
 (
I)
 =
V
I
N
 (I
) 
*
R
A
T
I
O
 
C
O
N
T
I
N
U
E
 
- 
W
U
L
 P
S
T
 
D
O
 8
8
 I
=
1
,
7
 
A
R
Y
1
 (
I)
 z
V
O
U
T
 (
I)
 
U
0
 
C
O
N
T
I
N
U
E
 
U
L
L
 A
S 
C
 
h'
RI
TE
 (
8,
12
0)
 (
K,
X(
K)
 ,
 K
=
1
,
2
1
)
 
1
2
0
 F
O
R
M
A
T
 (3
X
. 
13
.4
X.
EZ
O.
 1
3)
 
L
 
S
T
O
P
 
E
N
D
 
C
 
R
E
T
U
R
N
 
E
N
D
 
L
 
S
U
B
R
O
U
T
I
N
E
 P
S
T
 
A
u
q
 
2
3
 2
1
:
5
3
 
1
9
8
4
 
D
E
S
I
G
N
1
1
 P
a
g
e
 3
 
S
U
B
R
O
U
T
I
N
E
 A
S
 
C
O
M
M
O
N
/
S
m
T
E
/
V
I
N
,
 V
O
U
T
,
 V
S
I
D
E
,
 A
R
Y
l
 
M
M
.
I
O
N
.
/
P
A
R
V
A
R
/
U
,
V
,
 , 
, ,
 ,X
 
C
O
M
M
O
N
/
D
A
S
/
S
R
T
,
H
R
T
,
A
S
R
R
,
 I
U
N
I
T
2
,
B
O
D
S
T
D
,
 T
S
S
S
T
D
 
R
E
A
L
 
V
I
N
 (
7)
 ,
 V
O
U
T
 (
7)
 ,
 V
S
I
D
E
 (
7)
 ,
AR
Y1
(7
) 
,
 U(
10
0)
 ,
 V(
20
) 
,X
 (
30
) 
R
E
A
L
 
SN
(3
).
F(
3)
 
R
E
A
L
 
hW
 
C
 C
 
C
 A
E
R
A
T
I
O
N
:
 
- L 
IF
 (
I
U
N
I
T
2
.
 EQ
. 
0
)
 H
R
T
=
H
R
T
/
'
L
4
 
c
 
V
I
N
 (
5)
 =
 (
A
R
Y
l
 (
5)
 'C
+ 
(
1
.
0
-
U
 (
2
7
)
 ) 
'U 
(2
6)
 W
I
N
 (3
) '
 SR
T
)
 / 
(
l
.
0
t
C
A
 A
R
Y
l
(
3
)
 '
VI
N(
3)
 
) 
*
V
I
N
 6
 
=
M
Y
1
 (6
) *
C)
 
1
.
 O
+
C
R
 A
RY
l(
31
 /
*I
N 
(3
) 
) 
) 
V
I
N
 1
71
 =
V
I
N
 (
3)
 +
V
I
M
 1
4)
 r
V
I
N
 IS) 
*
V
I
N
 (
6)
 
,. 
O
R
M
T
=
A
R
Y
l
(
l
)
 '
FO
OD
* 
(U
(2
9)
 -
U
(
2
8
)
 '
U(
23
)/
(1
. 
tU
(2
6)
 '
SR
T)
) 
'1
.E
-3
+2
4.
 
A
F
R
=
O
R
M
T
 *
V
 (
9)
 
A
E
W
-
A
F
R
 .
*A
T 
IF
 (
A
E
W
.
L
T
;
U
(
4
5
)
)
 T
i
E
N
 
P
R
I
N
T
 *
, 
M
I
X
I
N
G
 
R
E
Z
U
I
R
E
M
E
N
T
 
C
O
N
T
R
O
L
S
 
O
X
Y
G
E
N
 D
E
M
A
N
D
'
 
E
N
D
I
F
 
C
 
-C
 S
E
C
O
N
D
A
R
Y
 
S
E
T
T
L
I
N
G
:
 
A
u
g
 
2
3
 2
1
:
5
3
 
1
9
8
4
 
D
E
S
I
G
N
1
1
 P
a
g
e
 4
 
C
 
C
A
L
L
 
F
U
N
C
 (
N,
 SN
, 
F
,
N
W
,
A
l
1
,
A
l
2
,
A
1
3
,
A
2
1
,
A
3
1
,
A
3
2
,
 
t
 
RI
iS
l,
RH
S2
,R
HS
3)
 
C
 
C
A
L
L
 
Q
U
A
S
I
(
N
,
S
N
,
E
,
N
W
,
A
l
1
,
A
l
2
,
A
1
3
,
A
2
1
.
A
3
1
,
A
3
2
,
 
t
 
R
H
S
l
.
R
H
S
Z
.
R
H
S
3
,
I
T
E
Q
N
)
 
- L 
I
F
 
1
T
E
Q
N
.
G
E
.
 5
0
)
 
T
H
E
N
 
IF
 I
I
A
R
E
A
.
 G
T
 .
5
)
 T
HE
N 
P
R
I
N
T
 
*
,
'
M
A
X
I
M
U
M
 
M
J
M
B
E
R
 
OF
 
f
T
E
R
A
T
I
O
N
S
 R
E
A
C
H
E
D
 
+
 
I
N
 A
C
T
I
V
A
T
E
D
 
S
L
U
D
G
E
 D
E
S
I
G
N
 
S
T
O
P
 
F
C
S
E
 
C
 
IF
 (
S
N
 (1
) 
. L
E
 .
O
.
 0
.
 OR
. 
SN
(2
) 
.
L
E
.
 0
.
0
.
 O
R
.
 S
N
 (
3
)
 .
L
E
 .
O
.
 0
)
 
T
I
E
N
 
P
R
I
N
T
 
*
,
'
F
A
I
L
E
D
 
T
O
 F
I
N
D
,
A
 F
E
A
S
I
B
L
E
 
S
O
L
U
T
I
O
N
 
IN
 
+
A
C
T
I
V
A
T
E
D
 S
L
U
D
G
E
 
D
E
S
I
L
T
 
C
 
)
 
A
R
Y
l
 
1
 
=
S
N
 
1
 
V
O
U
T
 1
71
 =
S
A
 1
21
 
- 
M
=
S
N
 (
3
)
 
'V
IN
 
(3
) 
-
X
A
2
)
 /A
SR
R 
C
 C 
S
E
T
T
I
N
G
 U
P 
T
H
E
 
C
O
E
F
F
I
C
I
E
N
T
S
 
F
C
R
 
SI
ML
TL
'P
AK
EO
US
 
E
Q
U
A
T
I
O
N
S
:
 
NW:
u 
12
01
 
A
l
2
=
-
1
.
0
,
j
X
k
*
l
.
0
~
-
3
 
A
l
3
=
V
I
N
(
1
)
 /X
X'
l 
.
C
E
-
.
3
 
R
H
S
l
=
 V
I
N
 (
3)
 '
VA
T/
SR
T,
'2
4.
 
O+
Q2
*X
A2
+A
SR
R'
QZ
'A
RY
l 
(3
))
 '
1.
 
E
-
3
 
MI
-v
 
17
1 
~
~
~
2
-
k
k
l
(
7
)
*
1
.
O
E
-
3
 
A
3
1
-
U
(
3
2
)
 '
Q2
* 
(1
.O
tA
SR
R)
 ' (
-
l
.
C
)
 
A
3
2
=
1
.
0
 
R
H
S
3
=
-
U
 (3
0)
 tU
 (
31
) 
'V
IN
 
(7
) 
C
 
C
 P
R
O
V
I
D
I
N
G
 S
T
A
R
T
I
N
G
 
V
A
L
U
E
S
 
F
O
R
 
V
A
R
I
M
L
E
S
:
 
. .
 .. ST
O
P
 
E
N
D
I
F
 
L
 
C
 - 
A
C
T
I
V
A
T
E
D
 
S
L
U
D
G
E
 S
E
P
A
R
A
T
I
O
N
:
 
L
 
V
O
U
T
 (
I)
 =
A
S
R
R
*
p
i
 
V
I
N
 (
1)
 =
M
Y
1
 (1
) 
-
V
O
U
T
 (1
) 
A
u
g
 2
3
 
2
1
:
5
3
 1
9
8
4
 
D
E
S
I
G
N
1
1
 P
a
g
e
 6
 
X(
15
)=
AS
RR
+X
(1
4)
 *
1
.
E
-
2
 
R
E
T
U
R
N
 
L
 
S
U
B
R
O
U
T
I
N
E
 Q
U
A
S
I
 (
N 
,
X
,
 F
 ,
 NC
.A
l1
 ,
M
2
,
 A
l
3
,
 A
2
1
,
A
3
1
,
 
A3
2.
RH
Sl
.R
HS
2.
RI
IS
3,
IT
E 
'
D
I
M
E
N
~
I
O
N
 F
 
3)
 .
FN
Eh
'(
3)
 
H
 (
3.
3)
 ,
?E
 (
3)
 ,
S 
(3
1 
,S
H 
(3
) 
D
I
M
E
N
S
I
O
N
 ~
1
3
.
3
)
 ,x
(3
) 
,i
(3
) 
R
E
A
L
 N
C
 
C
 
H
(
I
~
J
)
=
O
.
O
 
EN
D 
IF
 
1
0
 
C
O
N
T
I
N
U
E
 
- L C 
C
O
M
P
U
T
E
 X
' 
(I
) 
(T
HE
 N
E
W
 S
OL
UT
IO
N)
 
: 
15
 
C
A
t
L
M
A
T
V
E
C
(
N
,
H
,
F
,
S
)
 
D
O
 1
6
 
1:
l.
N 
-
-
 
-
-
 
-
 
s 
(I
) 
=
-
s
 (I
) 
16
 
C
O
N
T
I
N
U
E
 
C
 
C
 
T
E
S
T
 F
OR
 
C
O
N
V
E
R
G
E
N
C
E
 : 
D
O
 2
0
 I
-1
.N
 
IF
 (
I 
.
E
Q
.
 2)
 T
H
E
N
 
I
F
~
A
D
S
~
S
~
I
)
)
 
.
L
E
.
 
K
S
~
O
P
-
N
S
T
O
P
;
~
 
EX
DI
F 
EL
SE
 
IF
(A
BS
(S
(I
))
 
.
L
E
.
 
N
S
T
O
P
=
N
S
T
O
P
t
l
 
EN
DI
F 
EN
D 
IF
 
20
 
C
O
N
T
I
N
U
E
 
T
I
E
N
 
T
H
E
N
 
C
 
U
P
D
A
T
E
 X
(1
) 
: 
D
O
 2
5
 I
=
l
,
N
 
X
 (
I)
 =
X
 (I
) 
4 
S
 (
I)
 
2
5
 
C
O
N
T
I
N
U
E
 
L
 
C
 C
O
M
P
U
T
E
 Y
 (
I)
 :
 
C
A
L
L
 F
U
N
C
(
N
,
X
.
F
~
T
W
,
!
I
C
,
A
~
~
.
~
~
.
~
~
,
~
~
,
~
~
,
~
~
~
 
t
 
RI
IS
l.
RI
iS
i.
RH
S3
) 
D
O
 
3
0
 I
=
l
,
N
 
Y
 
I
 =
F
N
E
W
 I
 
-
F
 (I
) 
F
 bj
 -Fh
=
w
L
{
 
3
0
 
C
O
N
T
I
N
U
E
 
L
 c 
U
P
D
A
T
E
 H
I
I
,
J
)
 : 
c
 
C
O
~
U
T
E
 H
 (
I,
 J)
 *
Y
 (J
) 
: 
C
A
L
L
 P
A
T
V
E
C
(
N
,
H
.
Y
,
H
Y
 
c 
C
o
m
u
T
E
 m
a
s
P
o
s
E
 (s
 (1
*N
{)
 l
 
H(
N*
N)
 
* 
Y
 (
N4
1)
 
: 
S
H
Y
-
0
.
0
 
s
H
Y
=
s
H
Y
+
s
 (I
) 
*
H
Y
 (I
) 
3
5
 
C
O
N
T
I
N
U
E
 
,
-
 
-
.
 
C
 
U
P
D
A
T
E
:
 
4
O
 
C
O
N
T
I
N
U
E
 
L
 
C
 
C
O
N
T
I
N
U
E
 
IT
ER
AT
IO
NS
: 
I
T
E
y
I
T
E
 f
1
 
G
O
 
T
O
 
1
5
 
C
 1
0
0
 
R
E
T
U
R
N
 
EN
D 
C
 
C
 S
U
B
R
O
U
T
I
N
E
 
'M
Al
'V
EC
' 
P
E
R
F
O
R
M
S
 T
HE
 P
O
S
T
-
M
U
L
T
I
P
L
I
C
A
T
I
O
N
 O
F 
C
 
A
 
M
A
T
R
I
X
 
(N
'N
) 
B
Y
 A
 V
EC
TO
R 
(N
*l
) 
c
 - 
S
U
B
R
O
U
T
I
N
E
 M
A
T
V
E
C
 (
N,
A,
 B,
C 
D
I
M
E
N
S
I
O
N
 A
(3
.3
) 
,B
(3
) 
,C
(3
{ 
c
 
D
O
 2
 J
=
l
,
N
 
C(
I)
=C
(I
) 
+A
(I
,J
) 
*B
(J
) 
2
 
C
O
N
T
I
N
U
E
 
i 
CO
NT
IN
UE
 
R
E
T
U
R
N
 
EN
D 
- L C 
S
U
B
R
O
U
T
I
N
E
 V
E
C
M
A
T
 P
E
R
F
O
R
M
S
 T
HE
 P
R
E
-
M
L
K
T
I
P
L
I
C
A
T
I
O
N
 O
F 
C
 
A
 M
A
T
R
I
X
 
(N
*N
) 
BY
 
A
 V
EC
TO
R 
(
l
t
N
)
 
C
 
S
U
B
R
O
U
T
I
h
T
 V
EC
MA
T(
N,
X,
Y,
Z 
D
I
M
E
N
S
I
O
N
 X
(3
) 
,Y
 (
3.
3)
 ,
 1(
3{
 
C
 
z(
J)
=o
.o
. 
D
O
 
2
 
I
=
1
,
N
 
Z(
J)
-Z
(J
)+
X(
I)
 
'Y
(1
,J
) 
2
 
C
O
N
T
I
N
U
E
 
1
 
C
O
N
T
I
N
U
E
 
R
E
T
U
R
N
 
EN
D 
- L 
S
U
B
R
O
U
T
I
N
E
 F
U
N
C
(
N
,
X
,
F
,
N
C
.
A
l
l
.
A
1
2
,
A
l
3
,
~
1
,
A
3
1
,
A
3
2
,
 
+ 
RH
Sl
,R
HS
2,
RH
S3
) 
R
E
A
L
 N
C
 
D
I
M
E
N
S
I
O
N
 X
(3
) 
,F
 (
3)
 
- L 
=A
ll
*X
(l
) 
+A
12
'X
 
1)
 '
X(
2)
 
+A
13
'X
(2
) 
-
R
H
S
1
 
=A
21
"N
Ct
 
(X
 (
3)
 /j
 (I)
) 
R
H
S
2
"
N
C
 
7P
.3
1/
Xf
31
 +
A
3
2
*
X
f
2
l
 -
-
R
H
S
3
 
. 
.,
 
. .
 
R
E
T
~
J
R
N
 
EN
D 
APPENEIX G 
SLUDGE SUBSYSTEM DESIGN 
The inputs to this program are: ('11 wastewater parameters at control point No. 1 (see 
Figure 3.8), [2] optimal solution for the liquid subsystem (see Appendix F), and [3] the recy- 
cle tlowrates Qlo, Q13, and Q16. Only the En31 design of the sludge subsystem is printed out. 
The program listing is on the next few pages. 
735m 
gcr 
3PZ 
m3.i 
"'1 
mcr 
C 
PPuPc'o-OP'u 
--CiZCZTemP 
rsnl zcl--O. 
cro-ozo gZ 
N 
T rl-n u r ma* 
N or .. 0 0. "00. 
0 -n-u - z op- 
23 nn 3 
G-++c *rlWW+3 
rz . <TOrOaJ 
mzrrr 
V 
vl mp 
W 
9 
rs aJ 
5 
r 
ul 
5 
x 
d - 
4 
XPPPUUU 
rlmmmppu888888 2 
p~&&s52$gggggg 
~Z~g:~~:?.~~ 
- * * .. o"Im<wmm 
rc~~rooc~n - ..uu E E ~~~.mo~zmFl~xc~~ 3 
U--rX. roo'-. \. H 'U r. u- co-ra~E 
*~-gi:,~" .Pmm 
GrLr ..9.na~ma~ mmar 
r- . r ura4 ~,.n gr EF z?. k, 
- 2 EggE K- xw u - rn 
:? .;= Go Gg?L 
- o g p .r -0 --- fig r. 
\ 5 EEm3 
? ??YS 
8 fi GfiF'ul rD rov,n 
O. -\ +ir 
r 
0 t: t: LZ " P .m P. 
- uu XOO 
-- LO;~; 
-aa 
Y 
4mn mu,- NP04 
r w- 
rj Go tjuz r " ' 9 ."I 
m. 
- E 5:: n a ro- 
W 
N 
WW 
I-' 0 
Ew8;?8R?4EFE$ 
~GZ~~~~R~rvy 
Wcl I1 
OH "8888 
& g ?az:z - H rn-n- 
8" "88 H 
O ba p L sw . 
0 
gp $ 
8;2E227zu Z-Z I-OPI-I- 
H u- I----. H. 11 0 ,I 11 I- 11 0 
,Z!-!-y? $F" 2 I OOUP 
"8N 0 
I- 0 
z-I- 0 
z;g 
8s H I 
OE 
I- 
I- 
&7uu uxnm 
LZGk I I-HN 
5Gi Pal- * -. - * 
X *. HCJ 
anm 
W 
- c 
n 
N 
- + c 
- P - * 
3 cl 
H 
B cl H 
- + 
C cl 
'2 C 
- W - 
a n N 
- 
8? -I- 
T: I-" 
-- 7 
'? I- 
- * t- 
3 
. ~ 
e.= .c 
38 I2 :.O !-' 
e e I-. I- 
P 
I-' 
ZW82 HXHH 
5"02 
R 8; 
H 
m 
+ I-, umn 
" E8 83; n PI- 
; $; $:g m HH II f 
* F!i'28 & 
8 rr\ "g r;sg L.NN2 .* 2
m 
XNn z 0 275 a, 
P NO* * 
z5 w 
5; - N 
Y 
sEg2 
;??; 
E QN8 Hmm" 
WOW 
*\- s r3 I-$$ 
:cl N n 
" i 
8 - I-' 
P - 
rw-7 
I-' 
P. 
.cl Lh: ". . 
*- 
m d p Z 
I1 11 
PI-' 
I-'- 
WN 
. . 
;-? 
, . . 
NN 
I- 
-. . . - .I! Q .- 
>.", > I-I- 5 I-' 
ON 
X. >.$? - m 
- C - 
V1 
P - I-. 
-. I-' 0 x' 
Zd x u . I- 
C? - N X I1 
:C! .- P. N -' 
I1 I- 
- N ~2 . . t-0 " m 
g" m 
I! . 
 Z 
S
e
p
 
1
6
 
2
3
:
1
7
 
1
9
8
4
 
S
L
U
D
G
E
3
 P
a
g
e
 
5
 
S
e
p
 
1
6
 
2
3
:
1
7
 
1
9
8
4
 
S
L
U
D
G
E
3
 
P
a
g
e
 
6
 
~
-
 
+ 
,
~
'
,
1
0
X
,
'
X
F
1
4
=
'
,
F
1
2
.
6
,
'
K
G
/
C
U
 M
'
,
/
,
1
O
X
,
'
X
T
1
4
=
'
,
F
1
2
.
6
,
 
+ 
'
K
G
/
C
U
 
M
1
,
/
)
 
8
1
 
F
O
R
H
A
T
(
t
0
X
.
 '
A
R
E
A
 O
F 
S
E
U
)
?
D
A
R
Y
 
D
I
G
E
S
T
E
R
=
'
 ,
F
1
2
.
6
,
 '
S
Q
 M
' 
,/
, 
1O
X.
 
+ 
S
O
L
I
D
S
 
L
O
A
D
I
N
G
 
01
4 
DI
GE
ST
ER
:.
' 
,
F
1
2
.
6
,
 '
K
G
/
S
Q
 
M
/
H
R
 ' 
,
 /)
 
C
 6
0
4
 
0
1
6
=
0
1
4
-
0
1
5
 
1
~
1
6
-
 
(
~
1
~
*
~
~
1
4
-
~
1
5
*
~
 
(
7
9
)
 ) /
Q1
6 
W
 - 
Q1
6'
XT
16
.'
Q1
5 
Y
I
E
L
D
 U
 (
7
3
)
 *
S
Q
R
T
 (
W
i
U
 (
7
4
)
 "
U
 (
7
5
)
 /U
 (
7
6
)
 /U
 (
7
7
)
 /U
 (
7
8
)
 ) 
AV
:Q
16
*X
T1
6,
,Y
IE
L?
 
- 
IF
 (
Q
1
6
X
1
6
 .
~
~
-
5
1
9
 
.)
 
T
X
N
 
W
-
5
.
5
7
'
Q
l
6
X
1
6
'
*
.
0
4
 
E
L
S
E
 
IF
 (
Q
1
6
X
1
6
.
 G
E
 ,
1
0
3
.
 ) 
T
H
E
N
 
1
3
M
V
F
=
2
0
.
*
Q
1
6
X
1
6
"
.
6
3
 
E
L
S
E
 
~
:
4
1
.
5
'
Q
1
6
X
l
6
*
*
.
4
8
 
E
N
D
I
F
 
E
h
i
I
F
 
U)
HS
D-
i 14
1 *
8
0
2
4
.
 *
Q
1
6
*
 * .
6
6
7
 
T
C
V
F
S
D
-
 U
 (
1
)
 'U 
(
3
)
 .
/
U
 (2
)
 *
C
M
+
U
 (4
) 
(
C
D
V
F
+
C
M
V
F
)
 +
U
 (3
) /
U
 (
2)
 * C
S
V
E
 
+ 
t
 C
C
S
D
*
 CO
I-
IS
D 
I
F
(
I
C
.
E
Q
.
0
 G
O
T
O
 
6
0
5
 
W
R
I
T
E
 
6
 
9
0
 Q
1
6
,
X
I
l
6
,
X
F
1
6
,
X
T
1
6
 
W
R
I
T
L
f
6
:
9
l
/
A
V
.
Y
I
E
L
D
 
F
O
P
M
T
(
?
O
X
,
 '
A
R
E
A
-O
~.
 V
W
4
 F
I
L
T
E
R
=
'
 ,
F
1
2
.
6
,
 '
SQ
 
M
1
 ,/
, 
I
O
X
,
 
+ 
F
I
L
T
E
R
 
Y
I
E
L
D
-
'
,
F
l
2
.
6
,
'
K
G
/
'
S
Q
 
M
/
H
R
1
,
/
)
 
Q
C
Y
C
L
E
-
Q
l
O
t
Q
1
3
t
Q
1
5
 
C
C
R
P
=
2
7
7
9
.
*
Q
C
Y
C
L
E
*
'
.
5
3
 
W
-;
P
=
. 33
3'
QC
YC
LE
 
W
=
.
2
3
7
5
*
Q
C
Y
C
L
E
 
IF
 (
Q
C
Y
C
L
E
 . L
T
.
 1
5
8
.
 ) 
T
i
E
N
 
C
S
R
P
-
 3
0
0
.
 
E
L
S
E
 
IF
 (
G
C
Y
C
L
E
 . L
T
.
 6
3
1
.
 ) 
TI
iE
IS
N 
C
S
K
P
-
4
0
.
5
7
'
0
C
Y
C
L
E
t
*
.
5
2
 
E
L
S
E
 
IF
 (
Q
C
Y
C
L
E
 . L
T
 .
1
5
8
0
.
 ) 
T
H
E
N
 
C
S
K
P
 
5
.
9
7
*
Q
C
Y
C
L
E
t
*
.
8
7
 
E
L
S
E
 
C
S
R
P
=
2
.
5
4
0
t
Q
C
Y
C
L
E
 
E
N
D
I
E
 
EI
iD
IF
 
E
N
D
I
F
 
c
P
R
P
=
O
C
Y
C
L
E
 
T
C
R
P
=
~
 
(
1
)
 *
U
 (
3
)
 ~
(
2
)
 
*
C
C
R
P
+
U
(
4
)
 * (
C
O
R
P
t
C
M
R
P
)
 +
C
S
R
P
*
U
 (
3
)
 /'
U 
(
2
)
 
+ T
U
)
S
T
=
T
C
G
T
+
T
t
P
A
N
D
+
T
C
S
A
N
D
+
T
C
V
F
S
D
+
T
C
R
P
 
t
C
P
R
P
a
2
3
.
8
5
*
U
 (
6
)
 *
U
(
7
)
 /U
 (
8
)
 
I
F
 I
I
C
.
 E
O
.
 OI
 G
O
T
0
 
6
0
6
 
9
2
 
FO
R 
MA
^(
^/
(:
 'T
O
T
A
L
 C
O
S
T
 F
O
R
 S
L
U
D
G
E
 
TR
!3
TM
EN
T 
A
N
D
 
D
I
S
P
O
S
A
L
 
=
',
 
+ 
F
1
O
.
O
,
 
D
O
L
L
A
R
S
/
Y
E
A
R
'
 ,
 //
) 
6
0
6
 
R
E
T
U
R
N
 
E
N
D
 
L
 
S
U
B
R
O
U
T
I
N
E
 
C
O
S
T
 (
T
C
,
T
E
M
P
.
U
.
C
H
E
C
.
Q
1
1
,
 
S
9
,
 V
S
D
E
S
T
)
 
D
I
M
E
N
S
I
O
N
 
U
 (
8
0
)
 
- 
Q
l
=
l
O
.
 2
2
E
3
*
Q
1
1
*
 T
E
M
P
-
u
 (
5
5
)
 ) 
Q
2
-
U
 (
5
9
)
 *
V
C
I
G
L
U
 16
0)
 
(
T
E
M
P
-
U
 (
5
7
)
 ) 
'8
.7
6 
Q
-
 1
01
1 
02
1 
/
U
 (
5
8
)
 
~
~
~
T
=
]
E
~
E
~
-
Q
J
 
*
l
.
E
-
6
 
C
C
I
.
"
A
N
D
-
2
3
2
3
.
 *
V
D
I
G
*
*
.
5
9
 
I
F
 (
M
I
G
.
 G
E
 .
5
6
7
8
.
 ) 
T
H
E
N
 
M
P
E
N
D
=
1
.
2
9
*
M
I
G
*
*
.
8
3
 
E
L
S
E
 
I
F
 (
V
D
I
G
.
G
E
.
 1
9
6
8
 .)
 
T
H
E
N
 
C
O
P
A
N
D
-
1
4
.
*
M
I
G
k
*
.
5
5
 
C
M
?
A
N
D
r
8
.
5
*
M
I
G
*
*
 .
5
5
 
E
L
S
E
 
E
N
D
I
F
 
E
N
D
I
F
 
I
F
(
M
I
G
.
G
E
.
2
8
3
9
.
)
 T
KE
N 
C
S
P
A
N
D
=
1
4
.
4
*
M
I
G
*
*
.
6
6
 
E
L
S
E
 
C
S
P
A
N
D
=
1
4
2
.
*
M
I
G
*
*
.
3
7
 
E
N
D
I
F
 
-
 
-
-
-
 
T
C
l
U
 (
1)
 *
U
 (
3
)
 U
 (
2)
 *
m
A
N
D
t
U
(
4
)
 A 
(
C
O
P
A
N
D
T
C
?
P
P
-
W
J
)
 
3)
 /
U 
(
2
{
*
C
S
P
A
N
D
-
U
 (
6
1
)
 *
3
.
6
E
3
/
1
.
0
5
5
*
E
V
t
I
E
T
 
E
N
D
 
APPENDIX H 
GRG MODEL FOR SYSTE?/I IYITIIOUT A PRZPJAXY CLARIFIER 
T h e  Howchart of the system is shown in Figure H.1. There are 51 variables and 47 
equations in the GRG model describing the design of this system. Table fI.1 provides a list 
of tlie variables in the model. 
Table H.l  - Summary of hfiodel Variables : Base System Without a Primary Clarifier 
Variable Index Unit Meaning 
1 m3/min QJGO 
2 .dm3 5'2 
3 g/m3 hf4 
4 g/m3 Md2 
5 g/m3 MI 2 
6 g/m3 A!, 
7 g/m3 M:2 
8 days 0, 
9 days 0 
10 1000m3 V/lOOO 
11 kg/m3 A f 4 3  
12 g/m3 5'3 
13 - .%fl J,! fa 
14 - 
-- 
Aff J h f a  3 
15 r 
16 - 100w 
17 - r + w  
18 g/m3 4 
19 kg/m3 A!,, 
20 loom" Af/lOO 
2 1 g/m3 S 
32 m3/sec Q,/co 
23 m3/hr Q e  
24 k d m 3  A f t ,  
25 kg/m2/hr L ,  
26 100m2 A,/lOO 
- 27 m3/hr Q l o  
28 m3/hr Q11 
29 kg/ms hf:ll 


A
ug
 
2
2
 
1
6
:
3
0
 
1
9
8
4
 
G
C
O
M
P
7
 P
a
g
e
 
1
 
A
u
g
 
2
2
 
1
6
:
3
0
 
1
9
8
4
 
C
C
O
M
P
7
 
P
a
g
e
 2
 
P
R
O
G
R
A
M
 
MA
IN
(I
NP
UT
.P
hR
.O
UT
PU
T.
LA
Sl
VA
R.
TA
PE
7.
TA
PE
8.
 
t
 
T
A
P
E
S
-
I
t
I
T
U
T
,
 T
A
P
E
6
=
O
U
T
P
U
T
,
 T
A
P
E
4
=
L
A
S
l
V
A
R
,
 
t
 
TA
PE
9:
PA
R)
 
D
I
M
E
N
S
I
O
N
 
z 
I
2
0
0
0
0
1
 
C
O
M
M
O
N
 
Z
 
D
A
T
A
 N
C
O
R
E
/
2
0
0
0
0
/
 
C
A
L
L
 
G
R
G
 (z
, 
NC
OR
E)
 
E
N
D
 
C
 
C
 
S
U
B
R
O
U
T
I
N
E
 
G
C
O
M
P
:
 
C
 
S
U
B
R
O
U
T
I
N
E
 
G
C
O
M
P
 (
G.
XI
 
5
0
 
E
P
B
N
D
-
1
.
E
-
6
 
D
O
 
1
0
0
 
I
=
1
,
5
1
 
, 
I
F
 (
X 
(I
) 
.
L
T
.
 E
P
B
N
D
)
 
T
H
E
N
 
D
O
 
2
0
0
 J
=
1
.
4
7
 
G
 (
J)
 =
l
.
 E
3
0
 
2
0
0
 
C
O
N
T
1
h
-
m
 
R
E
r
n
N
 
E
N
D
I
F
 
1
0
0
 
C
O
N
T
I
N
U
E
 
C
 
C
 
A
C
T
I
V
A
T
E
D
 
S
L
U
D
G
E
 
D
E
S
I
G
N
:
 
- 
, 
,
 --
.-
-,
 
/
x
i
1
5
1
 /
i
1
8
\
)
 fi
x [
il
l 
* 
' 
'-
 
' 
' 
' 
~
~
 
' 
C 
S
L
U
D
G
E
 
M
I
X
I
N
G
:
 
G
 
1
3
 =
X
 
2
3
 
- 
6
0
 *
X
(
1
 )
*
 l
.
E
-
2
*
X
(
1
6
)
)
 
G
[
~
~
~
=
u
[
~
o
~
*
[
~
.
~
x
~
~
~
~
x
[
~
~
)
)
*
~
~
.
E
~
*
x
(
~
~
)
)
-
x
(
~
~
)
 
C
 c 
G
R
A
V
I
T
Y
 T
H
I
C
K
E
N
E
R
R
 
D
E
S
I
G
N
:
 
- C P
R
I
M
A
R
Y
 D
I
G
E
S
T
E
R
 
D
E
S
I
G
N
:
 
- L C 
S
E
C
O
N
D
A
R
Y
 D
I
G
E
S
T
E
R
 
D
E
S
I
G
N
:
 
V
A
C
U
U
M
 
F
I
L
T
E
R
 
D
E
S
I
G
N
:
 
L
 
C
 
M
A
S
S
 
U
'
C
E
 
O
F
 
R
E
C
Y
C
L
E
 
S
T
R
E
A
M
:
 
C
 
G
 
3
7
 =
 (
6
0
.
 'X 
1
)
 ) 
-
I
N
F
L
O
W
 (1
) 
-
X
 (
2
7
)
 -
X
 (
4
3
)
 -
X
 4
9
)
 
~
1
3
8
1
 
=
U
(
8
0
)
 
16
0.
 *
X
(
l
)
 ) 
*X
(2
) 
-
U
(
8
0
)
 *
m
F
L
o
"
[
l
)
 
*
I
I
I
F
L
O
W
(
 
- 
*
X
 (
2
7
)
 *
X
(
1
2
)
 
-$
:F
ix
 
(
4
3
)
 *
U
 (
6
6
)
 -
U
 (
8
0
)
 lU
(6
6)
 *
x
(
m
 
*
~
(
3
9
)
 
=
U
 18
01
 
*
L
O
.
 *
X
 (
1
)
 *
X
 (3
) 
-U
 (
8
0
)
 *
I
r
m
,
o
w
(
J
 
-I
IE
LO
W(
I)
 
- 
*
X
(
2
7
)
 *
X
(
3
1
)
 
'G 
4
0
 =
$4
g0
!6
0.
*X
 
1
 
*
X
 4
 
-
U
 8
0
 
'I
NF
LO
W 
1
 
*
I
N
F
L
O
W
 4
 
c[
41
1 
=
u
[
a
o
l
 *
L
o
.
 *
x
 11
1 
*
x
 b1 
-u
 [a
oj
 *I
r
m
.
,
o
v
 11
1 
*
i
t
r
L
o
w
[
j
j
 
-
U
 8
0
 '
X 
1
3
 
*
X
 2
7
 
'X 
3
1
 
t
 
-U
 17
01
 *
X
 14
31
 *
X
 14
61
 -
X
 14
61
 *
X
 (
4
9
)
 
gg: HHHLl 
"""'a 
N 
ul 
'2 rO 
01 
ON . 4NN m m. N. *a 
N . L WPX. * *01 *ul-* 
h -* n*N- I-. c.h P-OI-. - -. M *I- 
mp-. 
00"" 
OW 
VI a 
E TI I :98:9S:RS mmm-mcnrn-cn 8 !225!B!BE'R $z:ZEQXP$ZE 
HHHH~HH~H 
mgg~mg5~$ 5 :;gmp;:ggm5pm5$g LqGd d:Vb 'a~~~~m'a~m'a~m I:qwqH I;g A$ 11115 ;i;gLr g 11 Ilm. 1111 llllm llllmtl n - ON .jmN 
m~ I- I-w PI- mew . PWN m m m. ;I 5 ; %& pp . P. m. WNONN - wm L P* PQ . L* m. *w rn N . P ErN,? dm ulm 
WN 01. X UNXN H * *"I *W%* 8 4. % ,U)mw * FJ . . * - *10-(*: m A* - *M < < *. . *W mW n*W. !a P-NP 3 rO ro"b *r 
cnmr mcm2 3 ,a - rrz P-L* mmC4 P . 1-01. !a !-'yz .I-y -. P-- m m. m. -m .. 2 2"!3 mmY m. -I- 
68E * * $g?gr - D Eb DD "Y %D"k N 3 Nm s":%"x' NM-N 
P m9; mm 0z 
* *- * *- x' 2 2 m m - -x ^xmh 
*o 6: . * *h *. N N- N-. N .- 
isp a&-** n nN M WWP W-01% a3 mN pNNm m. wi%olE w ww ww LL~ wm- - -m -ad- L PW PL -m -*4w Y -U) K. - YI -a- Z za *- *-. 
Y Y. . **. ? **- ~4 * *- ** **- **- . .* Z 
* . . ** . . .* ..& I-& 
-1 rn m b~ HgLLm: mm 
Z BID 
Z 
L, 2 !I !I C0NW 
OPWW 
. mlrw . 01, 
P *lo 
- m 
A
u
g
 
2
2
 
1
6
:
 3
0
 1
9
8
4
 
G
C
O
M
P
7
 P
a
g
e
 5
 
E
L
S
E
 
C
S
S
~
=
l
4
2
.
*
V
S
A
N
D
'
*
.
3
7
 
E
r
n
I
F
 
C
 
C
 
V
A
C
U
U
M
 
F
I
L
T
E
R
:
 
C
S
V
F
-
2
3
0
.
 ~
~
1
6
i
1
6
~
'
.
 
7
1
7
1
8
2
.
 *
Q
1
6
X
1
6
*
*
 .
8
6
 
W
)
V
F
=
1
9
7
.
5
5
*
Q
1
6
X
1
6
*
*
.
5
8
 
I
F
 (
Q
1
6
X
1
6
.
 G
E
 ,
5
1
9
.
 ) 
T
X
N
 
C
M
V
F
=
5
.5
5
5
5
7
*0
1
6
X
1
6
*-
.8
4
 
E
L
S
E
 
I
F
 (
Q
1
6
X
1
6
 .
G
E
 ,
1
0
3
 .)
 
T
H
E
N
 
C
M
V
F
=
2
0
.
'
0
1
6
X
1
6
*
*
.
6
3
 
- 
E
L
S
E
 
D
N
F
~
4
1
.
5
*
Q
1
6
X
1
6
*
*
 
.
4
8
 
E
N
D
I
F
 
E
N
D
I
F
 
- L 
C
 (
4
7
)
 =
V
 (
1
)
 
(
C
C
A
T
t
C
C
D
M
+
C
C
F
S
T
+
C
C
R
S
P
 7 C
C
R
P 
t
 
t
C
C
G
T
t
C
B
A
N
D
t
C
C
S
A
N
D
t
C
C
V
F
t
7
2
0
5
3
 .
*
X
(
5
0
)
 
.
7
4
)
 
t 
+
U
(
4
)
*
(
C
O
D
A
A
+
U
O
A
A
r
C
O
F
S
T
 
t 
+
W
S
T
t
C
O
R
S
P
+
a
G
t
S
P
 T
C
Q
C
T
+
(
~
*
I
G
T
+
C
O
P
A
N
D
 
. 
,
 
RE
TU
RN
 
' 
E
m
 
C C 
S
U
B
R
O
U
T
I
N
E
 
R
E
P
O
R
T
 
- L 
W
'
B
R
O
'
J
T
I
N
E
 R
E
P
O
R
T
(
G
,
X
,
M
,
 ~
~
.
C
O
N
,
V
A
R
,
X
O
)
 
D
I
E
N
S
I
O
N
 
X
 (
N
)
 . G 
(M
) 
, C
Q
N
 (
N)
 ,
 V
A
R
 (
N)
 ,
 X
O
 (
N)
 
C
O
M
M
O
N
 :
I
N
I
T
B
K
/
I
N
I
T
 
I
F
 (
I
N
I
T
.
E
Q
.
 1)
' 
RE
TG
IU
 
W
R
I
T
E
(
4
.
1
0
)
 
(
I
,
X
(
I
)
 ,
I
=
l
,
N
)
 
1
0
 
F
O
R
M
A
T
 (
3
X
,
 I3
,4
X
, E
2
O
.
 1
0
)
 
R
E
T
U
R
N
 
E
N
D
 
APPENDIX I 
GRG h/lODEL FOR THE SYSTEM WHERE WASTE ACTIVATED 
SLUDGE IS RECIRCULATED TO PRIMARY CLARIFIER 
T h e  system is shown in Figure 1.1. There are 51 variables and 47 equations in the 
GRG model. A list of the model variables is provided in Table 1.1. 
Table 1.1 - Summary of Model Variables : Waste Activated Sludge Recirculated to the Primary Clarifier 
Variable Index Unit hleaninq 
m3/min 
g/m3 
g/m3 
g/m3 
g/m3 
g/m3 
g/m3 
m3/hr 
100m2 - 
m3/min 
m3/hr 
days 
days 
1000m3 
kg/m3 
g/m3 - 
- 
- 
- 
- 
g/m3 
kg/m3 
100m2 
g/m3 
m3/sec 
m3/hr 
kg/m3 
"C 
days 


A
u
g
 
22
 1
6:
 19
 
1
9
8
4
 
G
C
O
M
P
6
 P
a
g
e
 1
 
A
u
g
 
2
2
 1
6:
19
 
1
9
8
4
 
G
C
O
M
P
6
 P
a
g
e
 2
 
P
R
O
G
R
A
M
 H
A
I
N
 (
I
N
P
U
T
,
P
A
R
,
 0U
TP
UT
.L
AS
lV
AR
. 
T
A
P
E
7
,
 W
E
B
,
 
+ 
T
A
P
E
S
-
I
N
P
U
T
,
 TA
PE
6:
OU
TP
UT
. 
T
A
P
E
4
=
L
A
S
l
V
A
R
.
 
+ 
T
A
P
E
S
-
P
A
R
)
 
D
I
M
E
N
S
I
O
N
 Z
 (
20
00
0)
 
C
O
M
M
O
N
 Z
 
D
A
T
A
 N
U)
RE
/2
00
00
,'
 
C
A
L
L
 G
R
C
 (
Z,
NC
OR
E)
 
EN
D 
C
 
C
 S
U
B
R
O
U
T
I
N
E
 G
C
O
M
P
:
 
- L 
S
U
B
R
O
U
T
I
N
E
 G
C
O
M
P
 (
G,
X)
 
C
O
m
O
N
.
/
I
N
I
T
B
K
.
.
'
I
N
I
T
 
DI
ME
IJ
SI
ON
 
C
 1
47
1 
.X
 1
51
1 
R
E
A
L
 
I
~
T
L
O
W
~
~
)
 
 S
T^
 (2
1 
,U
(8
0)
 ,
V(
20
) 
l.
/v
(5
))
*V
(5
)/
(V
(5
) 
-
1
.
0
 
(I
. /
U 
(2
0)
 ) 
*
U
 (
20
) /
 (
U 
(2
01
 - 
1.
0)
 
+ D
O
 
1
0
0
 1
~
1
.
5
1
 
IF
(X
(1
) 
.
L
T
.
E
P
B
N
D
)
 T
H
E
N
 
D
O
 
2
0
0
 J
-
-
1
.
4
7
 
G
 (
J)
 =
1
.
 E
3
0
 
2
0
0
 
C
O
N
T
I
N
U
E
 
R
E
T
U
R
N
 
-
 
-
-
 
EN
D 
IF
 
L
 
C
 P
R
I
M
A
R
Y
 S
E
T
T
L
I
N
G
 T
AN
K 
D
E
S
I
G
N
:
 
- L. C 
A
C
T
I
V
A
T
E
D
 
S
L
U
D
G
E
 D
E
S
I
G
N
:
 
L
 
C
 S
L
U
D
G
E
 M
I
X
I
N
G
:
 
- L. C P
R
I
M
A
R
Y
 D
IG
ES
TE
R 
D
E
S
I
G
N
:
 
C
 
L
. C
 S
E
C
O
N
D
A
R
Y
 D
I
G
E
S
T
E
R
 D
E
S
I
G
N
:
 
C
 
C
 
C
 
C
 V
A
C
U
U
M
 F
I
L
T
E
R
 D
E
S
I
G
N
:
 
C
 c
 M
AS
S 
B
A
L
A
N
C
E
 O
F 
R
E
C
Y
C
L
E
 
S
T
R
E
A
M
S
:
 
- 
A
u
g
 
2
2
 
1
6
:
1
9
 
1
9
8
4
 
C
C
O
M
P
6
 
P
a
g
e
 
3
 
G(
41
) 
=
U
 (
8
0
)
 "
6
0
.
 *
X
 (
1
)
 'X 
(
6
)
 -
U
 (
8
0
)
 *
I
N
F
L
O
W
(
l
)
 *
I
N
F
L
O
W
(
6
)
 
t
 
-
X
 1
9
 
*
X
 2
8
 
*X
 (
2
4
)
 -
U
 (
7
0
)
 *
X
 (
4
1
)
 
(
1
.
-
X
 (
4
4
)
 ) 
+
 
-
x
S
I
 *
u
 I 79
 I (
I.
 -
X
 (
4
4
)
 ) 
G
 (
4
2
)
 =
X
 (
3)
 +
X
 (
4
)
 tX
 (
5
)
 tX
 (
6
)
 -
X
 (
7
)
 
C
 
C
 
T
H
I
C
K
E
N
I
N
G
 M
O
D
E
L
 
F
O
R
 
P
R
I
M
A
R
Y
 
S
E
D
I
M
E
N
T
A
T
I
O
N
:
 
C
 
G
(
4
3
)
=
X
(
5
0
)
-
V
(
6
)
*
(
(
l
.
E
Z
*
X
(
9
)
)
*
U
(
1
6
)
 /
X(
12
))
'*
(l
./
V(
5)
)*
1.
E-
2 
C
 
C
 
E
F
F
L
U
E
N
T
 W
A
T
E
R
 
Q
U
A
L
I
T
Y
 
S
W
A
R
D
S
:
 
C
 
'X 
2
3
 
-
S
T
D
(
l
)
 
G
 4
4
 =
X
 1
7
 
t
U
(
2
7
)
 
=x
 12
31
 
(
I
.
 +xi;!:] 
+
X
 11
91
 )
 -
s
m
 (2
)
 
C
 
C
 M
IX
Il
JG
 
R
E
Q
U
I
R
E
M
E
N
T
 
I
N
 M
R
A
T
I
O
N
 
TA
NK
: 
C
 
G
(
4
6
)
-
(
U
(
4
5
)
 
- 
(
6
O
.
*
X
(
2
7
)
)
/
 (
l
.
E
3
*
X
(
l
S
)
)
)
*
l
.
E
2
 
C
 
C
 
O
B
J
E
C
T
I
V
E
 
F
U
N
C
T
I
O
N
:
 
C
 
C
 P
R
I
M
A
R
Y
 
S
E
T
T
L
I
N
G
 T
AN
K:
 
C
 
C
C
P
S
T
=
8
2
4
.
 
(
l
.
E
2
*
X
(
9
)
)
 **
 .7
7
 
I
F
(
(
l
.
E
z
"
X
(
9
)
)
 .
G
E
.
2
7
9
.
 
T
H
E
N
 
C
C
P
S
T
-
1
7
.
1
5
*
 (
1
 .
E
2
*
X
 (9
 
*.
0.
6 
W
S
T
=
9
.
2
3
*
 (1
.E
2.
X 
(
9
)
 1 **
O
.
 6
 
E
L
S
E
 
C
O
P
S
T
=
9
2
.
4
5
*
 (
l
.
E
2
*
X
 (5
 )
 *
* .
3
 
r
w
s
r
=
l
o
s
.
*
(
l
.
E
2
*
x
(
e
)
]
 *
*
I
4
 
E
N
D
I
F
 
C
S
P
S
T
-
8
.
6
2
*
 (
l
.
E
2
*
X
(
9
)
)
 **
 .7
6
 
C
 
C
 P
R
I
M
A
R
Y
 
S
L
U
D
G
E
 P
U
M
P
I
N
G
:
 
C
 
C
C
P
S
P
=
1
6
0
4
2
.
 *
X
 (
1
2
)
 * 
.
5
3
 
C
P
P
S
P
-
x
 ( 
(
1
2
)
 
C
 
C
 A
E
R
A
T
I
O
N
:
 
C
 
C
C
A
T
=
4
6
1
.
*
 (
l
.
E
3
*
X
(
1
5
)
 *
*
.
7
1
 
C
O
A
A
=
8
5
3
3
.
*
(
6
0
.
*
X
(
2
7
 )
*
*
.
6
6
 
C
O
D
A
A
-
l
8
7
*
 [
6
0
.
*
x
i
2
7
1
1
 
*
*
4
8
 
0
f
D
A
A
~
7
4
.
4
~
 
6
0
.
*
X
 2
7
 
*
*
.
5
5
 
C
 
C
 F
I
N
A
L
 
S
E
T
T
L
I
N
G
 
TA
NK
: 
C
 
C
C
F
S
T
=
8
2
4
.
*
(
l
.
E
2
*
X
(
2
5
)
)
*
*
.
7
7
 
IF
 (
 (
1
.
 E2
'X
 
(
2
5
)
 ) 
. G
E
 .
2
7
9
 
T
IE
N
 
C
O
F
S
T
=
l
7
.
1
5
*
 (
1
.
E
Z
1
X
(
2
5
 I
'k
0.
6 
W
S
T
=
9
.
2
3
*
 (
1
E
2
*
X
(
2
5
)
i
4
*
0
.
6
 
E
L
S
E
 
C
O
F
S
T
=
9
2
.
4
5
*
 (
l
.
E
2
*
X
(
2
5
 )
 '*
 .
3
 
Q
.
F
S
T
=
1
0
6
.
 
l
l
.
E
2
*
X
[
2
5
1
]
 **
. 1
4
 
A
u
g
 
2
2
 
1
6
:
1
9
 
1
9
8
4
 
C
C
O
M
P
6
 
P
a
g
e
 
4
 
C
O
R
S
P
=
.
~
~
~
*
Q
~
 
C
M
R
S
P
=
.
2
3
7
5
'
Q
5
 
I
F
 (
Q
5
.
 L
T
.
 1
5
8
 .)
 
T
H
E
N
 
C
S
R
S
P
=
3
0
0
.
 
E
L
S
E
 
I
F
(
Q
5
.
L
T
.
6
3
1
.
)
 
T
H
E
N
 
C
S
R
S
P
=
4
0
.
5
7
*
Q
5
*
*
.
5
2
 
E
L
S
E
 
I
F
 (
Q
5
.
L
T
.
 1
5
8
0
.
)
 
T
H
E
N
 
C
S
R
S
P
=
5
.
 .
9
7
*
Q
5
*
*
 .
8
7
 
E
L
S
E
 
C
S
R
S
P
=
2
.
5
4
*
0
5
 
- 
E
N
D
I
F
 
E
N
D
I
F
 
E
N
D
I
F
 
C 
R
E
C
I
R
C
U
L
A
T
I
O
N
 P
U
M
P
I
N
C
:
 
- 
C
M
W
=
. 2
3
7
5
;
~
C
Y
c
~
~
 
IF
 (
Q
C
Y
C
L
E
 . L
T
 .
1
5
8
.
 ) 
T
H
E
N
 
C
S
W
=
3
0
0
.
 
~
-
~
-
 
E
L
S
E
 
I
F
 (
Q
C
Y
C
L
E
.
 L
T
.
 6
3
1
.
 ) 
C
S
W
=
4
0
.
 5
7
*
Q
C
Y
C
L
E
A
 
E
L
S
E
 
I
F
 (P
CY
CL
E . L
T
 .
1
5
8
0
.
 
C
S
R
P
=
5
.
9
7
*
Q
C
Y
C
L
E
*
A
 
E
L
S
E
 
C
S
R
P
=
2
.
5
4
*
Q
C
Y
C
L
E
 
E
N
D
I
F
 
E
N
D
I
F
 
E
N
D
I
F
 
C
P
R
P
=
Q
C
Y
C
L
E
 
C
 
C
 P
R
I
M
A
R
Y
 D
I
G
E
S
T
E
R
:
 
C
 
T
H
E
N
 
'
*
.
5
2
 
) 
T
H
E
N
 
'
.
8
7
 
IF
 (
(
1
.
~
3
*
~
(
3
2
)
'
)
 
.
~
~
.
5
6
7
8
'
.
 
1 
T
H
E
N
 
C
O
P
A
N
D
=
1
.
2
9
*
 (
l
.
E
3
*
X
(
3
2
 )
 *
*
3
 
W
A
N
D
=
.
8
3
*
(
l
E
3
*
X
(
3
2
)
I
*
*
.
8
2
 
E
L
S
E
 
I
F
(
(
l
.
E
3
*
X
(
3
2
)
)
 .
G
E
.
1
9
6
8
.
)
 
T
H
E
N
 
E
L
S
E
 
C
O
P
A
N
'
D
=
1
9
2
.
 
l
.
E
3
*
X
 
3
2
 
C
J
P
A
N
D
=
1
1
3
.
 
1
l
.
E
3
*
X
l
3
2
I
I
 
E
N
D
I
F
 
E
N
D
I
F
 
I
F
(
(
l
.
E
3
*
X
(
3
2
)
)
 .
G
E
.
2
8
3
9
.
)
 T
H
E
N
 
C
S
P
A
N
D
=
1
4
.
4
*
 (
l
.
E
3
*
X
 (
3
2
)
)
 **
. 6
6
 
E
L
S
E
 
C
S
P
&
"
D
=
1
4
2
.
*
 (
l
.
E
3
*
X
(
3
2
)
)
 *
*
.
3
7
 
E
N
D
I
F
 
C
 
R
E
T
U
R
N
 
S
L
U
D
G
E
 P
U
M
P
I
N
G
:
 
C
 
Q
5
=
 (
6
0
.
 *
X
 (
1
1
)
 ) 
*
X
 (
2
2
)
 
L
 
C
 
S
E
C
O
N
D
A
R
Y
 D
I
G
E
S
T
E
R
:
 
C
 
A
u
g
 
2
2
 
1
6
:
1
9
 
1
9
8
4
 
GC
OM
F'
6 
P
a
g
e
 5
 
E
L
S
E
 
IF
 (
V
S
A
N
D
.
 G
E
 .
1
9
6
8
.
 ) 
T
E
N
 
u
)
s
A
N
D
=
~
~
.
*
v
s
~
D
*
*
.
~
~
 
C
M
S
A
W
=
8
.
 5
*
V
S
N
i
D
*
*
.
 5
5
 
E
L
S
E
 
C
O
S
A
N
D
=
1
9
2
.
 *
V
S
A
n
i
D
*
*
 .
2
 
(
2
.
I
S
A
N
D
=
l
1
3
.
*
V
S
A
N
D
*
'
.
2
1
 
E.
W 
I
 F
 
IF
 (
V
S
A
N
D
.
 G
E
.
 2
8
3
9
.
 ) 
TH
EN
 
C
S
S
k
W
=
1
4
.
4
*
V
S
A
K
D
*
*
.
 
6
6
 
E
L
S
E
 
C
 V
A
C
lT
U
M
 F
I
L
T
E
R
:
 
C
 
Q
l
6
X
1
6
=
X
 (
4
8
)
 *X
 (
4
9
)
 
C
C
W
=
2
9
1
8
0
.
 *
X
 (
4
6
)
 **
 .7
1
 
C
S
V
F
~
2
3
0
.
*
Q
1
6
X
1
6
*
*
.
7
1
+
1
8
2
.
*
Q
1
6
X
1
6
*
=
.
8
6
 
C
O
V
F
=
1
9
7
.
5
5
*
Q
1
6
X
1
6
a
*
.
5
E
 
IF
 (
Q
l
6
X
l
6
.
 G
E
 .
5
1
9
.
 ) 
T
E
N
 
C
N
W
=
5
.
5
7
*
0
1
6
X
1
6
"
.
 
0
4
 
- 
E
L
S
E
 
IF
 (
Q
l
6
X
1
6
 .
C
E
.
 1
0
3
 .)
 
T
H
E
N
 
U
4
V
F
-
:
2
O
.
*
Q
l
b
X
l
b
*
*
.
 6
3
 
E
L
S
E
 
L
 
G
 (
4
7
)
 =
V
(
l
)
 * 
(
C
C
P
S
T
 b
C
C
P
SP
+C
C
A
T
+C
(I
D
A
A
*m
ST
+C
(3
R
SP
+C
(;
X
P
 
t
 
+
C
C
P
A
N
D
+
C
C
S
A
N
D
r
C
C
V
E
t
7
2
0
5
3
.
 'X
(4
8)
 
*' 
.
7
4
)
 
+
 
t
U
(
4
)
 * 
(
C
O
P
S
T
r
C
I
.
F
S
T
t
C
C
P
S
P
t
W
S
P
+
C
O
D
A
A
t
0
3
D
A
A
+
C
O
F
S
T
 
t
 
+
~
S
T
t
C
O
R
S
?
t
(
S
E
R
S
?
t
C
O
P
k
'
i
D
+
Q
.
P
A
N
D
+
C
O
S
9
N
D
+
(
2
.
I
S
A
h
?
)
 
t
 
+
C
O
V
F
~
C
M
V
F
*
C
O
~
G
T
Q
?
F
P
.
~
O
~
~
.
*
X
(
~
~
)
 
*
*
.
6
6
7
)
 
+
 
+
V
 (
2
)
 * (
C
SP
ST
T
C
SF
'S
P
T
C
SF
ST
+C
SR
SP
 t
C
S
P
A
N
D
 + 
C
S
S
A
N
D
 b
C
S
W
 
+ 
+
C
S
V
F
I
 
+ 
t
V
 
3
 
* (
C
P
P
S
P
t
C
P
K
S
P
t
 C
?
W
) 
+ 
tul
lj 
:u
(5
) 
(
3
.
6
2
E
-
2
)
 'X
(4
8)
 
A
X
(
4
g
)
 -
U
(
6
1
)
 
+ 
3
.
6
E
3
 i
1 
.
C
5
5
*
X
 (
3
8
)
 
R
E
T
U
R
N
 
E
 h?
) 
L
 
C
 
S
U
B
R
O
U
T
I
N
E
 R
E
P
O
R
T
 
C
 
S
U
B
R
O
U
T
I
N
E
 
R
E
P
O
S
T
 (
C
,
 X
.H
.N
. 
C
O
N
,
V
A
R
,
X
O
)
 
D
I
M
E
N
S
I
O
N
 
X
 (
N
)
 , G
 (
H)
 ,
C
O
N
 (
M)
 ,
V
A
R
 (
N)
 , X
O
 (
N)
 
C
O
b
P
l
O
N
i
I
N
I
T
B
K
/
I
N
I
T
 
I
F
 (
I
N
I
T
.
E
Q
.
l
)
 R
E
T
U
R
N
 
W
R
I
T
E
(
4
.
1
0
)
 
(
I
,
X
(
I
)
 ,
I
=
l
,
N
)
 
1
0
 
F
O
W
A
T
 (
3X
. 
13
.4
X.
 E
2
O
.
 1
0
)
 
R
E
 T
U
R
N
 
E
N
D
 
REFERENCES 
Abadie, J., and Carpentier, J., "Generalization of the Wolfe Reduced Gradient Method t o  
the  Case of Nonlinear Constraints", in Opt imiza t ion ,  edited by R. Fletcher, Academ- 
ic Press, 1069 
Adams B. J., and Panagiotakopoulos D., "Network Approach t o  Optimal Wastewater Treat-  
ment System Design", Jour. W a t e r  Pol lut ion Control  Federat ion,  Vol. 49, No. 4, pp. 
623-632, Apr. 1977 
Agnew, R. W., .4 Mathemat ica l  h fode l  of a Final Clarifier,  Water Pollution Cont.rol Series 
17090 F J W  02/72, U. S. Environmental Protection Agency, Washington D. C., 1972 
Aris, R., Nemhauser, G. L., and Wilde, D. J., "Optimization of h4ultistage Cyclic and 
Branching System by Serial Procedure", A. I. Ch. E .  Jour., Vol. 10, No. 6, pp.  913- 
919. Nov. 1964 
Avriel, M., and Williams, A. C., "Complementary Geometric Programming", S I A M  Jour.  of 
Appl ied Mathemat ics ,  Vol. 19, pp.  125-141, 1970 
Avriel, M., Dembo, R., and Passy, U., "Solution of Generalized Geometric Programs", In ter -  
nat ional  Jour. fog Numer ica l  h le thods  i n  Engineer ing ,  Vol. 9, pp. 149-168, 1975 
Avriel, M., ~ V o n l i n e a r  P r o g r a m m i n g ,  Analys i s  and hlethods,  Printice-Hail, Inc., 1976 
Berthouex, P .  M., and Polkowski L. B.,, "Optimum Waste Treatment  Plant  Design Under 
Uncertainty", Jour. W a t e r  Pollution Control Federat ion,  Vol. 42, No. 9, pp. 1589- 
1613, Sept. 1970 
Bisogni, J. J., and Lawrence, A. W., "Rclationship Between Biological Solids Retenlion Time 
and Settling Characteristics of Activated Sludge," lVater Research ,  Vol. 5, No. 9 ,  
pp. 753-763, Sept. 1971 
Blau, G. E., and Wilde. D. J., "Generalized Polynomial Programming," T h e  Canadian  Jour. 
of , fC'hemical Engineer ing ,  Vol. 47, pp.  317-326, June l!)G9 
Box, M. J., "A New Method of Constrained Optimization and a Comparison with Other 
Methods", C o m p u t e r  Jour.; Vol. 8 ,  No. 1, pp. 42-52, 1965 
Bowden, K., Gale, R. S., and D. E. Wright, "Evaluation o f  the CIRL4 Prototype hlodel for 
the  Design of Sewage-Treatment Works", lVater Pol lut ion Control ,  Vol. 75, No. '7, 
pp. 192-203, 1076 
Bowden, Ii. ,  and Wright, D.E., "CIRIX Ilodel for Cost-ellcctive CVastcwatcr Treat~ncnt" ,  
l l f a t h c m a l i c a l  i l l ode i s  i n  l Y a t e r  Po l lu t i on  Corlt;ol, edited by 12. Janics, John-il'iley 
and Sons. 1978 
Brill. E. D. Jr.,  "The Use of Optimization Models in Public-sector P!anningU, M a n a g e m e n t  
S c i e n c e ,  Vol. 25, No. 5, pp. 413-422, 1079 
Brosilow, C. B., and Lasdon, L. S., "A Two Level Optimization Technique for Recycle 
Processes", Proceedings, A. I. C h .  E. - I. C h e m .  E n g .  S y m p . ,  Ser. 4 ,  1965 
Brosilow, C. B., Lasdon, L. S., and Pcarson, J .  D., "Feasible Optimization hlethods for Inter- 
connected Systems", Proceeding, Jo in t  A u t  o m .  C o n t r o l  C ~ n j . ,  pp. 79-84, 1965 
Burns, S., and Ramamurthy S. ,  "Intcrnctive Generalized Geometric P rogra~nming  (1GGP)- 
User's hlanual", 2nd ed., Department of Civil Engineering, L'niversity of Illinois, 
Mar. 1983 
Burns, S.  A,, and Ramamurthy S., "Generalized Geometric Programming with Equality 
Constraints!' ,  submitted to  J o u r .  of O p t i m i ~ a t i o n  T h e o r y  a n d  A p p l i c c t i o n s  for publi- 
cation, 1983 
Busby, J. B., and J. F. Andrews, "Dynamic Llodeling and Control Strategies for the  Activat- 
ed Sludge Process", Jour .  W a t e r  P o l l u t i o n  C o n t r o l  F e d e r a t i o n ,  Vol. 47, No. 5, pp. 
1055-1050, hlay 1975 
Bush, h1. J., and Silveston, P .  L., "Optimal Synthesis of Waste Treatment  Plants", C O ? I I ~ U ~ -  
e r s  a n d  C h e m i c a l  E n g i n e e r i n g ,  Vol. 3, No. 4 ,  pp. 153-159, 1978 
Camp,  T. R., "Sedime~~tat ion a ~ ~ d  the Design of Setlling Ta~ iks ! ' ,  Trar tsacl ior ts ,  A S C E ,  Vol. 
111, pp. 895-036, 19.16 
Carman,  P .  C., "A Study of the klachanism of Filtration", Jotrr. of  t h e  S o c i e t y  of C h e m i c a l  
I n d u s t r y ,  Vol. 52, P a r t  2, pp. 3SOT-2S2T, Sept. 8, 1033 
Cashion. B. S., and Iieinath. T .  \I., "Inflr~encc of Three Factors on Clnrificntion in the t\c- 
tivalcd Slutlgc I'roccss", Jorrr. Ii'atcr I'ollutiort C ~ t t t r o l  F 'edcrafzon,  Vol. 5 5 ,  No. 11, 
pp. 1331-1337, NOV. 1083 
Chapman,  D. T. ,  "Thc Influence of'Process Variables on Secondary Clarification", Jour .  1Ya- 
t e r  P o l l u t i o n  C o n t r o l  Federatiorz,  Vol. 55, No. 12, pp. 142'5-1434, Dcc. 1083 
Chen, Y. R., and IIashimoto, '4: G., "Iiinetics of hiethane Fermentation", B i o t e c h n o l o g y  a n d  
B i o e n g i n e e r i n g  S y m p o s i u t n ,  No. 8 ,  pp. 260-282, 1078 
Chcn, Y. R., and Hashimoto, A. C., "A Substrate Utilization Kinetics Model for Biologicai 
Treatment  Processes", Uiotechnology and Bioengineering, Vol. 22, No. 10, pp. 2081- 
2095, 1980 
Christenscn, G. L.. "Units of Specific Resistance". Jorrr. Water Pollution Control Federation, 
Vol. ,55, No. 4, pp. 417-410, Apr. 1083 
Coackley, P. ,  and Jones, B. R. S., "Vacuum Sludge Filtration", Sewage and Industrial 
Wastes, Vol. 28, No. 8, pp. 963-976, Aug. 1956 
Computing Services Office, GRG User's Guide, University of Illinois, Urbana,  IL 61801. Dec. 
1982 
Construction Industry Research and Information Association, Cost Effective Sewage Treat- 
ment - The Creation o f  an Optimizing hlodel, Report No. 46, CIRL4, London, Eng- 
land, 1973 
Craig, E. W., Meredith, D. D., and A. C. Middleton, "Algorithm for Optimal Activated 
Sludge Design", Jour. of the Environmerital Engineering Division, ASCE, Vol. 104, 
No. EE6,  pp. 1107-1117, Dec. 1978 
Davidon, W. C., "Variable Metric Methods for Minimization", AEC Research and Develop- 
ment Report, ANL-5900 (Rev.), NOV. 1959 
Dembo, R. S., "Current Sta te  of the Art  of Algorithnis and Computer Software for 
Geometric Programming", in Advances in Geometric Programming, edited by M .  
Avriel, Plenum Press, 1080 
Dick, R. I., "Hole of Activated Sludge Final Settling Tanks", Jour. o f  the Sanitary Engineer- 
ing Division, ASCE, Vol. 06, NO. SA2, pp. 423-436, Apr. 1970 
Dick, R. I., and Young, K. W., "Analysis of Thickening Performance of Final Settling 
Tanks," Proceedings, 27th Industrial Wastes Conference, Purdue University, pp. 
33-54, 1072 
Dick, R. I., "Sludge Treatment",  C l~ap tc r  12, Physicochernical Prucesses for 1Vater Quciity 
Control, edited by W .  J. Weber, Jr., Wilcy-Interscience, Ncw York, 1072 
Dick, R. I., and M. T .  Suidan, "Xiodeling and Simulation of Clarification and Thickening 
Processes", Mathematical IZIodeling for Water Pollution Control Processes, edited by 
T.  M. Keinath, and M. P .  Waniclista, Ann Arbor Science Publishers Inc., 1975 
Dick, R. I., Simmons, D. L.. Ball, R .  O., and K. Perlin, P r o c e s s  S e l e c t i o n  f o r  O p t i m a l  
~ t ! a n a g e n t e n t  of R e g i o n a l  IYas t ewa te r  Res id r la l s ,  First Annual Progress Report ,  
Department of Civil Engineering, Delaware University, Newark, Delaware, Oct. 1076 
Dick, R. I.; Simmons, D. L.? Ball, R. O., Perlin. K., and hl. W. O'I~Iara, P r o c e s s  S e l e c t i o n  f o r  
O p t i m a l  i t f a n a g e m e n t  of R e g i o n a l  l V a s t e w a t e r  R e s i d u a l s ,  Department of Civil En-  
gineering, Delaware University, Newark, Delaware, Aug. 1978 
Dick, R.  I., Hasit, Y., Driscoll, C. T. ,  Moore, I(. A., and D. J. Sander, I n t e g r a t i o n  of 
P r o c e s s e s  f o r  1Yas t ewa te r  R e s i d u a l s  A f a n a g e m e n t ,  First Annual Report, School of 
Civil and Environmental Engineering, Cornell University, Ithaca, New York, Mar.  
1979 
Dick, R. I., and Y. Hasit, I n t e g r a t i o n  o f  P r o c e s s e s  f o r  l V a s t e w a t e r  R e s i d u a l s  ~ t i a n a g e m e n t ,  
School of Civil and Environmental Engineering, Cornell University, Ithaca, New 
York, May 1981 
Dietz, J. D., and T .  M. Keinath.  "Clarification hlechanisms for a Flocculent Slurry", present- 
ed a t  the  55th Annual Conference of the Water Pollution Control Federation, St .  
Louis, hlissouri, Oct. 1982 
Duncan, J. W. K . ,  and Kawata ,  I<., Discussion or "Evaluation of Activated Sludge Thicken- 
ing Theories", J o u r .  of t h e  S a n i t a r y  E n g i n e e r i n g  D i v i s i o n ,  A S C E ,  pp. 431-433. Apr.  
1968 
Eckenfeldcr, W. \V., I n d u s t r i a l  lVa t e r  P o l l u t i o n  C o n t r o l ,  klcGraw-IIill, 1966 
Ecker, J. G., and J. R. McNamara, "Geometric Programming and the Preliminary Design of 
Industrial Waste Treatment  Plants", lVa t e r  R e s o u r c e s  R e s e a r c h ,  Vol. 7 ,  No. 1, pp. 
18-22, Feb.  1971 
Ettlich, W. F . ,  T r a n s p o r t  o f  S e w a g e  S l u d g e s ,  EP.1 60012-77-216, U .  S. Environmental Pro- 
tection Agency, Cincinnati, Ohio, 1977 
Evenson, D. T., Orlob, G. T. ,  and J. R. hionser, "Preliminary Selection of Waste Treat r r~ent  
Systems", Jour .  Li'atcr Pol lr~l ior t  C'ontrol F I - d ~ r a l i o r ~ .  Vol. 41, No. 11, P n r t  1,  pp. 
1845-1858, NOV. 1969 
Fan,  L. T. ,  Chen,  K. C., Erickson,. L.  E. ,  and 31. Naito, "EBects of Axial Dispersion on the  
Optimal Design of the Activated Sludge Proce.ss", ] r a t e r  R e s e a r c h ,  Vol. 4, pp. 271- 
- 284, 1970 
Fletcher, R . ,  and 11. J. D. Powell, "A Rapidly Convergent Descent hiethod for hlinimiza- 
tion", C o m p u t e r  Jour . ,  Vol. 6 ,  pp.  16.3-368, 19G3 
Goelfrion, A. hl., "Large-scaie Linear and Nonlinear Programming", Optimization illelhods 
f o r  Large-Scale Systems, edited by D. A. Wismer, McGraw-Hill, 1971 
Gossett, J .  h,l., and Belser, R. L., "Anaerobic Digestion o l  Waste Activated Sludge", Jour. o f  
Ihe Etrvironmet~tal Erlgineering Division, ASCE, Vol. 108, No. EE6, pp. 1101-1120, 
Dec. 1982 
Grady, C. P .  L., Jr., "Simplified Optimization of Activated Sludge Process", Jour, o f  the En- 
vironmental Engineering Division, ASCE, Vol. 103, No. EE3, pp. 413-429, June 
1977 
Great Lakes - Upper Mississippi River Board of Sta te  Sanitary Engineers, Recommended 
Standards For Sewage Works, 1978 
Haimes, Y. Y., Hierarchical Analysis o f  IYater Resources Systems, h,lcGraw-Hill, 1977 
Hasit, Y., Rajagopal, R., and P .  A. Vesilind, "Sludge Management Systems: Optimal Plan- 
ning", Jour. o f  the Environmental Engineering Division, ASCE, Vol. 107, No. EE3,  
pp. 493-509, June 1981 
Hazen, A., "On Sedimentation", Transactions, ASCE,, Vol. 53, pp. 45-71, 1904 
Himmelblau, D. M., Applied Nonlinear Programming, McGraw-Hill, 1972 
Hooke, R., and T. A. Jeeves, "Direct Search Solution of Numerical and Statistical Prob- 
lems", Jour. o f  the Association f o r  Computing Machinery, Vol. 8, pp. 212-229, 1961 
Hughes, h4. 3I., "The Least Cost Design of the Activated Sludge Process with Geometric 
Programming", Presented to  the Faculty of the University of North Carolina a t  
Chapel Hill in Partial  Fulfillment of the Requirements lor the Degree o l  Master o l  
Science in Environmental Engineering, 1978 
Hughey, P .  W., Meredith. D. D., and A. C. hliddlcton, "Algorithm lor Optimal A ~ t ~ i v a t e d  
Sludge Operation", Jour. o f  the Envirotarrrental Engineering Division, ASCE, Vol. 
108, No. EE2, pp. 340-366, Apr.  1982 
Joeres, E .  F., and David, h4. [I., editors, Buying A Better Environment - Cost-Effective Re- 
gulation Through Permit Trading, Land Economics hlonographs, No. 6 ,  The  Univer- 
sity of Wisconsin Press, 198'3 
Keinath, T. M., Ryckman, kt. D., Dana, C. H., and D. A. Holer, "Activated Sludge- Unified 
System Design and Operation", Jour. oj the Environmental Engineering Division, 
ASCE, Vol. 103, No. EE5, pp. 829-849, Oct. 1977 
Iioelling, C. P .  "0ptimiz:rtlon of Wastewater Treatment Process", Presented a t  the 
ORSA/TIXIS National J o i ~ l t  hieeing, San Diego, California. Oct.  27, 1982 
Lasdon, L. S., O p t i m i z a t i o n  T h e o r y  F o r  L a r g e  S y s t e m s ,  Machlillan Publishing Company, 
19'70 
Lasdon, L. S., Waren,  A. D., Jain, A., and M. Ratner,  "Design and Testing of a Generalized 
Reduced Gradient Code for Nonlinear Programming", AC, l1  T r a n s a c t i o n s  o n  
M a t h e m a t i c a l  S o f t w a r e ,  Vol. 4 ,  No. 1, pp. 34-50, Mar. 1978 
Lasdon, L. S., and Beck, P .  O., "Scaling Nonlinear Programs", O p e r a t i o n s  R e s e a r c h  L e t t e r s ,  
Vol. 1, No. 1, pp.  6-9. Oct. 1981 
Lauria, D. T. ,  Uunk, J. B., and J. I<. Schaefer, "Activated Sludge Process Design", J o u r .  o f  
t h e  E n v i r o n m e n t a l  E n g i n e e r i n g  D i v i s i o n ,  A S C E ,  Vol. 103, No. EE-I, pp. 655-645, 
Aug. 1977 
Lawler, D. F., and Singer, P .  C., "Return Flows from Sludge Treatment",  J o u r .  l Y a t e r  P o l -  
l u t i o n  C o n t r o l  F e d e r a t i o n ,  Vol. 56, No.2, pp. 118-156, Feb. 1984 
Lawrence, A. W., and McCarty,  P .  L., "Kinetics of hlethane Fermentation in Anaerobic 
Treatment",  J o u r .  W a t e r  P o l l u t i o n  C o n t r o l  F e d e r a t i o n ,  Vol. 4 1 ,  No. 5, pp. R1-17, 
Feb.  1969 
Lawrence, A. W., and McCarty, P .  L., "A Unified Basis for Biological Treatment  Design and 
Operation", J o u r .  of t h e  S a n i t a r y  E n g i n e e r i n g  D i v i s i o n ,  A S C E ,  Vol. 96, No. SA3, 
pp. 757-778, June 1970 
Lech, R. F., "Applicability of Control Strategies to the Activated Sludge Wastewater Treat-  
ment Process", A Thesis Submitted to the Faculty of Purdue  University in Part ial  
F~llfillrnent of the Requirements for the Degrre of Doctor of Philosophy, 1973 
Logan, J. A., IIatfield, W. D., Russell, G. S., and \V. R. Lynn, "An Analysis of the Economics 
of \Vas~cwatcr Trratrnent",  J o n r .  Il'otcr P o l l u t i o n  C o n t r o l  F e d e r a t i o n .  Yol. 31, No. 
9,  pp. 860-882, Sept. 1962 
Lynn, W. R., Logan, J .  A., and .4. Charnes, "Systems .4nalysis for Planning Wastewster 
Treatment  Plants", J o u r .  l V a t e r  I Jo l l u t i on  C o n t r o l  F e d e r a t i o n ,  i'ol. 34, No. 6, pp. 
565-581, June 1965 
~ c ~ h e e ,  T .  J . ,  hiojgani, P . ,  and Vicidomina, F . ,  "Use of EPA's C M D E T  Program for 
Evaluation of \Vastewater Treatment Alternatives", J o u r .  ll.'ater P o l l u t i o n  C o n t r o l  
F e d e r a t i o n ,  Lrol. 55, No. 1, pp. 35-43, Jan.  1983 
McKinncy, R. E., "Mathematics of Complete hlixing Activated Sludge", Jour. o f  the Sani- 
tary Engineering Division, ASCE, Vol. 58, No. SA3, pp. 87-113, May 1962 
h.1etcalf and Eddy,  Inc., Water Pollution Abatement Technology: Capabilities and Costs- LrO1. 
3, Report  to National Commission on Water Quality on Assessment of Technolo~ies  
and Costs for Publicly-Owned Treatment Works, PB-250-690-03, National Technical 
Information Service, Springfield, Virginia, 1975 
Middleton, A. C., and A. W. Lawrence, "Cost Optimization of Activated Sludge Systems", 
Biotechnology and Bioengineering, Vol. 16, No. 6 ,  pp. 807-826, June 1374 
Middleton, A. C., and A. W. Lawrence, Least Cost Design o f  Activated Sludge Wastewater 
Treatment Systems, E P M  Technical Report No. 75-1, Department of Environmental 
Engineering, Cornell University, Ithaca, N. Y., 1975 
Middleton, A. C., and A. W. Lawrence, "Least Cost Design of Activated Sludge Systems", 
Jour. Water Pollution Control Federation, Vol. 48, No. 5, pp. 889-905, May 1976 
Mishra, P .  N., Fan  L. T., and L. E .  Erickson, "Biological Wastewater Treatment  System 
Design - P a r t  I. Optimal Synthesis", The Canadian Jour. o f  Chemical Engineering, 
Vol. 51, pp. 694-701, Dec. 1973 
Naito, M., Takamatsu ,  T. ,  and L. T .  Fan ,  "Optimization of the Activated Sludge Process- 
Optimum Volume Ratio of Aeration and Sedimentation Vessels", IVater Research, 
Vol. 3, pp. 433-443, 1969 
Nelder, J. A., and R. Mead, "A Simplex hlethod for Function Minimization", Computer 
Jour., Vol. 7, pp. 308-313, 1965 
Parker ,  D. S., Kaufman,  W. J., and Jenkins, D., "Physical Conditioning of Activated Sludge 
Floc", Jour. Water Pollution Control Federation, Vol. 43, No. 9 ,  pp. 1817-1833, Sept.  
197 1 
Ps rkc r ,  D. S., "Assessment of Secondary Clarification Design Concepts", Jour. IVater Pollu- 
tion Control Federation, Vol. 55, NO. 4, pp. 349-359, Apr. 1983 
Parkin ,  G. F., and R. R. Dague, "Optimal Design of Wastewater Treatment  Systems By 
Enumeration". Jour. of the Sanitary Engineering Division, ASCE, Vol. 98, No. SA6, 
pp.  833-851, Dec. 1972 
Patterson,  W. L., and Banker, R. F., Estimating Costs and Manpower Requirements for 
Conventional lvastewater Treatment Facilities, Report  No. 17090 Dan 10/71, U. S. 
Environmental Protection Agency, Washington D. C., Oct. 1971 
Patterson, I i .  E. ,  "Dynamo 1: A Cost Elfective Solution to Treatment Problems", W c t e r  8 
1Ynstes  E n g i n e e r i n g ,  pp. 121-126, Sept. 1977 
Pfefier, J. T. ,  "Increased Loading on Digesters with Recycle of Digested Solids", Jour .  W a t e r  
P o l l u t i o n  C o n t r o l  F e d e r a t i o n ,  Vol. 40, No. 11, P a r t  1, pp. 1920-1033, Nov. 1968 
Pfeffer, J. T., "hlethane Fermentation - Engineering -4spects of Reactor Design", Presented 
a t  the 31th International Conference of CEBEDEAU, Liege, Belgium, May 25-27, 
1981 
Pflanz. P. ,  "Performance of (Activated Slutlge) Secondary Sedimentation Basins", in A d -  
v a n c e s  i n  W a t e r  P o l l u t i o n  R e s e a r c h ,  Proceedings of the Fourth International 
Conference, pp. 569-581, edited by S. H. Jenkins, 1969 
Powell, M.J. D., "An Efficient Method for Finding the Minimum of a Function of Several 
Variables Without Calculating Derivatives", C o m p u t e r  Jour . ,  Vol. 7, No. 4, pp. 303- 
307, 1964 
Ratner,  M., Lasdon, L. S., and A. Jain, "Solving Geometric Programs Using GRG: Results 
and Comparisons", J o u r .  of O p t i n z i t a t i o n  T h e o r y  a n d  A p p l i c a t i o n s ,  Vol. 26, No. 2, 
pp. 253-264, Oct. 1978 
Reheis, H. F., Dozier, J. C., Word, D. M., and J .  R. Holland, "Treatment Costs Savings 
Through Monthly Variable Eflluent Limits", Jour .  IVater  P o l l u t i o n  C o n t r o l  F e d e r a -  
t i o n ,  Vol. 54, No. 8,  pp. 122.1-1230, .4ug. 1982 
Rimkus, R. P . ,  Ryan, J.M., and Michuda, A. J., "Digester Gas Utilization Program", J o u r .  of 
t h e  E n v i r o n m e n t a l  E n g i n e e r i n g  D i v i s i o n ,  A S C E ,  Vol. 106, No. GE6, pp. 1071-1078, 
Dcc. 1980. 
Rossman, L. ,I., Computer-Aided S y n t h e s i s  of 1Vnstewater  T r e a t m e n t  arid S l u d g e  D i sposa l  
S y s t e m s ,  EPA-GOO/?-70-158, U. S. Environmental Protection Agency, Cincinnati, 
Ohio, Dec. 1079 
Rossman, L. A . ,  "Synthesis of Waste Treatment Systems by Implicit Enumeration", J o u r .  
1Vater P o l l u t i o n  C o n t r o l  F r d e r n t i o n ,  Vol. 5 2 ,  No. 1, pp. 148-160, Jan. 1980 
Rudd,  D. F., and C. C. Watson, S t r a t e g y  o f  P r o c e s s  E n g i n e e r i n g ,  John Wiley and Sons, 1968 
Scherfig, J . ,  Schinzinger, R.,  and T .  W. hlorgan, "Waste Treatment Optimization by 
Geometric Programming", in . .idvnnces in 1Vater P o l l r ~ t i o n  R e s e a r c h ,  Proceedings of 
the Fifth International Conference Vol. 2, pp. 11-??/I- 11-22/18, edited by S. FI .  Jt-n- 
kins. 1970 
Schittkowski, I<., "The Current State of Constrained Optimization Software", in Noniinear 
Programming, edited by h4. J. D. Powell, Academic Press, 1982 
Schoeffler, J. D., "Static h4ultilevel Systems", in Optimization Methods for Large-Scale Sys- 
tems, edited by D .  A. Wismer, McCraw-Hill, 1971 
Shih, C. S., and Krishnan, P. ,  "Dynamic Optimization for Industrial Waste Treatment  
Design", Jour. Water Pollution Control Federation, Vol. 41, No. 10, pp. 1787-1802, 
Oct. 1969 
Shih, C. S., and DeFilippi, J. A., "System Optimization of Waste Treatment Plant  Process 
Design", Jour. of the Sanitary Engineering Divsion, ASCE,  Vol. 96, No. SA2, pp. 
409-421, Apr. 1970 
Shih, C. S., and Icrishnan, P . ,  "System Optimization for Pulp  and Paper  Industrial Waste- 
water Treatment Design", Water Research, Vol. 7,  pp. 1805-1820, 1973 
Smeers, Y., and Tyteca, D., "A Geometric Programming Model for the Optimal Design of 
Wastewater Treatment Plants", Operations Research, Vol. 32, No. 2, pp. 314-342, 
March-April 1984 
Smith, R., Preliminary Design and Simulation of Conventional IVaste Renovation System 
Using the Digital* Computer, Report No. WP-20-9, U. S. Department of the Interior, 
Federal Water Pollution Control Administration, Cincinnati, Ohio, March 1968 
Sterling, R. A., "Computerized Algorithms Simplify Meeting Federal Effluent Standards", 
Water d Sewage IVorks, pp. 68-72, Oct. 1972 
Suidan, M. T.,  Department of Civil and Environmental Engineering, University of Illiuois, 
Urbana, Illinois, Personal Communication, 1982 
Suidan, M. T., Saunders, F. M., Godfrey, C. S., and 1-1. T .  Stewart, "Wastewater Treatment  
Optimization and Sensitivity Analysis", Jour. of the Environrrlental Engineering 
Division, ./ISCE7 Vol. 109, No. E E  1, pp. 120-135, Feb. 1983 
Swanson, C. L,., "Unit Process Operating and klaintenance Costs for Conve~~t iona l  Sewage 
Treatment Processes1', International FIVPCA ~\lemorandurn, Aug. 1966 
Takamatsu,  T. ,  and M. Nait.0, "EITects of Flow Conditions on the Efficiency of a Sedimenta- 
- tion Vessel", IVater Research, Vol. 1, pp. 433-450, 1967 
Tarrer,  A. R., Grady, C. P .  L., Jr., Lim, 11. C., and L. B. Koppcl, "Optimal Activated Sludge 
Design Under ~ n c e r t , a i b t ~ " ,  Jour. of the Environmental Engineering Division, 
.4SCG, Vol. 102, No. EE3, pp. 657-673, June 1076 
Tebbut t ,  T .  H. Y., and D. G. Christoulas, "Performance Relationships for Primary Sedimen- 
tation", lYater Research, Vol. 0, pp. 347-356, 1975 
Tebbut t ,  T .  H. Y., "Primary Sedimentation of Wastewater", Jour. IVater Pollution Control 
Federation, Vol. 51, No. 12, pp. 2858-2867, Dec. 1979 
Tuntoolavest, hi., Miller, E., and C. P .  L. Grady, Jr . ,  Characterization of IVastewater Treat- 
ment Plant Final Clarifier Performance, Technical lieport No. 120, Water Resources 
Research Center, Purdue University, West Lafayette, Indiana, June 1080 
Tyteca,  D., Smeers, Y., and E .  J. Nyns, "Mathematical hlodeling and Economic Optimiza- 
tion of Wastewater Treatment Plants", C R C  Critical Re~kiews in  Environmental 
Control, Vol. 8, No. 1, pp. 1-89, Dec. 1977 
Tyteca, D., "Nonlinear Programming Model of Wastewater Treatment Plant", Jour. of the 
Environmental Engineering Division, ASCE,  Vol. 107, No. EE4, pp. 747-766, Aug. 
1981 
Tyteca, D., and Smeers, Y., "Nonlinear Programming Design of Wastewater Treatment  
Plant",  Jour. of the Environmental Engineering Division, ASCE,  Vol. 107, No. EE4,  
pp. 767-779, Aug. 1981 
U. S. Environmental Protection Agency Technology Transfer, Sludge Treatment and Dispo- 
' 
sal, E P A  62511-74-006, Oct. 1974 
U. S. Army Corps of Engineers and U. S. Environmental Protection Agency, Computer- 
Assisted Procedure for the Design and Evaluation of IVastewater Treatment 
Systems- User's Guide, 43010-79-01, Office of the Chief of Engineers, Department of 
the Army, 1978 
Vesilind, P. A., Treatment and Disposal of Il'astewater Sludges, Revised Edition, Ann Arbor 
Science, Ann Arbor! h.[icliigan, 1070 
Vesilind, P .  A., Discussion of "Evaluation of Activated Sludge Thickening Theories", Jour. 
of the Sanitary Engineering Ditjision, ASCE,  Vol. 9.1, No. SA1, pp. 185-191, Feb. 
19G8 
Villier, R .  V., "Removal of Organic Carbon from Domestic \VastewaterM. Thesis Presented to 
the University of Cincinnati, Ohio, in Partial Fulhllment of the Requirements for the 
Degree of l las ter  of Science, 1367 
Voelkel, I<. C., "Senstivily ~Znalysis of \Vastcwater Treatment Plan1 Independent State Vari- 
ables and Technological Parameters", A Thesis Submitted in Partial Fulfillment of 
the Requirements for the Degree or Doctor or Philosophy a t  the University of 
Wisconsin a t  Madison, 1978 
Voshel, D., and J .  G. Sak, "Enect of Primary E m r ~ e n t  Suspended Solids and BOD on Ac- 
tivated Sludge Production", Jour. lVater Pollution Control Federation, Vol. 40, No. 
5, P a r t  2, pp. R203-212, May 1968 
Warren, A. D., and L. S. Lasdon, "The Status of Nonlinear Programming Sortware", Opera- 
tions Research, VoI. 27, No.3, pp. 431-456, May-June 1979 
Water Pollution Control Federation, Sewage Treatment Plant Design, Manual of Practice, 
No. 8,  Washington, D. C., 1959 
Westerberg, A. M., "Decomposition Methods for Solving Steady Sta te  Process Design Prob- 
lems", in Decomposition of Large Scale Problems, edited by D. M. Himmelblau, 
North-Holland, 1973 
Westerberg, A. W., Hutchison, H. P. ,  Motard,  R.  L., Winter, P . ,  Process Flowsheeting, Cam- 
bridge University Press, London, 1979 
Wise, D. L., Dynatech R I D  Co., Personal Communication, Cambridge, hlass., 1980 
Wolfe, P. ,  "hlethods of Nonlinear Programming", in Recent Advances in Mathematical Pro- 
gramming, edited by Graves and Wolfe, h1cGraw-Hill, 1963 
Wolre, p. ,  "Methods for Linear Constraints", in Nonlinear Programming, edited by J .  
Abadie, North-IIolland, 19G7 

