Top-down Transformation Choice
Torsten Hothorn
Universität Zürich
Abstract
Simple models are preferred over complex models, but oversimplistic models may lead
to errorenous interpretations. The classical approach is to start with a simple model whose
shortcomings are assessed in residual-based model diagnostics. Eventually, one increases
the complexity of this initial too simple model and obtains a better fitting model. We
illustrate how transformation analysis can be used to implement an alternative approach
to model choice. Instead of adding complexity to simple models, we demonstrate how step-
wise complexity reduction can help to identify simpler and better interpretable models. We
aim at modelling body mass index distributions in Switzerland by means of transformation
models and try to understand the impact of sex, age, smoking and other lifestyle factors
on a persons’ body mass index. In this process, we try to find a compromise between
model fit and model interpretability. Special emphasis is given to the understanding of
the connections between transformation models of increasing complexity. The models
used in our analysis range from evergreens, such as the normal linear regression model
with constant variance, to novel models with extremely flexible conditional distribution
functions, such as transformation trees and transformation forests.
Keywords: Transformation analysis, conditional transformation model, conditional distribu-
tion function, conditional quantile function, distribution regression, stratified linear transfor-
mation model, body mass index.
1. Introduction
Let’s face it. The work of statisticians is considered boring in the public eye. Nobody publishes
page turners on the thrilling aspects of data analysis, yet the quest for a good model can be
as exciting as detective work. One of my favourite paperback characters is LAPD detective
Harry Bosch by crime novelist Michael Connelly. Like Harry, who follows the traces left by
the murderer on the crime scene to a theory about whodunit, the experienced data analyst
follows the traces left by the data generating process in the residuals of an over-simplistic
model. Unlike Harry, who of course always succeeds in arresting the murderer, the statistician
can never by sure to find the correct, in fact not even an approximately useful, model. In the
quests for a suspect or for a good model, parsimonious explanations are preferred by Occams
razor. Therefore, in residual-based model diagnostics, the data analyst starts with a very
simple model whose complexity is increased by step-wise refinement until all signs of lack of
fit disappeared from the residuals. We refer to such a procedure as “bottom-up model choice”,
because we move from simple to more complex models. In this tutorial, we consider moving
in the opposite direction, i.e. from complex to simple models, for distributional regression.
This “top-down approach” to model choice begins with the most complex model explaining
ar
X
iv
:1
70
6.
08
26
9v
1 
 [
st
at
.M
E
] 
 2
6 
Ju
n 
20
17
2 Top-Down Transformation Choice
both signal and noise without overfitting the data we can come up with. In a regression setup,
such a model would describe the conditional distribution of the response given the explanatory
variables as accurately as possible. Once such a model was established as a benchmark to
compare simpler models to, we can start to reduce model complexity in a step-wise manner.
In our crime novel picture, the top-down data analyst takes the role of an eye witness at the
scene. What we are “seeing” in this process is, of course, still a picture and not the real thing.
There is no way for us to “see” the correct model. In top-down model choice, however, our
trajectories through model space will be guided by assessments of vital models. In bottom-up
model choice, in contrast, our horizon is limited by the amount of information we can find in
traces on deceased models.
In this tutorial, we focus on top-down model choice in continuous regression problems. Con-
ceptually, a regression model is a family of conditional distributions for some response Y given
a specific configuration of explanatory variables X = x. The model describes both signal and
noise, i.e. the variability explained by the explanatory variables and the unexplained vari-
ability. Unfortunately, this point of view only applies to relatively simple models assuming a
certain parametric distribution whose parameters partially depend on the explanatory vari-
ables. So-called “non-parametric regression models” (Fahrmeir et al. 2013) often restrict their
attention to the signal E(Y | X = x) = m(x), with non-linear conditional mean function m,
while treating the noise, i.e. all higher moments of the conditional distribution, as a nuisance
or essentially ignoring it. Such procedures, for example random forests (Breiman 2001), are
extremely powerful when estimating complex conditional mean functions. However, one can-
not infer the entire conditional distribution using random forests or similar methods. This
renders top-down model choice impossible, because reductions in complexity require switch-
ing between different model classes, or even crossing the borders between the parametric and
non-parametric empires. The comparison of two models from different classes is difficult and
thus it is hard to decide if the simpler model is more appropriate than the more complex one.
The implementation of top-down model choice is much simpler when the most complex and the
most simple model are members of the same family. Conditional transformation models from
the transformation family of distributions (Hothorn et al. 2014, 2017) include many important
established off-the-shelf regression models. In addition, tailored models can be created, in
vivo our brains and in silico using open-source software, allowing smooth transitions between
models of different complexity. In a nutshell, the class of conditional transformation models
P(Y ≤ y |X = x) = FY (y | x) = F (h(y | x))
assumes that the conditional distribution function FY of Y given X = x can be written as the
composition of an a priori specified continuous cumulative distribution function F and some
conditional transformation function h(y | x). The latter function is, for each x, monotonically
increasing in its first argument. It is important to note that the entire conditional distribution,
and not just its mean, is modelled by h. In this sense, and unlike common regression models,
there is no decomposition into signal (the conditional mean) and noise (the remaining higher
moments) in this class of transformation models. Changing model complexity means changing
the complexity of the conditional transformation function h and we thus refer to top-down
model choice in conditional transformation models as top-down transformation choice.
Model complexity in the class of conditional transformation models is linked to smooths
h(y | x) of varying complexity with respect to y. These conditional transformation functions
may vary with the explanatory variables x in arbitrary ways, including interactions and non-
Hothorn 3
linearities. In this paper, we understand model choice as an art rather than an exact science.
No formal algorithm leading to an “optimal” model will be presented. Instead, we argue that
the possibility to model a cascade of decreasingly complex conditional distribution functions
in the same model class gives us new possibilities to investigate goodness of fit or lack thereof.
A fair amount of subjectivity will remain in this process, as it was always the case in classical
model diagnostics. We shall be less concerned with the technical subtlenesses of parameter
estimation in the models discussed here and refer the reader to more formal results published
elsewhere. Instead, we illustrate practical aspects of top-down transformation choice by a
tour-de-force through transformation models describing the impact of lifestyle parameters,
such as smoking or physical activity, on the body mass index (BMI) distribution in the Swiss
population.
We proceed by introducing the Swiss Health Survey and the variables we are dealing with
in Section 2. In a very simple setup, we first illustrate a bottom-up route, starting with a
normal linear model and ending with a more complex non-normal transformation model, for
describing the BMI distribution in females and males at various levels of smoking (Section 3).
We then try to reduce the complexity again until we find an interpretable model which fits
the data roughly as well as the most complex model. In addition to sex and smoking, we
consider age and some lifestyle variables in a more realistic setup of top-down transformation
choice in Section 4.
2. Body Mass Index in the Swiss Health Survey
The Swiss Health Survey (SHS) is a population-based cross-sectional survey. Since 1992, it
is conducted every five years by the Swiss Federal Statistical Office (Bundesamt für Statistik
2013). For this tutorial, we restricted the sample to 16,427 individuals aged between 18 and
74 years from the 2012 survey. Study samples were obtained by stratified random sampling
using a database with all private household landline telephone numbers. Data was collected
by telephone interview and self-administered questionnaires. Height and weight were self-
reported by telephone interview. Observations with extreme values of height and weight were
excluded (highest and lowest percentile by sex). Smoking status was categorised into never,
former, light (1−9 cigarettes per day), moderate (10−19), and heavy smokers (> 19). Never
smokers stated that they did not currently smoke and never regularly smoked during more
than six months; former smokers quitted smoking, but have smoked for more than 6 months
during their life course. One cigarillo or pipe was counted as two cigarettes and one cigar as
four cigarettes. The following lifestyle variables were included and assessed by telephone inter-
view and self-administered questionnaire: fruit and vegetable consumption, physical activity,
alcohol intake, level of education, nationality and place of residence. Fruit and vegetable
consumption was combined in one binary variable that comprised the information on whether
both fruits and vegetables were consumed daily or not. The variable describing physical ac-
tivity was defined as the number of days per week a subject started to sweat during leisure
time physical activity and was categorised as > 2 days, 1− 2 days, and none. Alcohol intake
was included using the continuous variable gram per day. Education was included as highest
degree obtained and was categorised into mandatory (International Standard Classification
of Education, ISCED 1-2), secondary II (ISCED 3-4), and tertiary (ISCED 5-8) (UNESCO
Institute for Statistics 2012). Nationality had the two categories Swiss and foreign. Language
region reflected cultural differences within Switzerland, and we took the three categories Ger-
4 Top-Down Transformation Choice
Table 1: Normal Cell-means Model (1) with Constant Variance. Estimated means of BMI for
each combination of sex and smoking, with 95% confidence intervals.
Sex
Smoking Female Male
Never 23.57 (23.47–23.68) 25.18 (25.06–25.30)
Former 23.94 (23.76–24.12) 26.46 (26.30–26.62)
Light 22.85 (22.59–23.11) 25.00 (24.73–25.27)
Medium 23.45 (23.18–23.72) 25.00 (24.75–25.26)
Heavy 23.72 (23.36–24.08) 25.90 (25.65–26.15)
man/Romansh, French, and Italian into account. Sampling weights of this representative
survey were taken into account for the estimation of all models reported in this tutorial.
3. Sex and Smoking-specific BMI Distributions
We start with the very simple situation where we study the conditional distribution of BMI
given sex and smoking. Smoking was assessed on five different levels (never smoked, former
smokers, light smokers, medium smokers, and heavy smokers), so we are interested in the con-
ditional distribution of BMI in these 10 groups of participants. Figure 1 presents the empirical
cumulative distribution functions, i.e. the non-parametric maximum likelihood estimators for
the underlying continuous distributions, for each of the 10 combinations of sex and smoking.
At the same time, the plot also represents the uncompressed raw data. With a high-enough
resolution, one could recover the original BMI values and the corresponding sampling weights
from such an image. Consequently, goodness of fit can be assessed by overlaying the empirical
cumulative distribution functions with their model-based counterparts in this simple setup.
We shall try to find a suitable parametric model this way. In addition to this rather informal
approach, we will study the increase of the log-likelihoods as we increase model complexity.
In the classical bottom-up approach, one would start with a very simple model assuming
conditional normal distributions. The next section discusses possible choices in this model
class.
3.1. Normal Models
The normal cell-means model with constant variance
BMI | sex, smoking ∼ N(µ(sex : smoking), σ2) (1)
assumes normal distributions with a common variance for all conditional BMI distributions.
Means are allowed to vary between the groups defined by sex and smoking. The notation
µ(sex : smoking) indicates that the conditional mean is specific to each combination of sex
and smoking in this cell-means model, i.e. we have a total of 10 parameters µ(sex : smoking).
With a residual standard error of σ̂ = 3.73, we obtained a log-likelihood of −47010.46 and
the estimated cell-means, with 95% confidence intervals, are shown in Table 1.
Hothorn 5
BMI
E
m
pi
ric
al
 C
D
F
0.0
0.2
0.4
0.6
0.8
1.0
15 20 25 30 35 40
Never
Female
Former
Female
15 20 25 30 35 40
Light
Female
Medium
Female
15 20 25 30 35 40
Heavy
Female
Never
Male
15 20 25 30 35 40
Former
Male
Light
Male
15 20 25 30 35 40
Medium
Male
0.0
0.2
0.4
0.6
0.8
1.0
Heavy
Male
Figure 1: Empirical Cumulative Distribution Function (CDF) of BMI given Sex and Smok-
ing. For each combination of sex and smoking, the weighted empirical CDF taking sampling
weights into account is presented.
How well does this model fit our data? We want to answer this question by comparing the
conditional distribution functions obtained from this model to the corresponding empirical
conditional distributions, and thus the raw data, graphically. The model-based conditional
cumulative distribution functions
P(BMI ≤ y | sex, smoking) = FBMI(y | sex, smoking) = Φ
(
y − µ(sex : smoking)
σ
)
overlay the empirical cumulative distribution functions in Figure 2. While not being com-
pletely out of line, the considerable differences between the empirical and model-based distri-
bution functions certainly leave room for improvement. An obvious step-up the complexity
latter allows for group-specific variances in the model
BMI | sex, smoking ∼ N(µ(sex : smoking), σ(sex : smoking)2). (2)
The log-likelihood in this 20-parameter model increased to −44801.19 and the corresponding
conditional distribution functions in Figure 3 are closer to the empirical cumulative distribu-
tion functions. For males, the model-based normal distributions are very close to the empirical
conditional BMI distributions. For females, however, there is still a considerable discrepancy
6 Top-Down Transformation Choice
BMI
C
D
F
0.0
0.2
0.4
0.6
0.8
1.0
15 20 25 30 35 40
Never
Female
Former
Female
15 20 25 30 35 40
Light
Female
Medium
Female
15 20 25 30 35 40
Heavy
Female
Never
Male
15 20 25 30 35 40
Former
Male
Light
Male
15 20 25 30 35 40
Medium
Male
0.0
0.2
0.4
0.6
0.8
1.0
Heavy
Male
Figure 2: Normal Cell-means Model (1) with Constant Variance. The empirical (blue) and
model-based (yellow) cumulative distribution functions (CDF) of BMI given sex and smoking
are shown.
between model and data, especially in the lower tails. The BMI distributions in females devi-
ate from normality much more than the BMI distributions in males (we are not saying males
are normal and females aren’t!). It is clear that we have to move to a non-normal error model
at least for females, and the transformation models discussed below are a convenient way to
do so.
The normal models are a special case of transformation models and thus the latter class
is a very natural extension of the former. To see the connection, consider the conditional
distribution function
P(BMI ≤ y | sex, smoking) = Φ
(
y − µ(sex : smoking)
σ(sex : smoking)
)
= Φ (ϑ(sex : smoking)y − β(sex : smoking))
= Φ (h(y | sex : smoking))
where h is a linear function of y with parameters ϑ(sex : smoking) = σ(sex : smoking)−1 and
β(sex : smoking) = µ(sex : smoking)/σ(sex : smoking). This reparameterisation shows, quite
unsurprisingly, that a normal model features a linear transformation function h. Consequently,
non-normal conditional distributions can be obtained by allowing a non-linear transformation
function for each combination of sex and smoking in the transformation models presented in
Hothorn 7
BMI
C
D
F
0.0
0.2
0.4
0.6
0.8
1.0
15 20 25 30 35 40
Never
Female
Former
Female
15 20 25 30 35 40
Light
Female
Medium
Female
15 20 25 30 35 40
Heavy
Female
Never
Male
15 20 25 30 35 40
Former
Male
Light
Male
15 20 25 30 35 40
Medium
Male
0.0
0.2
0.4
0.6
0.8
1.0
Heavy
Male
Figure 3: Normal Cell-means Model (2) with Heterogeneuous Variance. The empirical (blue)
and model-based (yellow) cumulative distribution functions (CDF) of BMI given sex and
smoking are shown.
the next section.
3.2. Non-normal Transformation Models
The core concept of a transformation model is a potentially non-linear monotonically in-
creasing transformation function h(y | sex : smoking), here for each combination of sex and
smoking. For computational convenience, we parameterised the transformation functions h in
terms of Bernstein polynomials (Farouki 2012). For each of the 10 groups, we model the trans-
formation function h by a Bernstein polynomial aBs,5(y)
>ϑ of order 5, where aBs,5(y) ∈ R6 are
the corresponding basis functions of BMI. A monotonically increasing Bernstein polynomial
of order 5 features 6 monotonically increasing parameters ϑ. Maximum likelihood estimation
was performed (Hothorn et al. 2017) using the mlt (Hothorn 2017a,b) add-on package to the
R system for statistical computing (R Core Team 2017). With the corresponding total 60
parameters, the maximum log-likelihood of the model
P(BMI ≤ y | sex, smoking) = Φ
(
aBs,5(y)
>ϑ(sex : smoking)
)
(3)
was −43564.30; the notation ϑ(sex : smoking) indicates that the parameters were estimated
for each combination of sex and smoking. The resulting model-based conditional distribution
8 Top-Down Transformation Choice
BMI
C
D
F
0.0
0.2
0.4
0.6
0.8
1.0
15 20 25 30 35 40
Never
Female
Former
Female
15 20 25 30 35 40
Light
Female
Medium
Female
15 20 25 30 35 40
Heavy
Female
Never
Male
15 20 25 30 35 40
Former
Male
Light
Male
15 20 25 30 35 40
Medium
Male
0.0
0.2
0.4
0.6
0.8
1.0
Heavy
Male
Figure 4: Transformation Model (3) Stratified by Sex and Smoking. The empirical (blue) and
model-based (yellow) cumulative distribution functions (CDF) of BMI given sex and smoking
are shown.
functions are hardly to tell apart from the empirical cumulative BMI distribution functions
in Figure 4. Because a separate transformation function was estimated for each combina-
tion of sex and smoking, we can refer to this model as a transformation model stratified by
sex and smoking. Based on this model, one can understand non-normality as deviation of
the transformation function from a linear function. Figure 5 shows the sex and smoking-
specific transformation functions of model (3) along with the linear transformation functions
obtained from the normal cell-means model (2) with heterogeneous variances. In the center
of the distributions, the two curves overlap but the tails are not well described by the nor-
mal distribution. The differences between the two curves are more pronounced for females,
corresponding to the larger deviations from normality observed earlier.
One nice feature of model (3) is the possibility to easily derive characterisations of the distri-
bution other than the distribution function. Density, quantile, hazard, cumulative hazard or
other characterising functions can be derived from (3) and Figure 6 depicts the densities for
males and females of the various levels of smoking. The right-skewness of the distribution,
and thus deviation from normality, was more pronounced in females. The BMI distributions
for females put more weight on smaller BMI values in females compared to males. Except for
heavy smokers, the effects of smoking seemed to be rather small.
The model fit of this stratified transformation model is now satisfactory, as it essentially
Hothorn 9
BMI
Tr
an
sf
or
m
at
io
n 
F
un
ct
io
n 
h
−6
−4
−2
0
2
4
15 20 25 30 35 40
Never
Female
Former
Female
15 20 25 30 35 40
Light
Female
Medium
Female
15 20 25 30 35 40
Heavy
Female
Never
Male
15 20 25 30 35 40
Former
Male
Light
Male
15 20 25 30 35 40
Medium
Male
−6
−4
−2
0
2
4
Heavy
Male
Figure 5: Transformation Model (3) Stratified by Sex and Smoking. Deviations from nor-
mality indicated by the non-linear transformation functions (blue) compared to the linear
transformation functions (yellow) obtained from the normal cell-means model (2) with het-
erogeneuous variances.
smoothly interpolates the empirical distribution functions and thus the data in Figure 4. This
most complex model describes the data well but, unfortunately, it is hard to learn anything
from this model. That is, we want to understand the differences between the conditional
distributions in terms of simple parameters and not complex non-linear functions. A simpler
model is needed. A top-down approach to transformation choice might help to identify a
model with simpler and interpretable transformation functions. Hopefully, we will not have
to make too hard compromises with respect to model fit in this process.
Because we have seen that the BMI distributions differ most between males and females, we
first simplify the model by conditioning on smoking and stratifying by sex, i.e. we introduce
sex-specific transformations h(y | sex) and sex-specific smoking effects β, the latter being
constant for all arguments y of the conditional distribution function, in the model
P(BMI ≤ y | sex, smoking) = Φ (h(y | sex)− β(sex : smoking)) . (4)
This model features two transformation functions h(y | male) and h(y | female). For never
smokers (the reference category), these two transformation functions describe the conditional
BMI distributions, i.e.
P(BMI ≤ y | sex,never smoked) = Φ (h(y | sex)) .
10 Top-Down Transformation Choice
BMI
D
en
si
ty
0.00
0.05
0.10
15 20 25 30 35 40
Never
Female
Former
Female
15 20 25 30 35 40
Light
Female
Medium
Female
15 20 25 30 35 40
Heavy
Female
Never
Male
15 20 25 30 35 40
Former
Male
Light
Male
15 20 25 30 35 40
Medium
Male
0.00
0.05
0.10
Heavy
Male
Figure 6: Transformation Model (3) Stratified by Sex and Smoking. The model-based condi-
tional densities of BMI given sex and smoking are shown.
For the remaining smoking categories, one sex-specific parameter β(sex : smoking) describes
how the conditional BMI distribution of a smoker differs from the conditional BMI distribution
of a person who never smoked by a simple shift term β. Because of the “linear” shift term,
this model could be referred to as a stratified linear transformation model. This is, as often
in statistics, a misnomer, because the transformation h(y | sex) of the response, i.e. of the
BMI values y, is non-linear.
The log-likelihood for this model with 20 parameters was found to be −43602.03, a mod-
erate reduction compared to the log-likelihood of the most complex transformation model
(−43564.30). Figure 7 shows only minor differences between the empirical and model-based
conditional distribution functions. Thus, it seems we succeeded in finding a more parsimo-
nious model without paying too high a price in terms of log-likelihood reduction.
The conceptual problem with this model, however, is lack of interpretability of the shift term
β(sex : smoking). In contrast to the means µ in the normal models (1) and (2), there is no
direct interpretation of β in terms of moments of the conditional distribution described by this
model. This issue can be addressed by changing the cumulative distribution function F = Φ
of the standard normal to the cumulative distribution function F = expit of the standard
logistic
P(BMI ≤ y | sex, smoking) = expit (h(y | sex)− β(sex : smoking)) . (5)
Hothorn 11
BMI
C
D
F
0.0
0.2
0.4
0.6
0.8
1.0
15 20 25 30 35 40
Never
Female
Former
Female
15 20 25 30 35 40
Light
Female
Medium
Female
15 20 25 30 35 40
Heavy
Female
Never
Male
15 20 25 30 35 40
Former
Male
Light
Male
15 20 25 30 35 40
Medium
Male
0.0
0.2
0.4
0.6
0.8
1.0
Heavy
Male
Figure 7: Linear Transformation Model (4) with Sex and Smoking-specific Shift, Stratified by
Sex. The empirical (blue) and model-based (yellow) cumulative distribution functions (CDF)
of BMI given sex and smoking are shown.
When we fix the cut-off y, this is a logistic regression model for the binary outcome BMI ≤ y
vs. BMI > y. The transformation function h(y | sex) is now a sex-specific intercept and
β(sex : smoking) are the sex-specific log-odds ratios for the event BMI ≤ y compared to the
baseline category (never smokers). Because this shift term does not depend on y, the model
assumes proportionality of the smoking odds with respect to the cut-off y. Stratification
by sex allows non-proportional smoking odds with respect to sex. In fact, the sex-specific
conditional distributions of males and females can still differ in very general ways because two
separate Bernstein polynomials h(y | sex) = a>Bs,5ϑ(sex) describe the conditional distributions
for males and females. The model can be seen as a stratified proportional odds model for
continuous responses or a continuous form of logistic regression analyses, jointly performed for
all possible cut-off points y under the assumption of constant parameters β(sex : smoking).
Lohse et al. (2017) report results and discuss parameter interpretation for conditional BMI
logistic regression applied to the Swiss body mass index data.
The parameterisation h(y | sex) − β(sex : smoking) with a negative shift term seems uncon-
ventional from a logistic regression point of view, but it simplifies interpretation. With model
(5) we have E(h(Y | sex, smoking)) = β(sex : smoking) and thus positive shift parameters
β indicate a shift of the BMI distribution towards higher BMI values. Corresponding odds
ratios exp(β) larger one mean BMI distributions shifted to the right, compared to the BMI
12 Top-Down Transformation Choice
Table 2: Linear Transformation Model (5) with Sex and Smoking-specific Shift, Stratified by
Sex. Odds-ratios to the baseline category never smoking along with 95% confidence intervals
for males and females. Odds ratios larger than one indicate a shift of the BMI distribution
to the right.
Sex
Smoking Female Male
Never 1 1
Former 1.19 (1.08–1.31) 1.95 (1.77–2.14)
Light 0.75 (0.65–0.85) 0.95 (0.82–1.09)
Medium 0.98 (0.85–1.12) 0.93 (0.81–1.06)
Heavy 1.10 (0.92–1.32) 1.43 (1.25–1.63)
distribution in the reference category.
Unfortunately, there was some further reduction in the log-likelihood (−43639.74) and inter-
pretability doesn’t come for free. However, the model-based and empirical conditional BMI
distribution functions look very much the same as presented in Figure 7 (additional plot not
shown). The sex-specific BMI-independent odds-ratios of smoking, compared to never smok-
ing, are given in Table 2. Former smokers have, on average, a larger BMI compared to never
smokers, the effect is stronger in males. A similar effect can be observed for male heavy
smokers. Light female smokers show a BMI distribution shifted to the left, compared with
female never smokers.
Maintaining interpretability, one could go further and assume equal smoking effects for males
and females in the model
P(BMI ≤ y | sex, smoking) = expit (h(y | sex)− β(smoking)) .
The log-likelihood was again reduced (−43669.50) for this model with 16 parameters. In
addition, the odds-ratios presented in Table 2 indicate severe differences in the smoking effects
between males and females, so we refrain from looking at this or even simpler models and stop
the top-down transformation choice here. Of course, this very simple example only worked
because it was possible to compare models and raw data directly on the scale of the conditional
BMI distribution functions for two categorical explanatory variables, sex and smoking. In the
second part, we will consider additional, and also numeric, explanatory variables in a more
realistic setup.
4. Conditional BMI Distributions
Our aim is to estimate the conditional BMI distribution given sex, smoking, age and the
lifestyle variables alcohol intake, education, physical activity, fruit and vegetables consump-
tion, residence and nationality as explanatory variables x. In the conditional transformation
model
P(BMI ≤ y | sex, smoking, age,x) = expit (h(y | sex, smoking, age,x))
Hothorn 13
the conditional transformation function h depends on these variables in a yet unspecified way.
Top-down transformation choice ideally allows us to start without too much headaches, i.e. an
algorithm for fitting this model to handle potentially many explanatory variables of mixed
type allowing relatively complex non-linear transformation functions. We can write such a
model as
P(BMI ≤ y | sex, smoking, age,x) = expit
(
aBs,5(y)
>ϑ(sex, smoking, age,x)
)
assuming that each conditional distribution is parameterised in terms of a Bernstein polyno-
mial of order 5. The parameters ϑ of this polynomial, however, depend on the explanatory
variables in a potentially complex way, featuring interactions and non-linearities. Tree and
forest algorithms (Hothorn and Zeileis 2017) allow such “conditional parameter functions”
ϑ(sex, smoking, age,x), and thus the corresponding conditional BMI distributions, to be es-
timated in a black-box manner without the necessity to a priori specify any structure of
ϑ(sex, smoking, age,x). We will first use trees and forests to understand the complexity of
the impact of the explanatory variables on the BMI distribution. Later on, we will apply a
top-down approach to transformation choice to obtain simpler transformation models allowing
more straightforward interpretation.
4.1. Transformation Trees and Forests
A transformation tree (Hothorn and Zeileis 2017) starts with an unconditional transformation
model
P(BMI ≤ y) = expit
(
aBs,5(y)
>ϑ
)
(6)
and a corresponding maximum likelihood estimator ϑ̂. The algorithm proceeds by assessing
correlations between the score contributions evaluated at ϑ̂ and the explanatory variables
sex, smoking, age and x. A binary split is implemented in the most discriminating cut-
off point of the variable showing the highest correlation to any score. The procedure is
repeated until a certain stop criterion applies. The result is a partition of the data. The
algorithm is sensitive to distributional changes, i.e. the conditional BMI distributions in the
subgroups of this partition may vary with respect to the mean BMI and also with respect to
higher BMI moments. In each subgroup, the unconditional model (6) was used to estimate
ϑ(sex, smoking, age,x) for this subgroup. Because each observation in this subgroup is then
associated with a dedicated parameter vector ϑ̂(sex, smoking, age,x) we could evaluate the
log-likelihood for the tree model as the sum on the likelihoods in the subgroups. The log-
likelihood of the tree presented in Figure 8 was −42911.37. The first split is in sex, so in fact
two sex-specific models are given here. Four age groups (≤ 20, (20, 36], (36, 55], > 55) for
females and three age groups (≤ 25, (25, 39], > 39 for males) are distinguished. Education
contributes to understanding the BMI distribution in females and males. Location, scale and
shape of the conditional BMI distributions vary considerably. The variance increases with age,
and higher educated people tend to have lower BMI values. These are interesting insights,
but the model is of course a very rough one.
A transformation forest (Hothorn and Zeileis 2017) allows less rough conditional parameter
functions ϑ(sex, smoking, age,x) to be estimated. There are no restrictions regarding the
conditional parameter functions anymore. In this sense, a transformation forest is the “most
14 Top-Down Transformation Choice
F
em
ale
M
ale
2 15
n =
 8650
n =
 7777
sex
p <
 0.001
1
n =
 16427
≤
55
>
55
3 10
n =
 5961
n =
 2689
age
p <
 0.001
≤
36
>
36
4 7
n =
 2355
n =
 3606
age
p <
 0.001
≤
20
>
20
5 6
n =
 397
n =
 1958
age
p <
 0.001
15
20
25
30
35
40
0.05
0.1
0.15
0.05
0.1
0.15
I, II
III8 9
n =
 2587
n =
 1019
edu
p <
 0.001
0.05
0.1
0.15
0.05
0.1
0.15
I II, III
11 12
n =
 516
n =
 2173
edu
p <
 0.001
0.05
0.1
0.15
≤
6.281
>
6.281
13 14
n =
 1362
n =
 811
agram
tag
p <
 0.001
0.05
0.1
0.15
0.05
0.1
0.15
≤
25
>
25
16 17
n =
 1014
n =
 6763
age
p <
 0.001
0.05
0.1
0.15
≤
39
>
39
18 21
n =
 1634
n =
 5129
age
p <
 0.001
I, II
III
19 20
n =
 866
n =
 768
edu
p <
 0.001
0.05
0.1
0.15
0.05
0.1
0.15
I, II
III
22 23
n =
 3012
n =
 2117
edu
p <
 0.001
0.05
0.1
0.15
0.05
0.1
0.15
F
igu
re
8
:
T
ran
sform
a
tion
T
ree.
T
h
e
co
n
d
ition
al
B
M
I
d
istrib
u
tion
s
(d
ep
icted
in
term
s
of
th
eir
d
en
sities)
are
giv
en
in
each
su
b
grou
p
corresp
o
n
d
in
g
to
th
e
term
in
al
n
o
d
es
of
th
e
tree.
V
ariab
les:
ed
u
cation
(ed
u
)
at
levels
m
an
d
atory
(I),
secon
d
ary
(II)
an
d
tertiary
(III),
a
lcoh
ol
in
take
(a
gram
tag).
Hothorn 15
Mean Decrease
Log−Likelihood
Nationality
Region
Fruit and vegetables
Alcohol intake
Smoking
Physical activity
Education
Age
Sex
500 1000 1500 2000 2500 3000
Figure 9: Transformation Forest. Likelihood-based permutation variable importance for all
variables in the forest. The x-axis shows the mean decrease in the log-likelihood caused by
permuting one variable before computing the in-sample tree log-likelihood.
complex model we can think of” advertised in the introduction. Contemporary belief regards
the random forest class of models as very accurate, insensitive to hyperparameter tuning, and
without tendency to overfit. In the following, we shall use this method to obtain a bench-
mark for better interpretable transformation models following our top-down model selection
approach.
The generic random forest algorithm essentially relies on multiple transformation trees fitted
to subsamples of the data, with a random selection of variables to be considered for splitting
in each node. Unlike the original random forest (Breiman 2001), a transformation model can
be understood as a procedure assigning a parametric model to each observation. For subject
i, the forest conditional distribution function is
P̂(BMI ≤ y | sexi, smokingi, agei,xi) = expit
(
aBs,5(y)
>ϑ̂(sexi, smokingi, agei,xi)
)
.
In this sense, a transformation forest “predicts” a fully parametric model for each subject,
however with a very flexible conditional parameter. The conditional parameter for person
i, i.e. ϑ̂(sexi, smokingi, agei,xi), was obtained from a locally adaptive maximum likelihood
estimator based on so-called nearest neighbour weights (Hothorn and Zeileis 2017). We could
observe a considerable improvement in the transformation forest log-likelihood (−42629.63).
16 Top-Down Transformation Choice
In fact, this is the largest log-likelihood we were able to achieve. Thus, this transformation
forest is the best fitting model for the BMI data. Of course, we should assess potential over-
fitting in this extremely complex model. The out-of-bag log-likelihood, i.e. the log-likelihood
evaluated for coefficients ϑ̂(sexi, smokingi, agei,xi) obtained while ignoring the contribution
of trees where i was used for fitting, was −42856.93. This indicates that, despite the large
number of parameters in this model, overfitting was not a severe problem and we can, to a
certain extend, “trust” the interpretations we draw from the transformation forest.
On the downside, this black-box model makes is very hard to understand the impact of the
explanatory variables on the conditional BMI distribution. The likelihood-based permutation
variable importance (Figure 9) indicates that only sex, age, education, physical activity and
smoking have an impact on BMI, where again sex seems to be the most important variable.
Age is a more important factor than education or physical activity, and thus the only numeric
variable we need to pay attention to. The association between sex, smoking, age and BMI
as described by the transformation forest is given in terms of a partial dependency plot of
conditional deciles in Figure 10. In general, the median BMI increases with age as does the
BMI variance. For males, there seems to be a level-effect whose onset depends on smoking
category. Females tend to higher BMI values and the variance is larger compared to males.
There seems to be a bump in BMI values for females roughly around 30 years. Of course, this
corresponds to mothers giving birth to their first child around this age. It is important to note
that the right-skewness of the conditional BMI distributions in Figure 10 renders conditional
normal distributions inappropriate, even under variance heterogeneity.
This complex model would be sufficient if we were only interested in the estimation of con-
ditional BMI distributions for persons with specific configurations of the sex, smoking, age
and the remaining explanatory variables. The variable importances can be used to rank vari-
ables according to their impact on the conditional BMI distributions but cannot replace effect
measures, let alone an assessment of their variability. Communication with subject-matter
scientists and publication of results in subject-matter journals requires simplification of these
models. Top-down transformation choice can help to find models of appropriate complexity,
as we will see in the next section.
4.2. Conditional Transformation Model
The analysis using transformation trees and especially transformation forests revealed strong
effects of sex and age, the latter variable was not considered in our analysis presented in
Section 3. A more structured model roughly as powerful as the transformation forest must
therefore allow the conditional distribution of BMI to change with both sex and age in very
general ways. The remaining variables were less important and we can hopefully cut some
corners here by assuming simple linear main effects for these variables. We start our top-down
search for a simpler model with a conditional transformation model of the form
P(BMI ≤ y | sex, smoking, age,x) = (7)
expit
(
h(y, age | sex)− β(sex : smoking)− x>β
)
.
The transformation function h(y, age | sex) implements a sex-specific bivariate smooth surface
function of BMI and age, of course being monotonically in its first argument. The surface
function for males explains age-induced changes in the conditional distribution of BMI. In
contrast to transformation forests, we assume that the function is smooth in both y and age
Hothorn 17
Age
B
M
I
20
25
30
20 30 40 50 60
0.1
0.
20.3
0.40
.5
0.6
0.7
0.8
0.9
Never
Female
0.1
0.20.3
0.40
.5
0.6
0.7
0.8
0.9
Former
Female
20 30 40 50 60
0.1
0.20.3
0.40
.5
0.6
0.7
0.8
0.9
Light
Female
0.1
0.20.3
0.40
.5
0.6
0.7
0.8
0.9
Medium
Female
20 30 40 50 60
0.1
0.20.3
0.40
.5
0.6
0.7
0.8
0.9
Heavy
Female
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Never
Male
20 30 40 50 60
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Former
Male
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Light
Male
20 30 40 50 60
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Medium
Male
20
25
30
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Heavy
Male
Figure 10: Transformation Forest. Partial dependency of sex, smoking, and age. Conditional
decile curves for BMI depending on age, separately for all combinations of sex and smoking
are shown.
and not only in y. We parameterise this function as a tensor product of two Bernstein poly-
nomials of order 5, one for BMI and one for age, with sex-specific 36-dimensional parameter
vector ϑ(sex), in other words as (aBs,5(y)⊗aBs,5(age))>ϑ(sex). Except smoking, the remain-
ing variables enter as linear shift term x>β of main effects only. In light of its fifth rank in
the permutation variable importance (Figure 9) it may seem a little inconsequent to treat
smoking differently from the other variables. However, the stratified analysis in Section 3
suggested the need for sex-specific smoking effects and we thus include the interaction term
β(sex : smoking) also in this model. The expit function around the transformation function
ensures interpretability of all regression coefficients β on the log-odds scale.
With 89 parameters, the log-likelihood −42778.14 of model (7) was only slightly smaller than
the log-likelihood of the transformation forest (−42629.63). In a certain sense, this conditional
transformation model can be seen as an approximation of the black-box transformation forest.
The effects of sex, smoking and age, for all remaining variables being constant, are again best
visualised using the conditional decile functions (Figure 11). The decile functions are now
smooth in age due to the parameterisation of the age effect in terms of Bernstein polynomials.
For males, the BMI increases with age, the BMI reduction in males older than 65 years was
not visible in the decile curves of the transformation forests (Figure 10). The slope is largest
in young men up to 25 years, followed by a linear increase until the age of 65. The male BMI
18 Top-Down Transformation Choice
Age
B
M
I
20
25
30
20 30 40 50 60
0.10.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Never
Female
0.10.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Former
Female
20 30 40 50 60
0.10.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Light
Female
0.10.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Medium
Female
20 30 40 50 60
0.10.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Heavy
Female
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Never
Male
20 30 40 50 60
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Former
Male
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Light
Male
20 30 40 50 60
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Medium
Male
20
25
30
0.1
0.2
0.3
0.4
0.5
0.6
0.7
0.8
0.9
Heavy
Male
Figure 11: Conditional Transformation Model (7). Conditional decile curves for BMI depend-
ing on age, separately for all combinations of sex and smoking are shown.
distribution is right skewed with only a small increase in the variance towards older people.
In females, we can again identify a bump in the BMI distribution around the age of 30,
corresponding to pregnancies and breast-feeding times. The effect seems more pronounced in
higher deciles. Right skewness and a variance increase towards older women can be inferred
from this figure.
The main advantage of this complexity reduction is the interpretability of the regression coef-
ficients β(sex : smoking) and β in terms of BMI-independent log-odds ratios. The sex-specific
smoking effects and the effects of the remaining variables as odds ratios are given in the left
column of Table 3. Further simplification can be achieved by replacing the bivariate surface
function of y and age by a sex-specific, BMI-varying linear effect of age in the distribution
regression model presented in the next section.
4.3. Distribution Regression
The term “distribution regression” (Chernozhukov et al. 2013) is commonly used to describe
response-varying coefficients. In survival analysis, the term time-varying coefficients is more
typical. Here, a BMI-varying coefficient of age is a means to simplify the conditional trans-
formation model (7). In our simpler model, we assume a smoothly varying but sex-specific
coefficient of age β(y|sex). The transformation function h(y | sex) is again the simple trans-
Hothorn 19
Age
B
M
I
20
25
30
20 30 40 50 60
0.1
0.2
0.3
0.4
0.50.6
0.70.8
0.9
Never
Female
0.1
0.2
0.3
0.4
0.50.6
0.7
0.8
0.9
Former
Female
20 30 40 50 60
0.1
0.2
0.3
0.40.5
0.6
0.7
0.8
0.9
Light
Female
0.1
0.2
0.3
0.4
0.5
0.6
0.70.8
0.9
Medium
Female
20 30 40 50 60
0.1
0.2
0.3
0.4
0.5
0.6
0.70.8
0.9
Heavy
Female
0.1
0.2
0.30.4
0.5
0.6
0.7
0.8
0.9
Never
Male
20 30 40 50 60
0.1
0.2
0.30.4
0.5
0.6
0.7
0.8
0.9
Former
Male
0.1
0.2
0.30.4
0.5
0.6
0.7
0.8
0.9
Light
Male
20 30 40 50 60
0.1
0.2
0.30.4
0.5
0.60.7
0.8
0.9
Medium
Male
20
25
30
0.1
0.2
0.30.4
0.50.6
0.7
0.8
0.9
Heavy
Male
Figure 12: Distribution Regression Model (8). Conditional decile curves for BMI depending
on age, separately for all combinations of sex and smoking are shown.
formation of BMI given sex introduced in model (4). The model reads
P(BMI ≤ y | sex, smoking, age,x) = (8)
expit
(
h(y | sex)− β(y|sex)age− β(sex : smoking)− x>β
)
The log-likelihood −42888.10 decreased considerably in this model with 41 parameters. The
effects of smoking and the remaining variables (except age) are given in the middle column
of Table 3 as odds ratios. When we depict the dependency of BMI centiles on sex, smoking
and age in Figure 12, the linear structure regarding age is obvious. The age-varying slopes
and the pregnancy bump can not be identified by this simpler model. Right-skewness and
variance heterogeneity remain visible for females. The variance increase in older males seems
now questionable. For our taste, the replacement of two bivariate functions by two univariate
functions does not really help model interpretation, as one would have to plot these two
functions anyhow. The severe reduction of the log-likelihood indicates that the effect of age is
better described in a conditional transformation model of the form (7). Nevertheless, we will
go one step further and connect the stratified linear transformation model (5) with a model
of the same form featuring age and the lifestyle variables x in addition to sex and smoking.
20 Top-Down Transformation Choice
4.4. Stratified Linear Transformation Model
We extend the stratified linear transformation model (5) with an sex-specific age effect and a
linear predictor x>β of the remaining variables
P(BMI ≤ y | sex, smoking, age,x) = (9)
expit
(
h(y | sex)− β(sex : smoking)− β(sex : age)− x>β
)
The log-likelihood was further reduced to −42900.36. In this model, the sex differences in the
age effects are completely gone, as the odds ratios for a one year increase are 1.03 (1.03−1.04)
for males and 1.03 (1.03 − 1.04) for females. In light of the more complex structure of the
age effect identified by the more complex models, one would incorrectly draw the conclusion
of equal age effects for males and females based on this oversimplified model. The effects of
the remaining parameters are given in the right column of Table 3.
The three columns presented in Table 3 refer to the same parameters, estimated by three
models differing with respect to the complexity of the age effect only. The effects of smoking,
alcohol intake, education, physical activity, fruit and vegetables consumption, residence and
nationality are remarkably constant. Alcohol intake had no impact on the BMI in this study,
and right-shifts in BMI distributions are associated with low fruit and vegetables consumption,
moderate and low physical activity, short education, being a foreigner or living in the German
speaking part of Switzerland. These conclusions can be drawn from all three models in the
same way. The effects of smoking are less pronounced compared to the effects obtained in our
initial analysis ignoring age and the lifestyle variables (Table 2). Light smokers have reduced
BMIs compared to never smokers, the remaining effects are questionable.
5. Discussion
The core of top-down transformation choice is a family of decreasingly complex, yet fully
comparable, conditional transformation models. Model parameterisation and interpretation in
the family of transformation models are always based on the conditional distribution function
FBMI(y | sex, smoking, age,x) = F (h(y ≤ y | sex, smoking, age,x)).
Unlike most classical models featuring explicit parameters for conditional means or conditional
variances, transformation models describe conditional distributions explicitly and moments
implicitly. What might seem as a disadvantage is in fact, as we hope we could convince
our readers of, a very attractive feature of transformation models for regression analysis. In
our tutorial, we exclusively defined and interpreted models for conditional distributions. The
corresponding distribution functions were used to compare transformation models with the
empirical cumulative distribution function (Figures 2, 3, 4 and 7). The conditional trans-
formation function h was used to assess deviations from normality in Figure 5. Conditional
densities
fBMI(y | sex, smoking, age,x) = F ′BMI(BMI ≤ y | sex, smoking, age,x)
were depicted in Figure 6 and for each terminal node of the transformation tree in Figure 8.
Densities defined the log-likelihood
16,427∑
i=1
wi log(fBMI(yi | sexi, smokingi, agei,xi))
Hothorn 21
based on all 16,427 BMI measurements yi with sampling weights wi. Conditional quantile
functions
QBMI(p | sex, smoking, age,x) = F−1BMI(p | sex, smoking, age,x)
helped to visualise age-effects in Figures 10, 11, and 12. Effect measures for sex, smoking,
and lifestyle variables in Tables 2 and 3 were obtained as ratios of conditional odds functions
OBMI(y | sex, smoking, age,x) =
FBMI(y | sex, smoking, age,x)
1− FBMI(y | sex, smoking, age,x)
.
Varying model complexity only affects the flexibility of these functions characterising condi-
tional distributions, but not the corresponding interpretations.
A unique feature of conditional transformation models is the ability to formulate, estimate,
compare, evaluate, interpret and understand models seemingly as far apart as a normal linear
model with constant variance and a transformation forest in the same theoretical framework.
Straightforward answers to some questions that have plagued data analysis for decades, for
example “Is it appropriate to assume normal errors?” or “How should the response be trans-
formed prior to analysis?”, are easily available from conditional transformation models.
One practically interesting question relates to the impact of the order M of the Bernstein
polynomial aBs,M (y)
>ϑ. The choice M = 1 implements a linear function and with F = Φ
we obtain conditional normal distributions. For M → ∞, aBs,M (y)>ϑ converges uniformly
to the true and unknown transformation function h(y) in a model P(Y ≤ y) = F (h(y)).
Because h is a monotone function, too-erratic behaviour cannot occur, even for very large
M and overfitting is not an issue (see Hothorn 2017b, for numerical examples). For our
model (3), increasing the order from M = 5 to M = 10 lead to a very small increase in
the log-likelihood from −43564.30 to −43547.16. In the extreme case of very large M , the
conditional distribution function FaBs,M (y)
>ϑ closely interpolates the empirical cumulative
distribution function. The latter estimator is consistent as is the transformation model.
This tutorial did not address any issue regarding model estimation or model inference. Details
about maximum likelihood estimation in conditional transformation models can be found in
Hothorn et al. (2017). Locally adaptive maximum likelihood estimation for transformation
trees and transformation forests was introduced in Hothorn and Zeileis (2017). More elab-
orate discussions on model parameterisation in conditional transformation models and on
connections to other models can be found in Hothorn et al. (2014) and Hothorn et al. (2017).
Applications of conditional transformation models can be found in Hothorn et al. (2013),
Möst et al. (2014), and Möst and Hothorn (2015). An introduction to the mlt add-on package
(Hothorn 2017a) for maximum likelihood estimation in conditional transformation models,
including models for ordinal or censored and truncated responses, is available in Hothorn
(2017b).
Acknowledgements
I want to thank the students participating in the course “STA660 Advanced R Programming”
I taught in the spring semester 2017 for producing the code underlying Figure 8 as part of
their homework assignments.
22 Top-Down Transformation Choice
Table 3: Transformation Models (7–9). Odds ratios with 95% confidence intervals. Values
larger than one indicate a shift of the BMI distribution to the right (compared to the baseline
category or a one-unit increase in a numeric variable).
Model (7) Model (8) Model (9)
Smoking (Females)
Never 1 1 1
Former 1.04 (0.95–1.15) 1.06 (0.96–1.16) 1.06 (0.96–1.16)
Light 0.81 (0.70–0.92) 0.81 (0.71–0.93) 0.81 (0.71–0.93)
Medium 0.92 (0.80–1.06) 0.94 (0.82–1.08) 0.94 (0.82–1.08)
Heavy 0.91 (0.76–1.09) 0.93 (0.78–1.12) 0.94 (0.78–1.12)
Smoking (Males)
Never 1 1 1
Former 1.44 (1.31–1.59) 1.47 (1.33–1.62) 1.47 (1.33–1.61)
Light 1.02 (0.88–1.17) 1.01 (0.88–1.16) 1.01 (0.88–1.16)
Medium 0.87 (0.76–1.00) 0.90 (0.79–1.03) 0.91 (0.79–1.04)
Heavy 1.13 (0.99–1.30) 1.21 (1.06–1.39) 1.22 (1.07–1.40)
Alcohol intake (g/d) 1.00 (1.00–1.00) 1.00 (1.00–1.00) 1.00 (1.00–1.00)
Fruit and vegetables
High 1 1 1
Low 1.07 (1.01–1.13) 1.08 (1.02–1.14) 1.08 (1.02–1.14)
Physical activity
High 1 1 1
Moderate 1.11 (1.04–1.19) 1.15 (1.08–1.23) 1.16 (1.08–1.23)
Low 1.25 (1.16–1.34) 1.30 (1.21–1.40) 1.30 (1.21–1.40)
Education
Mandatory (I) 1 1 1
Secondary (II) 0.72 (0.66–0.79) 0.79 (0.73–0.87) 0.80 (0.73–0.87)
Tertiary (III) 0.48 (0.43–0.52) 0.56 (0.51–0.61) 0.56 (0.51–0.62)
Nationality
Swiss 1 1 1
Foreign 1.17 (1.09–1.25) 1.23 (1.15–1.31) 1.24 (1.16–1.32)
Region
German speaking 1 1 1
French speaking 0.89 (0.83–0.94) 0.88 (0.83–0.94) 0.88 (0.83–0.94)
Italian speaking 0.81 (0.72–0.93) 0.81 (0.71–0.92) 0.81 (0.71–0.92)
Hothorn 23
References
Breiman L (2001). “Random Forests.” Machine Learning, 45(1), 5–32.
doi:10.1023/A:1010933404324.
Bundesamt für Statistik (2013). Die Schweizerische Gesundheitsbefragung 2012 in Kürze –
Konzept, Methode, Durchführung. Bern. URL http://www.bfs.admin.ch.
Chernozhukov V, Fernández-Val I, Melly B (2013). “Inference on Counterfactual Distribu-
tions.” Econometrica, 81(6), 2205–2268. doi:10.3982/ECTA10582.
Fahrmeir L, Kneib T, Lang S, Marx B (2013). Regression. Models, Methods and Applications.
Springer-Verlag, New York, U.S.A.
Farouki RT (2012). “The Bernstein Polynomial Basis: A Centennial Retrospective.” Computer
Aided Geometric Design, 29(6), 379–419. doi:10.1016/j.cagd.2012.03.001.
Hothorn T (2017a). mlt: Most Likely Transformations. R package version 0.2-0, URL https:
//CRAN.R-project.org/package=mlt.
Hothorn T (2017b). Most Likely Transformations: The mlt Package. R package vignette
version 0.2-0, URL https://CRAN.R-project.org/package=mlt.docreg.
Hothorn T, Kneib T, Bühlmann P (2013). “Conditional Transformation Models by Example.”
In VMR Muggeo, V Capursi, G Boscaino, G Lovison (eds.), “Proceedings of the 28th
International Workshop on Statistical Modelling,” pp. 15–26. Universitá Degli Studi Di
Palermo. ISBN 978-88-96251-47-8.
Hothorn T, Kneib T, Bühlmann P (2014). “Conditional Transformation Models.” Jour-
nal of the Royal Statistical Society: Series B (Statistical Methodology), 76(1), 3–27.
doi:10.1111/rssb.12017.
Hothorn T, Möst L, Bühlmann P (2017). “Most Likely Transformations.” Scandinavian
Journal of Statistics. Accepted 2017-06-19, URL https://arxiv.org/abs/1508.06749.
Hothorn T, Zeileis A (2017). “Transformation Forests.” Technical report, arXiv 1701.02110.
URL https://arxiv.org/abs/1701.02110.
Lohse T, Rohrmann S, Faeh D, Hothorn T (2017). Continuous Outcome Logistic Regression
for Analyzing Body Mass Index Distributions. Unpublished manuscript.
Möst L, Hothorn T (2015). “Conditional Transformation Models for Survivor Function Esti-
mation.” International Journal of Biostatistics. doi:10.1515/ijb-2014-0006.
Möst L, Schmid M, Faschingbauer F, Hothorn T (2014). “Predicting Birth Weight with
Conditionally Linear Transformation Models.” Statistical Methods in Medical Research.
doi:10.1177/0962280214532745.
R Core Team (2017). R: A Language and Environment for Statistical Computing. R Foun-
dation for Statistical Computing, Vienna, Austria. URL http://www.R-project.org/.
24 Top-Down Transformation Choice
UNESCO Institute for Statistics (2012). International Standard Classification of Education
– ISCED 2011. Montreal. URL http://www.uis.unesco.org/Education/Documents/
isced-2011-en.pdf.
Affiliation:
Torsten Hothorn
Institut für Epidemiologie, Biostatistik und Prävention
Universität Zürich
Hirschengraben 84, CH-8001 Zürich, Switzerland
Torsten.Hothorn@uzh.ch

