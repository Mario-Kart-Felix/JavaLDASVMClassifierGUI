ar
X
iv
:1
70
6.
09
00
7v
1 
 [
cs
.A
I]
  2
7 
Ju
n 
20
17
Strategyproof Mechanisms for Additively
Separable Hedonic Games and Fractional
Hedonic Games
Michele Flammini1, Gianpiero Monaco2, and Qiang Zhang3
1Gran Sasso Science Institute, and University of L’Aquila, Italy,
michele.flammini@univaq.it
2University of L’Aquila, Italy, gianpiero.monaco@univaq.it
3University of Warsaw, Poland, csqzhang@gmail.com
Abstract
Additively separable hedonic games and fractional hedonic games have re-
ceived considerable attention. They are coalition forming games of selfish agents
based on their mutual preferences. Most of the work in the literature characterizes
the existence and structure of stable outcomes (i.e., partitions in coalitions), assum-
ing that preferences are given. However, there is little discussion on this assump-
tion. In fact, agents receive different utilities if they belong to different partitions,
and thus it is natural for them to declare their preferences strategically in order
to maximize their benefit. In this paper we consider strategyproof mechanisms
for additively separable hedonic games and fractional hedonic games, that is, par-
titioning methods without payments such that utility maximizing agents have no
incentive to lie about their true preferences. We focus on social welfare maximiza-
tion and provide several lower and upper bounds on the performance achievable by
strategyproof mechanisms for general and specific additive functions. In most of
the cases we provide tight or asymptotically tight results. All our mechanisms are
simple and can be computed in polynomial time. Moreover, all the lower bounds
are unconditional, that is, they do not rely on any computational or complexity
assumptions.
1 Introduction
Teamwork, clustering and group formations, have been important and widely inves-
tigated issues in computer science research. In many economic, social and political
situations, individuals carry out activities in groups rather than by themselves. In these
scenarios, it is of crucial importance to consider the satisfaction of the members of the
groups. For example, the utility of an individual in a group sharing a resource, depends
both, on the consumption level of the resource, and on the identity of the members in
1
the group; similarly, the utility for a party belonging to a political coalition depends
both, on the party trait, and on the identity of its members.
Hedonic games, introduced in [17], model the formation of coalitions (groups) of
players (or agents). They are games in which agents have preferences over the set of
all possible agent coalitions, and the utility of an agent depends on the composition of
the cluster she belongs to.
In this paper we consider additively separable hedonic games (ASHGs), which
constitute a natural and succinctly representable class of hedonic games. Each player
in an ASHG has a value for any other player, and the utility of a coalition to a particular
player is simply the sum of the values she assigns to the members of her coalition. Ad-
ditive separability satisfies a number of desirable axiomatic properties [3] and ASHGs
are the non-transferable utility generalization of graph games studied by Deng and Pa-
padimitriou [16]. We further consider fractional hedonic games (FHGs), introduced in
[2], which are similar to ASHGs, with the difference that the utility of each agent is
divided by the size of her cluster. This allows to model behavioral dynamics in social
environments that are not captured by ASHGs: one usually prefers having a couple
of good friends in a cluster composed by few other people rather than being part of a
crowded cluster populated by uninteresting agents.
Coalition formation in ASHGs and FHGs, has received growing attention, but
mainly from the perspective of coalition stability, i.e., core, Nash equilibria, etc, or
from a classical offline optimization point of view, i.e., where solutions are not nec-
essarily stable (see Related Work), with little emphasis on mechanism design. We
consider such games where agents have private preferences. A major challenge is to
design algorithms that work well even when the input is reported by selfish agents aim-
ing only at maximizing their personal utility. An interesting approach is to use strate-
gyproof mechanisms [18, 26], that is designing algorithms (not using payments) where
selfish utility maximizing agents have no incentive to lie about their true preferences.
Our Contribution.
We present strategyproof mechanisms for ASHGs and FHGs, both for general and
specific additive valuation functions. In particular, we consider: i) general valuations
where additive valuations among agents can get any values; ii) non-negative valuations
where additive valuations among agents can only get positive values; iii) duplex valu-
ations where additive valuations among agents can only get values in {−1, 0, 1} (we
can think about setting where each agent i can express for any other agent j if she is
an enemy, neutral or a friend); iv) simple valuations where additive valuations among
agents can only get values in {0, 1} (we can think about setting where each agent i can
express for any other agent j if she is neutral or a friend). The latter setting has been
also considered in other papers since it models a basic economic scenario referred to
in the literature as Bakers and Millers [2, 10]. See Section 2 for more details about the
considered valuations.
We focus on the classical utilitarian social welfare, that is the sum of individual
utilities of the players in a coalition, and provide several lower and upper bounds on
the performance achievable by strategyproof mechanisms.
We are mainly interested in deterministic mechanisms, however we also provide
some randomized lower bounds (notice that randomized lower bounds are stronger
than deterministic ones). Our results are summarized in Table 1. In most of the cases
2
(except the case of duplex valuations) we provide tight or asymptotically tight results.
We point out that, on the one hand, all our mechanisms are simple and can be
computed in polynomial time. On the other hand, all the lower bounds (some of them
randomized) are unconditional, that is, they do not rely on any computational or com-
plexity assumptions.
Related Work.
In the literature, a significant stream of research considered hedonic games (see
[5]), and in particular ASHGs, from a strategic cooperative point of view [7, 12, 20],
with the purpose of characterizing the existence and the properties of coalitions struc-
tures such as the core, and from a non-cooperative point of view [11, 21] with special
focus on pure Nash equilibria. Computational complexity issues related to the problem
of computing stable outcomes have been considered in [3, 22, 24, 25, 29]. Finally,
hedonic games have also been considered in [6, 8, 14, 15, 16] from a classical opti-
mization point of view, i.e., where solutions are not necessarily stable. Concerning
FHGs, Aziz et al. [2], give some properties guaranteeing the (non-)existence of the
core. Moreover, Brandl et al. [13], study the computational complexity of understand-
ing the existence of core and individual stable outcomes. From a non cooperative point
of view, the papers [9, 10], study the existence, efficiency and computational com-
plexity of Nash equilibria. Other stability notions have been also investigated, like in
[1, 19], where the authors focused on Pareto stability. Finally, Aziz et al. [4], con-
sider the computational complexity of computing welfare maximizing partitions (not
necessarily stable).
The design of truthful mechanisms, that is of algorithms that use payments to con-
vince the selfish agents to reveal the truth and that then compute the outcome on the
basis of their reported values, has been studied in innumerable scenarios. However,
there are settings where monetary transfers are not feasible, because of either ethical
or legal issues [23], or practical matters in enforcing and collecting payments [26]. A
growing stream of research focuses on the design of the more applicable strategyproof
mechanisms, that lead agents to report their true preferences, without using payments.
Wright et al. [30] focus on strategyproof mechanisms for ASHGs. They only
consider positive preferences. Under this assumption, a trivial optimal strategyproof
mechanism just puts all the agents in the same grand coalition. Therefore, they consider
coalition size constraints and (approximate) envy-freeness. Their main contribution is a
mechanism that, despite not having theoretical guarantees, achieves good experimental
performance.
Vallée et al. [28] consider classical hedonic games with general preference re-
lationships, and characterize the conditions of the game structure that allow rational
false-name manipulations. However, they do not provide mechanisms. Aziz et al. [1]
show that the serial dictatorship mechanism is Pareto optimal, and strategyproof for
general hedonic games when appropriate restrictions are imposed on agents. Finally,
Rodrı́guez-Álvarez [27], studies strategyproof core stable solutions properties for he-
donic games.
Paper organization. The paper is organized as follows. In Section 2, we formally
describe the problems and introduce some useful definitions. The studies on the per-
formance of strategyproof mechanisms are then presented in Section 3, 4, 5, and 6,
which address, respectively, general, non-negative, duplex and simple valuations. Fi-
3
nally, in Section 7, we resume our results and list some interesting open problems.
[-1,1] [0,1] {-1,0,1} {0,1}
ASHGs
L. B.
Unbounded∗ OPT
Ω(n), 2− ǫ∗
OPT
U. B. O(n2)
FHGs
L. B.
Unbounded∗
n
2 2− ǫ
6
5
U. B. n2 O(n) 2
Table 1: Our results for the different cases. * stands for randomized mechanisms. L.
B. stands for lower bounds. U. B. stands for upper bounds.
2 Preliminaries
In additive separable hedonic games (ASHGs) and fractional hedonic games (FHGs),
we are given a set N = {1, . . . , n} of selfish agents. The objective or outcome of the
game is a partition of the agents into disjoint coalitions C = {C1, C2, . . .}, where each
coalition Cj is a subset of agents and each agent is in exactly one coalition. Let C
be the collection of all the possible outcomes. Given a partition C ∈ C , we denote
by |C| the number of its coalitions and by Ci the coalition of C containing agent i.
Similarly, given a coalition C, we let |C| be the size or number of agents in C. The
grand coalition is the outcome in which all the agents are in the same coalition, i.e.,
|C| = 1. We assume that each agent has a privately known valuation vi : N → R,
mapping every agent to a real (possibly negative) value. In ASHGs, for any C ∈ C , the
preference or utility of agent i is ui(C) =
∑
j∈Ci vi(j), that is, it is additively induced
by her valuation function. Similarly, in FHGs, for any C ∈ C , the utility of agent i is
ui(C) =
∑
j∈Ci
vi(j)
|Ci| .
We are interested in four basic classes of valuation functions. Namely, for any pair
of agents i, j ∈ N , we consider: General valuations: vi(j) ∈ [−1, 1]; Non-negative
valuations: vi(j) ∈ [0, 1]; Duplex valuations: vi(j) ∈ {−1, 0, 1}; Simple valuations:
vi(j) ∈ {0, 1}. In every case, we assume that vi(i) = 0, for every i ∈ N . Notice that
any valuation function can be represented by using values in the range [−1, 1].
Agents are self-interested entities. Thus, they may strategically misreport their
valuation functions in order to maximize their utilities. Let d denote the preferences
(valuation functions) declared by all the agents.
A deterministic mechanism M maps every set (or list) of preferences d to a set of
disjoint coalitions M(d) ∈ C . We denote by Mi(d) the coalition assigned to agent i
by M. The utility of agent i is given by ui(M(d)). Let d−i be the valuation functions
declared by all agents except agent i and di be a possible declaration of valuation func-
tion by i. A deterministic mechanism M is strategyproof if for any i ∈ N , any list of
preferences d−i, any vi and any di, it holds that ui(M(d−i, vi)) ≥ ui(M(d−i, di)).
In other words, a strategyproof mechanism prevents any agent i from benefiting by
declaring a valuation different from vi, whatever the other declared valuations are.
A randomized mechanism M maps every set of agents’ preferences d to a distri-
bution ∆ over the set of all the possible outcomes C . The expected utility of agent
4
i is given by E[ui(M(d))] = EC∼∆[ui(C)]. A randomized mechanism M is strate-
gyproof (in expectation) if for any i ∈ N , any preferences d−i, any vi and any di,
E[ui(M(d−i, vi))] ≥ E[ui(M(d−i, di))].
In this paper, we are interested in strategyproof mechanisms that perform well with
respect to the goal of maximizing the classical utilitarian social welfare, that is, the sum
of the utilities achieved by all the agents. Namely, the social welfare of a given out-
come C is SW (C) =
∑
i∈N ui(C). We denote by SW (C) =
∑
i∈C ui(C) the overall
social welfare achieved by the agents belonging to a given coalition C. We measure
the performance of a mechanism by comparing the social welfare it achieves with the
optimal one. More precisely, the approximation ratio of a deterministic mechanism M
is defined as rM = supd
OPT(d)
SW (M(d)) , where OPT(d) is the social welfare achieved by
an optimal set of coalitions in the instance induced by d. For randomized mechanisms,
the approximation ratio is computed with respect to the expected social welfare, that is
rM = supd
OPT(d)
E[SW (M(d))] .
We say that a deterministic mechanism M is acceptable if it always guarantees
a non negative social welfare, i.e., SW (M(d)) ≥ 0 for any possible list of prefer-
ences d. Similarly, a randomized mechanism M is acceptable if E[SW (M(d))] ≥ 0
holds for every d. In the following, we will always implicitly restrict to acceptable
mechanisms. In fact, a simple acceptable strategyproof mechanism for all the consid-
ered classes of valuations can be trivially obtained by putting every agent in a separate
singleton coalition, regardless of all the declared valuations.
Graph representation. ASHGs and FHGs have a very intuitive graph representation.
In fact, any instance of the games can be expressed by a weighted directed graph G =
(V,E), where nodes in V represent the agents, and arcs or directed edges are associated
to non null valuations. Namely, if vi(j) 6= 0, an arc (i, j) is contained in E of weight
w(i, j) = vi(j). As an example, in case of simple valuations, if (i, j) /∈ E then
vi(j) = 0, while if (i, j) ∈ E then w(i, j) = vi(j) = 1.
Throughout the paper we will sometimes describe an instance of the considered
game by its graph representation. In the following sections, we provide our results for
all of the four considered classes of valuation functions.
3 General valuations
In this section, we consider the setting where agents have general valuations. We are
able to prove that there is no randomized strategyproof mechanism with bounded ap-
proximation ratio both for ASHGs and FHGs. Clearly, the theorem applies also to
deterministic mechanisms, since they are special cases of randomized ones.
Theorem 1. For general valuation functions, there is no randomized strategyproof
acceptable mechanism with bounded approximation ratio both for ASHGs and FHGs.
Proof. We prove the claim only for ASHGs. However, the same arguments directly
apply also to FHGs.
Let M be a given randomized strategyproof mechanism. Provided that M is
strategyproof, we implicitly assume that the agents’ declared preferences d corre-
spond to the true valuation functions. Let us then consider the instance I1 depicted
5
1 2 3ǫ −1
0.9
(a) Instance I1
1 2 3ǫ −ǫ
0.9
(b) Instance I2
Figure 1: The lower bound instance for general valuations.
in Figure 1a, and let p be the probability that M returns an outcome for I1 where
agents 2 and 3 are together in the same coalition. Then, the expected social welfare
is E[SW (M(d))] ≤ p(ǫ − 0.1) + (1 − p)ǫ = ǫ − 0.1p, while the optimal solution
has social welfare ǫ. Therefore, the randomized mechanism has bounded approxi-
mation ratio only if ǫ − 0.1p > 0, that implies p < 10ǫ. Let us now consider the
instance I2 depicted in Figure 1b, and let q be the probability that mechanism M re-
turns an outcome where agents 2 and 3 are together in the same coalition. Then the
expected social welfare is E[SW (M(d))] ≤ 0.9q + (1 − q)ǫ. We notice that M can
be strategyproof only if p ≥ q, otherwise agent 2 could improve her utility by declar-
ing value −1 for agent 3, since in such a case she would get utility −pǫ > −qǫ. The
optimal solution of instance I2 has value 0.9. Thus, the approximation ratio of M is
OPT(d)
E[SW (M(d))] ≥
0.9
0.9q+(1−q)ǫ ≥
0.9
0.9q+ǫ ≥
0.9
10ǫ . As ǫ can be arbitrarily small, we can
then conclude that M has an unbounded approximation ratio. The claim then follows
by the arbitrariness of M.
4 Non-negative valuations
In this section, we consider the setting where agents have non-negative valuations. Let
us first present a simple optimal mechanism for non-negative valuations in ASHGs.
Mechanism M1. Given as input a list of agents’ valuations d = 〈d1, ..., dn〉, the
mechanism outputs the grand coalition, i.e. M(d) = {{1, . . . , n}}.
It is trivial to see that, in ASHGs with non-negative valuations, the above mecha-
nism M1 is acceptable, strategyproof, and achieves the optimal social welfare. There-
fore, we now focus on FHGs. We are able to show that any deterministic strategyproof
mechanism cannot have an approximation better than n2 .
Theorem 2. For FHGs with non-negative valuations, no deterministic strategyproof
acceptable mechanism can achieve approximation ratio r, with r < n2 .
Proof. Assume 1
n
≫ α ≫ β. Let us consider the instance I1 with an even number n
of agents, where the valuation functions are as follows:
• for any i = 1, 3, . . . , n− 1, vi(j) = α if j = i+ 1 and vi(j) = 0 otherwise;
• for any i = 2, 4, . . . , n− 2, vi(j) = β if j = i+ 1 and vi(j) = 0 otherwise;
• vn(1) = β and vn(j) = 0 for any j 6= 1.
6
1
2
3
4
α
βα
β
(a) Instance I1
1
2
3
4
α
βα
1
(b) Instance I2
Figure 2: The lower bound instances for non-negative valuations with 4 agents.
The optimal outcome is given by the set of coalitions C = {C1, C2,
. . . , Cn
2
}, where Cj = {2j − 1, 2j} for any j = 1, . . . ,
n
2 , and achieves social welfare
n
4α. We now show that any deterministic strategyproof mechanism with an approxi-
mation ratio lower than n2 has to output the grand coalition. In fact, the grand coalition
has social welfare α+β2 , which has approximation ratio tending to
n
2 when β/α tends to
0, thus proving the claim. Assume then that a deterministic strategyproof mechanism
M with approximation ratio strictly less than n2 outputs an outcome different from the
grand coalition. In this case, there must be at least one agent k having null utility. But
then k might improve her utility by declaring vk(k + 1) = 1, as in this case M, since
α ≪ 1
n
, in order to achieve approximation less than n2 must give an outcome in which
agents k and k + 1 are in the same coalition. Hence, agent k improves her utility by
declaring vk(k + 1) = 1. Therefore M for the instance I1 has to output the grand
coalition, thus proving the theorem.
Given the above result, it is easy to show that, returning the grand coalition is the
best we can do.
Proposition 1. For FHGs with non-negative valuations, Mechanism M1 is a deter-
ministic strategyproof acceptable mechanism with approximation ratio n2 .
Proof. As valuations are non-negative and Mechanism M1 always outputs the grand
coalition, the mechanism is clearly acceptable and strategyproof. Let us now focus on
its approximation ratio for the social welfare. Notice that, given any d, then OPT(d) ≤∑
i∈N
∑
j∈N vi(j)
2 . This is because any coalition in the optimal coalitions with positive
social welfare consists of at least two agents. Otherwise, the coalition has zero social
welfare since vi(i) = 0 for any i ∈ N . On the other hand the grand coalition has social
welfare equal to
∑
i∈N
∑
j∈N :
vi(j)
n
. The approximation ratio follows.
5 Duplex valuations
In this section, we consider the setting where agents have duplex valuations. We first
present deterministic lower bounds for ASHGs and FHGs.
Theorem 3. For ASHGs with duplex valuations, no deterministic strategyproof accept-
able mechanism has approximation ratio less than n− 2.
7
Proof. Let us consider the instance I1 depicted in Figure 3a, where the valuations of
the n agents are as follows:
- for i = 1, . . . , n− 2, vi(j) = 1 if j = n− 1 and vi(j) = 0 otherwise;
- vn−1(j) = 1 if j = n and vn−1(j) = −1 otherwise;
- vn(j) = −1 for j = 1, . . . , n− 2 and vn(n− 1) = 0.
n-2
2
1
n-1 n
...
1
-1
1
-1
1
-1
1
-1
-1
-1
(a) Instance I1
n-2
2
1
n-1 n
...
1
1
1
1
-1
-1
-1
(b) Instance I2
Figure 3: The lower bound instance for duplex valuations.
In the optimal outcome agents n − 1 and n are in the same coalition and all other
agents are in different coalitions. The resulting social welfare is 1, and in particular
it is due to agent n − 1 having utility 1. It is easy to see that any mechanism having
bounded approximation has to return the optimal outcome, as any other solution would
have social welfare at most zero. Let us now consider the other instance I2 depicted in
Figure 3b, where agent n − 1 is the only one with a different valuation function with
respect to I1, that is vn−1(n) = 1 and vn−1(j) = 0 for j 6= n. Any strategyproof
mechanism with bounded approximation ratio for I2 has to put agents n − 1 and n in
the same coalition, otherwise n−1 would have null utility and could increase her utility
by declaring her valuation function as it is in instance I1. Moreover, any outcome in
which n − 1 and n are together, independently from the other coalitions, has social
welfare 1. However, the optimal outcome, by putting 1, 2, . . . , n − 1 all together in a
same coalition and agent n alone, achieves social welfare n− 2. This proves the n− 2
lower bound for any deterministic strategyproof mechanism.
Theorem 4. For FHGs with duplex valuations, no deterministic strategyproof accept-
able mechanism can achieve approximation 2− ǫ, for any ǫ > 0.
Proof. The proof is very similar to Theorem 3, but here the optimal solution has value
n−2
n−1 and the best strategyproof acceptable mechanism returns an outcome of social
welfare 12 . It follows that for big value of n, the ratio tends to 2, and thus proving the
theorem.
We are also able to prove the following randomized lower bound.
Theorem 5. For ASHGs with duplex valuations, no randomized strategyproof accept-
able mechanism can achieve approximation 2− ǫ, for any ǫ > 0.
8
Proof. Let us consider the instance I1 depicted in Figure 3a. Let p be the probability
that a randomized mechanism returns the outcome where agents n − 1 and n are to-
gether in the same coalition and all the other agents are alone. Notice that in such a case
agent n− 1 has expected utility equal to p. Let us call rm the outcome of the random-
ized mechanism. Then the expected social welfare in this case is such that E[rm] ≤ p.
Let us now consider the instance I2 depicted in Figure 3b. Let q be the probability that
a randomized mechanism returns an outcome where agents n − 1 and n are together
in the same coalition (possibly with other agents). Notice that the social welfare of
any outcome where agents n − 1 and n are together is always 1, independently from
the coalitions of the other agents are member of. Moreover, notice that in such a case
agent n − 1 has expected utility equal to q. On the other hand, the mechanism with
probability 1 − q put agents n − 1 and n not together in the same coalition. In such
a case, i.e., with probability 1 − q, the social welfare is at most equal to n − 2. Let
us call rm′ the outcome of the randomized mechanism. It turns out that the expected
social welfare in this case is such that E[rm′] ≤ q + (1 − q)(n − 2). We notice that
such mechanism is strategyproof only if q ≥ p. In fact, if p > q, then agent n − 1
can improve her utility by declaring value vn−1(j) = −1, for any j = 1, . . . , n − 2,
and vn−1(n) = 1 (thus reconstructing the instance I1), since in such a case she would
get expected utility p > q. Therefore, the expected social welfare of the mechanism of
I1 is maximized when p = q. We now equalize the expected approximation ratio of
the mechanisms of both instances (where we set p = q), where 1 is the optimal value
for the instance depicted in Figure 3a, and n − 2 is the optimal value for the instance
depicted in Figure 3b.
1
E[rm] =
n−2
E[rm′] =⇒
1
q
= n−2
q+(1−q)(n−2) =⇒ q =
q+(1−q)(n−2)
n−2 =⇒
(q−1)(n−2)
q(3−n) = 1 =⇒ q =
n−2
2n−5 .
It follows that for big value of n, q tends to 12 , and thus proving the theorem.
We now present a deterministic strategyproof acceptable mechanism M2 with ap-
proximation O(n2) for ASHGs and O(n) for FHGs. We doubt the existence of de-
terministic strategyproof acceptable mechanisms with approximation ratio O(n) for
ASHGs and O(1) for FHGs. We provide some discussion supporting it, at the end of
the section. Closing the gap for duplex valuations, is one of the main open problem.
The following definition is crucial for Mechanism M2.
Definition 1. Given d = 〈d1, ..., dn〉 declared by the set of agents N , we say that an
agent i ∈ N is a sink if there is no agent j ∈ N such that di(j) = 1 and dj(i) 6= −1.
The idea of the mechanism is as follows. It considers the agents in an arbitrary
ordering. If the considered agent i has value 1 for some other agent j, such that j
also has value 1 for i, or j is a sink, or j is before i in the ordering, then it returns
agents i and j together in a coalition, and each other agent in a coalition alone. If,
after considering all the agents, the mechanism does not create the coalition with two
agents, then returns each agent in a coalition alone. It follows the formal description of
the mechanism M2.
Mechanism M2. Given any declared valuation d = 〈d1, ..., dn〉, the mechanism per-
forms as follows:
9
1 Consider any ordering of the agents and, for the sake of simplicity, let i be the i-th
agent in such ordering.
2 For i = 1 to n:
a If there exists j ∈ N such that di(j) = 1 ∧ dj(i) = 1: put agents i and j
together into a coalition and any other agent alone, and terminate.
b If there exists j ∈ N such that di(j) = 1 ∧ dj(i) = 0 ∧ j is a sink: put agents i
and j together into a coalition and any other agent alone, and terminate.
c If there exists j ∈ N such that di(j) = 1 ∧ dj(i) = 0 ∧ j < i: put agents i and
j together into a coalition and any other agent alone, and terminate.
3 If no coalition of two agents has been created during the step 2: return each agent in
a coalition on its own.
Theorem 6. For ASHGs and FHGs with duplex valuations, Mechanism M2 is a de-
terministic strategyproof acceptable mechanism. The approximation ratio is O(n2) for
ASHGs with duplex valuations, and O(n) for FHGs with duplex valuations.
Proof. The mechanism M2 returns at most one coalition composed by two agents and
all the other coalitions are composed by one agent alone. Moreover, no agent i is put
together with another agent j in the same coalition if there is a value of −1 between
them, that is if di(j) = −1 or dj(i) = −1. This implies that no agent gets negative
utility in the outcome returned by M2, i.e., M2 is acceptable. More specifically, if a
coalition of two agents is created, then such a coalition has positive (i.e., strictly greater
than zero) social welfare. In particular, in ASHGs every agent gets utility 1 or zero,
while in FHGs 12 or zero. Furthermore notice that, given the valuations declared by
agents, if all the agents are sinks, then the optimal solution has social welfare zero and
also M2 returns the outcome where each agent is in a coalition alone. On the other
hand, if there is at least one agent that is not a sink, then it is not difficult to see that
the optimal solution has positive social welfare. We now prove that, in such a case M2
would return a coalition with two agents together with positive social welfare.
Lemma 7. Given the valuations d = 〈d1, ..., dn〉 declared by agents, if there exists an
agent i that is not a sink, then Mechanism M2 returns an outcome where two agents
are put together in the same coalition, thus yielding positive social welfare.
Proof. First suppose that Mechanism M2 does not consider agent i (line 2). It means
that M2 has created a coalition with two agents before considering i (with at least one
agent of the coalition appearing before i in the ordering). Suppose now that agent i
is considered by M2. Then two scenarios are possible: i) agent i is put together with
another agent, still getting a positive social welfare, or ii) i is put alone. This means
that, for any agent j such that di(j) = 1 and dj(i) 6= −1, agent j is not a sink an she
appears after i in the ordering. Thus we can now consider the agent j as the new one
that is not a sink and apply the same argument as above. Summarizing we have that
at any step s of the mechanism, if a coalition of two agents is not created, then there
exists an agent that is not a sink and that is not considered at step s yet. Therefore a
coalition of two agents will be for sure created by M2 at some step after s.
10
We are now ready to show that Mechanism M2 is strategyproof. The following
argument is valid for both ASHGs and FHGs. The proof relies on the analysis of
different cases.
Assume an agent i gets positive (i.e., greater than zero) utility when she declares her
valuations truthfully. Then, agent i cannot improve her utility by declaring valuations
di 6= vi. In fact getting positive utility, that is utility 1 or
1
2 depending on whether we
consider ASHGs or FHGs respectively, is the best she can obtain.
Assume now that an agent i gets utility zero when she declares her valuations truth-
fully. We show that agent i cannot improve her utility by declaring valuations di 6= vi.
If the agent i is a sink then she has no incentive to lie. In fact, in this case i would
get positive utility only if she is put together an agent j such that di(j) = 1 and
dj(i) = −1. However the outcome returned by Mechanism M2 is such that no agent
gets negative utility. Moreover i has no incentive to declare a value of 1 for some agent
(in order to become not a sink anymore) if the real value is indeed different than 1. It
remains to consider the case where the agent i is not a sink. By Lemma 7 we know
that in this case our mechanism always returns a coalition of two agents. Let us first
suppose that such coalition, that we call Cj,z , is formed by agents j and z together.
If i has not been considered by the mechanism, that is, for instance the coalition Cj,z
has been created while considering agent j that appears before i in the ordering, then
there is nothing that agent i can do in order to get positive utility. Indeed the only thing
that i could do is (mis)-declaring di(j) = 1 (if we suppose that vi(j) 6= 1). In such
a case, if also dj(i) = 1, the mechanism could return the coalition with i and j to-
gether. However agent i would still not get positive utility. If i has been considered by
the mechanism but has not been put in a coalition together with another agent, then it
means that while M2 was considering agent i, for any j such that di(j) = 1, j is not a
sink and j was not considered by the mechanism yet. We notice that j has no incentive
to declare a value of 1 for some agents z if the real value is not 1 (i.e., vj(z) 6= 1). Still
there is nothing that i can do.
Let us finally suppose that the coalition of two agents returned by M2 contains
agent i (but still i gets utility zero). This is only possible if, while mechanism M2 was
considering agent i, it was not able to put i together with another agent and (for the
same reasons as in the previous case), there is nothing that agent i can do to change
it. In fact, agent i could be put together another agent j, that appears after i in the
ordering, when the mechanism considers j. In this case the mechanism could put i
together with j only if dj(i) = 1. However it must be that di(j) 6= 1, otherwise the
mechanism would have put i and j together while considering i, and therefore agent i
still does not get positive utility.
We now show the approximation ratio of the mechanism. If the optimal solution
has social welfare zero, then also our mechanism returns an outcome (i.e., all the agents
alone) with social welfare zero. If the optimal solution has positive social welfare (and
thus there exists an agent that is not a sink), then by Lemma 7, we know that our
mechanism returns an outcome with social welfare at least 1 for ASHGs, and at least 12
for FHGs. The theorem follows by noticing that, any agent can get utility at most n−1
for ASHGs and at most 1 for FHGs.
We point out that, if we consider ASHGs, there exists an instance and an ordering
11
of the agents for that instance, such that the optimal solution has value order of n2,
while M2 puts two agents in a coalition in the last iteration of the loop For. Thus,
even if M2 does not terminate after putting two agents in a coalition, the analysis
cannot be improved. Clearly, M2 could perform more loops For in order to match
more than one pair of agents. However, in such a case we can show that the mech-
anism is not strategyproof anymore. In fact, consider a cycle of 4 nodes with arcs
{(1, 2), (2, 3), (3, 4), (4, 1)}, and all the weights 1. The ordering is 1, 2, 3, 4. If the
mechanism iterates the loop For, it would return in the first iteration agents {4, 1} in a
coalition, and then, in a second iteration of the For, agents {2, 3} together. Notice that
agent 1 has utility zero. However, agent 1 can improve her utility by declaring a further
arc of weight −1 to agent 4. In fact, in this case, in the first iteration the mechanism
would put agents {3, 4} together, and then, in the second one, agents {1, 2}.
6 Simple valuations
Exactly as in the case of non-negative valuations, for ASHGs with simple valuations,
Mechanism M1 is acceptable and strategyproof and it also achieves the optimal social
welfare. Therefore, we focus on FHGs. We first prove that any deterministic strate-
gyproof mechanism cannot approximate better than 65 the social welfare.
Theorem 8. For FHGs with simple valuations, no deterministic strategyproof accept-
able mechanism has approximation ratio less than 65 .
Proof. Let us consider the instance I1 depicted in Figure 4a. The reader can easily
check (by considering all the possible coalitions) that an optimal solution has social
welfare 53 . It is composed by the three coalitions where, two of them contain two con-
secutive agents, and the remaining one contains three consecutive agents. For instance,
an optimal solution could be C1 = {1, 2}, C2 = {3, 4}, C3 = {5, 6, 7}. Notice that
the grand coalition has social welfare 1. Therefore, a mechanism achieving an ap-
proximation better than 53 , has to return more than one coalition. In such a solution
there always exists at least one agent, say agent k, having utility zero. Let us now
consider the instance I2 depicted in Figure 4b, where without loss of generality we
suppose that k = 2. Again the reader can easily check (by considering all the possi-
ble coalitions) that an optimal solution has social welfare 2. Such optimal solution is
C1 = {2, 3, 4}, C2 = {5, 6}, C3 = {1, 7}. Once again the reader can check that any
solution where agents 2 and 3 are not in the same coalition, (i.e., any solution where
agent 2 has utility equal to 0 in the instance I1 ) can achieve a social welfare of at most
5
3 , and therefore an approximation not better than
6
5 . We conclude that any mechanism
achieving an approximation ratio strictly better than 65 , in both instances I1 and I2, is
not strategyproof.
We now show a deterministic strategyproof acceptable mechanism with nearly op-
timal social welfare. Given the preferences declared by the agents d = d1, . . . , dn,
and the associated directed graph representation G = (V,E) (notice that since we are
considering simple valuations, di represents (indeed is) the set of arcs outgoing from
12
1
2
3
4
5
6
7
(a) Instance I1
1
2
3
4
5
6
7
(b) instance I2
Figure 4: The lower bound instance for simple valuations.
node i in G), we construct an undirected weighted graph Ḡ = (V̄ , Ē), where V̄ = V .
There is an (undirected) edge {i, j} ∈ Ē, if (i, j) ∈ E or (j, i) ∈ E. Finally, for each
{i, j} ∈ Ē, we have that the weight w(i, j) = 1 if either (i, j) ∈ E or (j, i) ∈ E, and
w(i, j) = 2 if both (i, j) ∈ E and (j, i) ∈ E (otherwise w(i, j) = 0, i.e., {i, j} /∈ Ē).
A matching m of Ḡ naturally induces an outcome for fractional hedonic games, that
is, any edge {i, j} ∈ m induces the coalition Ci,j = {i, j}, and for any node i not
matched in m we have the coalition Ci = {i}. Notice that the coalitions induced by
the matching are such that each agent can have utility either 12 or 0. It is possible to
show that, finding the maximum weighted matching of Ḡ = (N̄ , Ē), using a consistent
tie-breaking rule, gives a strategyproof mechanism.
The proof of the following lemma is similar to the one proposed in [18], which also
shows that ≺-minimal matching can be found in poly-time.
Lemma 9. Fix a total order ≺ on matchings in the complete graph induced by all the
agents. Let M be the mechanism that, given the input d = 〈d1, . . . , dn〉, finds the ≺-
minimal matching m on Ḡ = (V̄ , Ē), such that
∑
{i,j}∈m w(i, j) is maximized. Then
M is strategyproof.
Proof. Assume for a contradiction that M is not truthful. Then there exists Ē induced
by edges E−i ∪ Ei, and E
′
i (inducing the edges set Ē
′ = Ē−i ∪ Ē′i), violating the
truthfulness. Let m = M(Ē) and m′ = M(Ē′). Agent i has utility zero in the
coalitions induced by m, that is, for any {i, j} ∈ m we have that (i, j) /∈ Ei. Yet agent
i has utility 12 in the coalitions induced by m
′. It means that there exists {i, j} ∈ m′
such that (i, j) ∈ Ei (and then clearly {i, j} ∈ Ē). Moreover since the mechanism
only uses declared edges and agent i has utility 12 in the coalitions induced by m
′, it
follows that there exists {i, j} ∈ m′ such that (i, j) ∈ E′i ∩ Ei. It implies that both m
and m′ are in M(Ē) ∩M(Ē′). Since the mechanism returns the maximum matching
it follows that m and m′ are optimal in both M(Ē) and M(Ē′). Recalling that M
breaks ties consistently, this yields a contradiction, as needed.
Now we prove the approximation ratio of the mechanism. Given an undirected
graph G = (V,E), where w is the edges weight function, we denote by w(E) the sum
of the weights of the edges belonging to E, i.e., w(E) =
∑
{i,j}∈E w(i, j).
13
Theorem 10. The deterministic mechanism outputting the maximum matching as de-
scribed in Lemma 9 is strategyproof and acceptable with approximation ratio of 2.
Proof. Let m be the matching computed by the mechanism and Cm be the coalitions
induced by m. Let C∗ = {C∗1 , . . . , C
∗
p} be optimal coalitions (we do not consider
optimal coalitions having social welfare equal to zero, indeed we can ignore them).
Let m′ = m′1 ∪ . . . ∪m
′
p where m
′
h, 1 ≤ h ≤ p, is a maximum matching in the graph
induced by the vertices of C∗h. Let C
m′ be the coalitions induced by m′. Let Ah be the
vertices matched in m′h and Bh = C
∗
h \Ah. Notice that Bh is a stable set and that |Ah|
is an even number.
Proposition 2. When |Bh| > 0, then for any h = 1, . . . , p, and any edge {i, j} ∈ m
′
h,
we have that
∑
b∈Bh
w(i, b) + w(j, b) ≤ w(i, j)(|Bh|+ 1).
Proof. First notice that, for any b ∈ Bh, it holds that w(i, b) ≤ w(i, j) and w(j, b) ≤
w(i, j), since otherwise we can get a better matching by removing the edge {i, j}
from m′h and adding the new edge having weight strictly greater than w(i, j). We now
distinguish two cases depending on the size of Bh. If |Bh| > 1, then suppose that∑
b∈Bh
w(i, b) + w(j, b) > w(i, j)(|Bh| + 1). It implies there are two distinct edges
{i, b} and {j, b′} for some b, b′ ∈ Bh such that w(i, b) + w(j, b
′) > w(i, j) and then
contradicting the fact that m′h is a maximum matching inC
∗
h. If |Bh| = 1 then the claim
easily follows from the observation that w(i, b) ≤ w(i, j) and w(j, b) ≤ w(i, j).
Let Êh be the set of edges of the graph induced by the vertices of Ah minus the
edges belonging to the matching m′h. Moreover, let w(Êh) =
∑
{i,j}∈Êh
w(i, j).
Proposition 3. For any h = 1, . . . , p, then w(Êh) ≤ w(m
′
h)(|Ah| − 2).
Proof. Assume for a contradiction that w(Êh) > w(m
′
h)(|Ah| − 2). Let us consider
the graph GAh induced by the vertices of Ah and suppose that GAh is complete (if it is
not complete, we can just add edges of weights zero). It is easy to see that all the edges
of such complete graph can be partitioned into |Ah| − 1 different perfect matchings
(recall that |Ah| is an even number). It implies that must exist a perfect matching in
GAh having weight at least equal to
w(Êh)+w(m
′
h)
|Ah|−1
>
w(m′h)(|Ah|−2)+w(m
′
h)
|Ah|−1
= w(m′h)
thus contradicting the fact that m′h is a maximum matching.
Then, when |Bh| > 0, by using propositions 2 and 3, we can bound the social
welfare of C∗h, for any h = 1, . . . , p, as follows:
SW (C∗h) =
=
1
|C∗h|
[
∑
{i,j}∈m′
h
(w(i, j) +
∑
b∈Bh
w(i, b) + w(j, b)) + w(Êh)]
≤
1
|C∗h|
[w(m′h) + w(m
′
h)(|Bh|+ 1) + w(m
′
h)(|Ah| − 2)]
= w(m′h).
14
Similarly, when |Bh| = 0 we can get that SW (C
∗
h) ≤ w(m
′
h). Therefore, overall we
have that SW (C∗) ≤ w(m′). Since it is easy to see that w(m) ≥ w(m′), then we have
that the social welfare of Cm is
SW (Cm) =
w(m)
2
≥
w(m′)
2
≥
SW (C∗)
2
.
We point out that, when dealing with FHGs, it is natural to resort on matchings.
Many papers (for instance [2, 4, 9, 10]) used them. The challenge is how to exploit
their properties, and in this sense we make some steps forward. Indeed, we better ex-
ploit properties of maximum weighted matchings. This is proved by the fact that, our
analysis can be used to improve from the 4-approximation (Theorem 7 of the paper
[4]) of maximum weighted matching for symmetric valuations, i.e., undirected graph,
to a 2-approximation. Another remark is that, our results are not only working for the
approximation of asymmetric FHGs, i.e., directed graphs, but also include the strate-
gyproofness, which was not considered before for FHGs.
We finally notice that, 2 is the best approximation achievable by using matchings,
when dealing with the problem of computing the maximum social welfare in symmetric
fractional hedonic games. In fact, consider a complete graph of n nodes. In the grand
coalition, each node has utility n−1
n
(consider big n), while in a matching, each node
has utility at most 12 .
7 Conclusion and future work
In this paper, we studied strategyproof mechanisms for ASHGs and FHGs, under gen-
eral and specific additive valuation functions. Despite the theoretical interest for spe-
cific valuations, for which we were able to show better bounds with respect to generic
valuations, specific valuations also model realistic scenarios.
Our paper leaves some appealing open problems. First of all, it would be nice to
close the gaps of Table 1, and in particular the gap of deterministic strategyproof mech-
anisms for duplex valuations. Moreover, it is worth to understand whether randomized
strategyproof mechanisms can achieve significantly better performance than determin-
istic ones. It would be also important to understand what happens when valuations are
drawn at random from some distribution (in order to avoid the bad instances), or when
there are size constraints to the coalitions. Finally, another research direction, is that of
considering more general valuation functions than additive ones.
References
[1] H. Aziz, F. Brandt, P. Harrenstein. Pareto optimality in coalition formation.
Games and Economic Behavior, pages 562–581, 2013.
[2] H. Aziz, F. Brandt, P. Harrenstein. Fractional hedonic games. In Proceedings of
the 13th International Conference on Autonomous Agents and Multiagent Systems
(AAMAS), pages 5–12, 2014.
15
[3] H. Aziz, F. Brandt, H.G. Seedig. Stable partitions in additively separable hedo-
nic games. In Proceedings of the Tenth International Conference on Autonomous
Agents and Multiagent Systems (AAMAS), pages 183–190, 2011.
[4] H. Aziz, S. Gaspers, J. Gudmundsson, J. Mestre, H. Täubig. Welfare Maximiza-
tion in Fractional Hedonic Games. In Proceedings of the Twenty-Fourth Interna-
tional Joint Conference on Artificial Intelligence (IJCAI), pages 461–467, 2015.
[5] H. Aziz, R. Savani. Hedonic games. Chapter 15 in: Computational Social Choice.
Cambridge University Press, 2016.
[6] Y. Bachrach, P. Kohli, V. Kolmogorov, M. Zadimoghaddam. Optimal Coalition
Structure Generation in Cooperative Graph Games. Proceedings of the Twenty-
Seventh AAAI Conference on Artificial Intelligence (AAAI), 81–87, 2013.
[7] S. Banerjee, H. Konishi, T. Sönmez. Core in a simple coalition formation game.
Social Choice and Welfare, 18:135–153, 2001.
[8] N. Bansal, A. Blum, S. Chawla. Correlation Clustering. Machine Learning, 56(1-
3): 89–113, 2004.
[9] V. Biló, A. Fanelli, M. Flammini, G. Monaco, L. Moscardelli. Nash Stability in
Fractional Hedonic Games. In Proceedings of the 10th Conference on Web and
Internet Economics (WINE), pages 486–491, 2014.
[10] V. Biló, A. Fanelli, M. Flammini, G. Monaco, L. Moscardelli. On the Price of
Stability of Fractional Hedonic Games. In Proceedings of the 14th International
Conference on Autonomous Agents and Multi-Agent Systems (AAMAS), pages
1239–1247, 2015.
[11] F. Bloch, E. Diamantoudi. Noncooperative formation of coalitions in hedonic
games. International Journal of Game Theory, 40:262–280, 2010.
[12] A. Bogomolnaia, M.O. Jackson. The stability of hedonic coalition structures.
Games and Economic Behavior, 38:201–230, 2002.
[13] F. Brandl, F. Brandt, M. Strobel. Fractional Hedonic Games: Individual and
Group Stability. In Proceedings of the 14th International Conference on Au-
tonomous Agents and Multiagent Systems, (AAMAS), pages 1219–1227, 2015.
[14] M. Charikar, V. Guruswami, A. Wirth. Clustering with qualitative information.
Journal of Computer and System Sciences, 71:360–383, 2005.
[15] E.D. Demaine, D. Emanuel, A. Fiat, N. Immorlica. Correlation clustering in gen-
eral weighted graphs. Theoretical Computer Science, 361:172–187, 2006.
[16] X. Deng, C. H. Papadimitriou. On the Complexity of Cooperative Solution Con-
cepts. Mathematics of Operations Research, 19(2):257–266, 1994.
[17] J.H. Dréze, J. Greenberg. Hedonic coalitions: optimality and stability. Economet-
rica, 48:987–1003, 1980.
16
[18] S. Dughmi, A. Ghosh. Truthful assignment without money. In Proceedings of the
11th ACM Conference on Electronic Commerce (EC), pages 325–334, 2010.
[19] E. Elkind, A. Fanelli, M. Flammini. Price of Pareto Optimality in Hedonic
Games. In Proceedings of The Thirtieth AAAI Conference on Artificial Intelli-
gence (AAAI), pages 475–481, 2016.
[20] E. Elkind, M. Wooldridge. Hedonic coalition nets. In Proceedings of the Eighth
International Conference on Autonomous Agents and Multiagent Systems (AA-
MAS), pages 417–424, 2009.
[21] M. Feldman, L. Lewin-Eytan, J.S. Naor. Hedonic clustering games. ACM Trans-
actions on Parallel Computing, 44:1384–1402, 2015.
[22] M. Gairing, R. Savani. Computing stable outcomes in hedonic games. In Proceed-
ings of the 3rd International Symposium on Algorithmic Game Theory (SAGT),
pages 174–185, 2010.
[23] N. Nisan, T. Roughgarden, E. Tardos, V. Vazirani. Algorithmic game theory.
Cambridge University Press, 2007.
[24] D. Peters. Graphical Hedonic Games of Bounded Treewidth. In Proceedings of
the Thirtieth Conference on Artificial Intelligence (AAAI), pages 586–593, 2016.
[25] D. Peters, E. Elkind. Simple Causes of Complexity in Hedonic Games. In Pro-
ceedings of the Twenty-Fourth International Joint Conference on Artificial Intel-
ligence (IJCAI), pages 25–31, 2015.
[26] A.D. Procaccia, M. Tennenholtz. Approximate mechanism design without money.
In Proceedings of the 10th ACM Conference on Electronic Commerce (EC),
pages 177–186, 2009.
[27] C. Rodrı́guez-Álvarez. Strategy-proof coalition formation. Int. J. Game Theory,
38(3):431–452, 2009.
[28] T. Vallée, G. Bonnet, B. Zanuttini, F. Bourdon. A study of sybil manipulations
in hedonic games. In Proceedings of the thirteenth International conference on
Autonomous Agents and Multi-Agent Systems (AAMAS), pages 21–28, 2014.
[29] G.J. Woeginger. Core Stability in Hedonic Coalition Formation. In Proceedings
of the 39th International Conference on Current Trends in Theory and Practice
of Computer Science (SOFSEM), pages 33–50, 2013.
[30] M. Wright, Y. Vorobeychik. Mechanism Design for Team Formation. In Pro-
ceedings of the Twenty-Ninth Conference on Artificial Intelligence (AAAI), pages
1050–1056, 2015.
17

